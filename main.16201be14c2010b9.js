"use strict";(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[179],{2011:(ft,Ce,V)=>{V.d(Ce,{Dh:()=>he,GT:()=>re,cc:()=>Ae,hO:()=>ze,on:()=>G,pX:()=>se,xv:()=>pe});var u=V(4650),z=V(9260),P=V(2122);ft=V.hmd(ft);const ie=["ngOnDestroy"],se=(De,Ie,Pe,Me={})=>new Proxy(De,{get:(Fe,Te)=>Pe.runOutsideAngular(()=>{var Ge;if(De[Te])return!(null===(Ge=Me?.spy)||void 0===Ge)&&Ge.get&&Me.spy.get(Te,De[Te]),De[Te];if(ie.indexOf(Te)>-1)return()=>{};const X=Ie.toPromise().then(le=>{const ve=le&&le[Te];return"function"==typeof ve?ve.bind(le):ve&&ve.then?ve.then(qe=>Pe.run(()=>qe)):Pe.run(()=>ve)});return new Proxy(()=>{},{get:(le,ve)=>X[ve],apply:(le,ve,qe)=>X.then(He=>{var At;const et=He&&He(...qe);return!(null===(At=Me?.spy)||void 0===At)&&At.apply&&Me.spy.apply(Te,qe,et),et})})})}),re=(De,Ie)=>{Ie.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Me=>{Object.defineProperty(De.prototype,Me,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Me))})})};class ye{constructor(Ie){return Ie}}const he=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function G(De,Ie,Pe){const Fe="object"==typeof Pe&&Pe||{};Fe.name=Fe.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ge=z.Z.apps.filter(X=>X&&X.name===Fe.name)[0]||Ie.runOutsideAngular(()=>z.Z.initializeApp(De,Fe));try{JSON.stringify(De)!==JSON.stringify(Ge.options)&&W("error",`${Ge.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(Ge)}const W=(De,...Ie)=>{(0,u.X6Q)()&&typeof console<"u"&&console[De](...Ie)},Y={provide:ye,useFactory:G,deps:[he,u.R0b,[new u.FiY,pe]]};let ze=(()=>{class De{constructor(Pe){z.Z.registerVersion("angularfire",P.q4.full,"core"),z.Z.registerVersion("angularfire",P.q4.full,"app-compat"),z.Z.registerVersion("angular",u.q4F.full,Pe.toString())}static initializeApp(Pe,Me){return{ngModule:De,providers:[{provide:he,useValue:Pe},{provide:pe,useValue:Me}]}}}return De.\u0275fac=function(Pe){return new(Pe||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[Y]}),De})();function Ae(De,Ie,Pe,Me,Fe){const[,Te,Ge]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===De)||[];if(Te)return function We(De,Ie){try{return De.toString()===Ie.toString()}catch{return De===Ie}}(Fe,Ge)||(ge("error",`${Ie} was already initialized on the ${Pe} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Fe,was:Ge})),Te;{const X=Me();return globalThis.\u0275AngularfireInstanceCache.push([De,X,Fe]),X}}const lt=!!ft.hot,ge=(De,...Ie)=>{(0,u.X6Q)()&&typeof console<"u"&&console[De](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,Ce,V)=>{V.d(Ce,{q4:()=>Lr,iC:()=>Os,fc:()=>Lc,HU:()=>Ti,vb:()=>Mn,JM:()=>at,u3:()=>Ta});var u=V(4650),z=V(259),P=V(5861),ie=V(9681),se=V(2090),re=V(4859),ye=V(1877),he=V(8766);const pe="@firebase/installations",G="0.6.4",W=1e4,Y=`w:${G}`,ze="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",We=36e5,Ie=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function Me({projectId:I}){return`${Ae}/projects/${I}/installations`}function Fe(I){return{token:I.token,requestStatus:2,expiresIn:He(I.expiresIn),creationTime:Date.now()}}function Te(I,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(I,D){const U=(yield D.json()).error;return Ie.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function X({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ve(I){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function He(I){return Number(I.replace("s","000"))}function ae(){return(ae=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:R}){const U=Me(I),Q=X(I),oe=D.getImmediate({optional:!0});if(oe){const Et=yield oe.getHeartbeatsHeader();Et&&Q.append("x-firebase-client",Et)}const rt={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:ze,appId:I.appId,sdkVersion:Y})},ct=yield ve(()=>fetch(U,rt));if(ct.ok){const Et=yield ct.json();return{fid:Et.fid||R,registrationStatus:2,refreshToken:Et.refreshToken,authToken:Fe(Et.authToken)}}throw yield Te("Create Installation",ct)})).apply(this,arguments)}function fe(I){return new Promise(D=>{setTimeout(D,I)})}const ke=/^[cdef][\w-]{21}$/,Ue="";function je(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function tt(I){return function we(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ke.test(R)?R:Ue}catch{return Ue}}function Ye(I){return`${I.appName}!${I.appId}`}const dn=new Map;function wt(I,D){const R=Ye(I);an(R,D),function jn(I,D){const R=function hn(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=I=>{an(I.data.key,I.data.fid)}),_n}();R&&R.postMessage({key:I,fid:D}),function li(){0===dn.size&&_n&&(_n.close(),_n=null)}()}(R,D)}function an(I,D){const R=dn.get(I);if(R)for(const U of R)U(D)}let _n=null;const $i="firebase-installations-database",Gr=1,zn="firebase-installations-store";let _r=null;function yr(){return _r||(_r=(0,he.X3)($i,Gr,{upgrade:(I,D)=>{0===D&&I.createObjectStore(zn)}})),_r}function wn(I,D){return hi.apply(this,arguments)}function hi(){return(hi=(0,P.Z)(function*(I,D){const R=Ye(I),Q=(yield yr()).transaction(zn,"readwrite"),oe=Q.objectStore(zn),Ne=yield oe.get(R);return yield oe.put(D,R),yield Q.done,(!Ne||Ne.fid!==D.fid)&&wt(I,D.fid),D})).apply(this,arguments)}function ot(I){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(I){const D=Ye(I),U=(yield yr()).transaction(zn,"readwrite");yield U.objectStore(zn).delete(D),yield U.done})).apply(this,arguments)}function xi(I,D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,P.Z)(function*(I,D){const R=Ye(I),Q=(yield yr()).transaction(zn,"readwrite"),oe=Q.objectStore(zn),Ne=yield oe.get(R),rt=D(Ne);return void 0===rt?yield oe.delete(R):yield oe.put(rt,R),yield Q.done,rt&&(!Ne||Ne.fid!==rt.fid)&&wt(I,rt.fid),rt})).apply(this,arguments)}function $n(I){return rr.apply(this,arguments)}function rr(){return rr=(0,P.Z)(function*(I){let D;const R=yield xi(I.appConfig,U=>{const Q=function Lt(I){return ci(I||{fid:je(),registrationStatus:0})}(U),oe=function gt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ie.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function Nt(I,D){return Cn.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Pn(I)}:{installationEntry:D}}(I,Q);return D=oe.registrationPromise,oe.installationEntry});return R.fid===Ue?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}}),rr.apply(this,arguments)}function Cn(){return Cn=(0,P.Z)(function*(I,D){try{const R=yield function et(I,D){return ae.apply(this,arguments)}(I,D);return wn(I.appConfig,R)}catch(R){throw Pe(R)&&409===R.customData.serverCode?yield ot(I.appConfig):yield wn(I.appConfig,{fid:D.fid,registrationStatus:0}),R}}),Cn.apply(this,arguments)}function Pn(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(I){let D=yield Ei(I.appConfig);for(;1===D.registrationStatus;)yield fe(100),D=yield Ei(I.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield $n(I);return U||R}return D})).apply(this,arguments)}function Ei(I){return xi(I,D=>{if(!D)throw Ie.create("installation-not-found");return ci(D)})}function ci(I){return function Ar(I){return 1===I.registrationStatus&&I.registrationTime+W<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Mr(){return(Mr=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:D},R){const U=function Jt(I,{fid:D}){return`${Me(I)}/${D}/authTokens:generate`}(I,R),Q=function le(I,{refreshToken:D}){const R=X(I);return R.append("Authorization",function At(I){return`${ze} ${I}`}(D)),R}(I,R),oe=D.getImmediate({optional:!0});if(oe){const Et=yield oe.getHeartbeatsHeader();Et&&Q.append("x-firebase-client",Et)}const rt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Y,appId:I.appId}})},ct=yield ve(()=>fetch(U,rt));if(ct.ok)return Fe(yield ct.json());throw yield Te("Generate Auth Token",ct)})).apply(this,arguments)}function Hi(I){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,P.Z)(function*(I,D=!1){let R;const U=yield xi(I.appConfig,oe=>{if(!rn(oe))throw Ie.create("not-registered");const Ne=oe.authToken;if(!D&&function Gn(I){return 2===I.requestStatus&&!function H(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+We}(I)}(Ne))return oe;if(1===Ne.requestStatus)return R=function $e(I,D){return Ee.apply(this,arguments)}(I,D),oe;{if(!navigator.onLine)throw Ie.create("app-offline");const rt=function $(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(oe);return R=function xt(I,D){return Ot.apply(this,arguments)}(I,rt),rt}});return R?yield R:U.authToken}),Hn.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(I,D){let R=yield it(I.appConfig);for(;1===R.authToken.requestStatus;)yield fe(100),R=yield it(I.appConfig);const U=R.authToken;return 0===U.requestStatus?Hi(I,D):U})).apply(this,arguments)}function it(I){return xi(I,D=>{if(!rn(D))throw Ie.create("not-registered");return function F(I){return 1===I.requestStatus&&I.requestTime+W<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ot(){return Ot=(0,P.Z)(function*(I,D){try{const R=yield function Gt(I,D){return Mr.apply(this,arguments)}(I,D),U=Object.assign(Object.assign({},D),{authToken:R});return yield wn(I.appConfig,U),R}catch(R){if(!Pe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield wn(I.appConfig,U)}else yield ot(I.appConfig);throw R}}),Ot.apply(this,arguments)}function rn(I){return void 0!==I&&2===I.registrationStatus}function k(){return(k=(0,P.Z)(function*(I){const D=I,{installationEntry:R,registrationPromise:U}=yield $n(D);return U?U.catch(console.error):Hi(D).catch(console.error),R.fid})).apply(this,arguments)}function ue(){return ue=(0,P.Z)(function*(I,D=!1){const R=I;return yield function st(I){return Tt.apply(this,arguments)}(R),(yield Hi(R,D)).token}),ue.apply(this,arguments)}function Tt(){return(Tt=(0,P.Z)(function*(I){const{registrationPromise:D}=yield $n(I);D&&(yield D)})).apply(this,arguments)}function tc(I){return Ie.create("missing-app-config-values",{valueName:I})}const nl="installations",na=I=>{const D=I.getProvider("app").getImmediate(),R=function tl(I){if(!I||!I.options)throw tc("App Configuration");if(!I.name)throw tc("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!I.options[R])throw tc(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},nc=I=>{const D=I.getProvider("app").getImmediate(),R=(0,ie._getProvider)(D,nl).getImmediate();return{getId:()=>function L(I){return k.apply(this,arguments)}(R),getToken:Q=>function J(I){return ue.apply(this,arguments)}(R,Q)}};(function ic(){(0,ie._registerComponent)(new re.wA(nl,na,"PUBLIC")),(0,ie._registerComponent)(new re.wA("installations-internal",nc,"PRIVATE"))})(),(0,ie.registerVersion)(pe,G),(0,ie.registerVersion)(pe,G,"esm2017");const cn="@firebase/remote-config",Ci=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lo{constructor(D,R,U,Q){this.client=D,this.storage=R,this.storageCache=U,this.logger=Q}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,Q=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Q}.`),Q}fetch(D){var R=this;return(0,P.Z)(function*(){const[U,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(D.cacheMaxAgeMillis,U))return Q;D.eTag=Q&&Q.eTag;const oe=yield R.client.fetch(D),Ne=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ne.push(R.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ne),oe})()}}function qr(I=navigator){return I.languages&&I.languages[0]||I.language}class Jn{constructor(D,R,U,Q,oe,Ne){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=U,this.projectId=Q,this.apiKey=oe,this.appId=Ne}fetch(D){var R=this;return(0,P.Z)(function*(){const[U,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ct={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:R.appId,language_code:qr()},Et={method:"POST",headers:rt,body:JSON.stringify(ct)},Yt=fetch(Ne,Et),It=new Promise((ti,bn)=>{D.signal.addEventListener(()=>{const ks=new Error("The operation was aborted.");ks.name="AbortError",bn(ks)})});let Ui;try{yield Promise.race([Yt,It]),Ui=yield Yt}catch(ti){let bn="fetch-client-network";throw"AbortError"===ti?.name&&(bn="fetch-timeout"),Ci.create(bn,{originalErrorMessage:ti?.message})}let Si=Ui.status;const Qi=Ui.headers.get("ETag")||void 0;let Go,lr;if(200===Ui.status){let ti;try{ti=yield Ui.json()}catch(bn){throw Ci.create("fetch-client-parse",{originalErrorMessage:bn?.message})}Go=ti.entries,lr=ti.state}if("INSTANCE_STATE_UNSPECIFIED"===lr?Si=500:"NO_CHANGE"===lr?Si=304:("NO_TEMPLATE"===lr||"EMPTY_CONFIG"===lr)&&(Go={}),304!==Si&&200!==Si)throw Ci.create("fetch-status",{httpStatus:Si});return{status:Si,eTag:Qi,config:Go}})()}}class Ut{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,P.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:U}){var Q=this;return(0,P.Z)(function*(){yield function ys(I,D){return new Promise((R,U)=>{const Q=Math.max(D-Date.now(),0),oe=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(oe),U(Ci.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const oe=yield Q.client.fetch(D);return yield Q.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function hh(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(oe))throw oe;const Ne={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(Ne),Q.attemptFetch(D,Ne)}})()}}class Nu{constructor(D,R,U,Q,oe){this.app=D,this._client=R,this._storageCache=U,this._storage=Q,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function po(I,D){const R=I.target.error||void 0;return Ci.create(D,{originalErrorMessage:R&&R?.message})}const Zr="app_namespace_store";class Li{constructor(D,R,U,Q=function yp(){return new Promise((I,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{D(po(U,"storage-open"))},R.onsuccess=U=>{I(U.target.result)},R.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Zr,{keyPath:"compositeKey"})}}catch(R){D(Ci.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=D,this.appName=R,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,P.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,oe)=>{const rt=U.transaction([Zr],"readonly").objectStore(Zr),ct=R.createCompositeKey(D);try{const Et=rt.get(ct);Et.onerror=Yt=>{oe(po(Yt,"storage-get"))},Et.onsuccess=Yt=>{const It=Yt.target.result;Q(It?It.value:void 0)}}catch(Et){oe(Ci.create("storage-get",{originalErrorMessage:Et?.message}))}})})()}set(D,R){var U=this;return(0,P.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((oe,Ne)=>{const ct=Q.transaction([Zr],"readwrite").objectStore(Zr),Et=U.createCompositeKey(D);try{const Yt=ct.put({compositeKey:Et,value:R});Yt.onerror=It=>{Ne(po(It,"storage-set"))},Yt.onsuccess=()=>{oe()}}catch(Yt){Ne(Ci.create("storage-set",{originalErrorMessage:Yt?.message}))}})})()}delete(D){var R=this;return(0,P.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,oe)=>{const rt=U.transaction([Zr],"readwrite").objectStore(Zr),ct=R.createCompositeKey(D);try{const Et=rt.delete(ct);Et.onerror=Yt=>{oe(po(Yt,"storage-delete"))},Et.onsuccess=()=>{Q()}}catch(Et){oe(Ci.create("storage-delete",{originalErrorMessage:Et?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class pi{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const R=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),Q=D.storage.getActiveConfig(),oe=yield R;oe&&(D.lastFetchStatus=oe);const Ne=yield U;Ne&&(D.lastSuccessfulFetchTimestampMillis=Ne);const rt=yield Q;rt&&(D.activeConfig=rt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yr(){return oa.apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function sc(){(0,ie._registerComponent)(new re.wA("remote-config",function I(D,{instanceIdentifier:R}){const U=D.getProvider("app").getImmediate(),Q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ci.create("registration-window");if(!(0,se.hl)())throw Ci.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ne,appId:rt}=U.options;if(!oe)throw Ci.create("registration-project-id");if(!Ne)throw Ci.create("registration-api-key");if(!rt)throw Ci.create("registration-app-id");const ct=new Li(rt,U.name,R=R||"firebase"),Et=new pi(ct),Yt=new ye.Yd(cn);Yt.logLevel=ye.in.ERROR;const It=new Jn(Q,ie.SDK_VERSION,R,oe,Ne,rt),Ui=new Ut(It,ct),Si=new Lo(Ui,ct,Et,Yt),Qi=new Nu(U,Si,Et,ct,Yt);return function fo(I){const D=(0,se.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Qi),Qi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(cn,"0.4.4"),(0,ie.registerVersion)(cn,"0.4.4","esm2017")}();const Uo="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vp="https://fcmregistrations.googleapis.com/v1",Lu="google.c.a.c_id",fh="google.c.a.c_l",bp="google.c.a.ts",sa="google.c.a.e";var Qr=(()=>{return(I=Qr||(Qr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Qr;var I})();function es(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wp(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),Q=new Uint8Array(U.length);for(let oe=0;oe<U.length;++oe)Q[oe]=U.charCodeAt(oe);return Q}const Xr="fcm_token_details_db",vr=5,Vu="fcm_token_object_Store";function ws(){return ws=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Xr))return null;let D=null;return(yield(0,he.X3)(Xr,vr,{upgrade:(U=(0,P.Z)(function*(Q,oe,Ne,rt){var ct;if(oe<2||!Q.objectStoreNames.contains(Vu))return;const Et=rt.objectStore(Vu),Yt=yield Et.index("fcmSenderId").get(I);if(yield Et.clear(),Yt)if(2===oe){const It=Yt;if(!It.auth||!It.p256dh||!It.endpoint)return;D={token:It.fcmToken,createTime:null!==(ct=It.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:es(It.vapidKey)}}}else if(3===oe){const It=Yt;D={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:es(It.auth),p256dh:es(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:es(It.vapidKey)}}}else if(4===oe){const It=Yt;D={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:es(It.auth),p256dh:es(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:es(It.vapidKey)}}}}),function(oe,Ne,rt,ct){return U.apply(this,arguments)})})).close(),yield(0,he.Lj)(Xr),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function ac(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var U}),ws.apply(this,arguments)}const Bu="firebase-messaging-database",xp=1,br="firebase-messaging-store";let ol=null;function ts(){return ol||(ol=(0,he.X3)(Bu,xp,{upgrade:(I,D)=>{0===D&&I.createObjectStore(br)}})),ol}function aa(I){return ns.apply(this,arguments)}function ns(){return ns=(0,P.Z)(function*(I){const D=mo(I),U=yield(yield ts()).transaction(br).objectStore(br).get(D);if(U)return U;{const Q=yield function Uu(I){return ws.apply(this,arguments)}(I.appConfig.senderId);if(Q)return yield la(I,Q),Q}}),ns.apply(this,arguments)}function la(I,D){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(I,D){const R=mo(I),Q=(yield ts()).transaction(br,"readwrite");return yield Q.objectStore(br).put(D,R),yield Q.done,D})).apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(I){const D=mo(I),U=(yield ts()).transaction(br,"readwrite");yield U.objectStore(br).delete(D),yield U.done})).apply(this,arguments)}function mo({appConfig:I}){return I.appId}const fn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uc(I,D){return xs.apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(I,D){const R=yield ua(I),U=Di(D),Q={method:"POST",headers:R,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(dc(I.appConfig),Q)).json()}catch(Ne){throw fn.create("token-subscribe-failed",{errorInfo:Ne?.toString()})}if(oe.error)throw fn.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw fn.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(I,D){const R=yield ua(I),U=Di(D.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(`${dc(I.appConfig)}/${D.token}`,Q)).json()}catch(Ne){throw fn.create("token-update-failed",{errorInfo:Ne?.toString()})}if(oe.error)throw fn.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw fn.create("token-update-no-token");return oe.token})).apply(this,arguments)}function Bo(I,D){return mi.apply(this,arguments)}function mi(){return(mi=(0,P.Z)(function*(I,D){const U={method:"DELETE",headers:yield ua(I)};try{const oe=yield(yield fetch(`${dc(I.appConfig)}/${D}`,U)).json();if(oe.error)throw fn.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(Q){throw fn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function dc({projectId:I}){return`${vp}/projects/${I}/registrations`}function ua(I){return wr.apply(this,arguments)}function wr(){return(wr=(0,P.Z)(function*({appConfig:I,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Di({p256dh:I,auth:D,endpoint:R,vapidKey:U}){const Q={web:{endpoint:R,auth:D,p256dh:I}};return U!==bs&&(Q.web.applicationPubKey=U),Q}const hc=6048e5;function ju(){return ju=(0,P.Z)(function*(I){const D=yield function pc(I,D){return mc.apply(this,arguments)}(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:es(D.getKey("auth")),p256dh:es(D.getKey("p256dh"))},U=yield aa(I.firebaseDependencies);if(U){if(function gc(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}(U.subscriptionOptions,R))return Date.now()>=U.createTime+hc?function da(I,D){return Vt.apply(this,arguments)}(I,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield Bo(I.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return cl(I.firebaseDependencies,R)}return cl(I.firebaseDependencies,R)}),ju.apply(this,arguments)}function ll(){return ll=(0,P.Z)(function*(I){const D=yield aa(I.firebaseDependencies);D&&(yield Bo(I.firebaseDependencies,D.token),yield function al(I){return lc.apply(this,arguments)}(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),ll.apply(this,arguments)}function Vt(){return Vt=(0,P.Z)(function*(I,D){try{const R=yield function Ln(I,D){return ca.apply(this,arguments)}(I.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield la(I.firebaseDependencies,U),R}catch(R){throw yield function Or(I){return ll.apply(this,arguments)}(I),R}}),Vt.apply(this,arguments)}function cl(I,D){return fc.apply(this,arguments)}function fc(){return(fc=(0,P.Z)(function*(I,D){const U={token:yield uc(I,D),createTime:Date.now(),subscriptionOptions:D};return yield la(I,U),U.token})).apply(this,arguments)}function mc(){return(mc=(0,P.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wp(D)})})).apply(this,arguments)}function zu(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function _c(I,D){if(!D.notification)return;I.notification={};const R=D.notification.title;R&&(I.notification.title=R);const U=D.notification.body;U&&(I.notification.body=U);const Q=D.notification.image;Q&&(I.notification.image=Q);const oe=D.notification.icon;oe&&(I.notification.icon=oe)}(D,I),function Vn(I,D){D.data&&(I.data=D.data)}(D,I),function Oe(I,D){var R,U,Q,oe,Ne;if(!(D.fcmOptions||null!==(R=D.notification)&&void 0!==R&&R.click_action))return;I.fcmOptions={};const rt=null!==(Q=null===(U=D.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==Q?Q:null===(oe=D.notification)||void 0===oe?void 0:oe.click_action;rt&&(I.fcmOptions.link=rt);const ct=null===(Ne=D.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;ct&&(I.fcmOptions.analyticsLabel=ct)}(D,I),D}function $u(I,D){const R=[];for(let U=0;U<I.length;U++)R.push(I.charAt(U)),U<D.length&&R.push(D.charAt(U));return R.join("")}function qn(I){return fn.create("missing-app-config-values",{valueName:I})}$u("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$u("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gh{constructor(D,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function mh(I){if(!I||!I.options)throw qn("App Configuration Object");if(!I.name)throw qn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const U of D)if(!R[U])throw qn(U);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Q,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function jo(I){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Uo,{scope:vs}),I.swRegistration.update().catch(()=>{})}catch(D){throw fn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield jo(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Hu(){return(Hu=(0,P.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=bs)})).apply(this,arguments)}function ei(){return ei=(0,P.Z)(function*(I,D){if(!navigator)throw fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fn.create("permission-blocked");return yield function hl(I,D){return Hu.apply(this,arguments)}(I,D?.vapidKey),yield function ul(I,D){return dl.apply(this,arguments)}(I,D?.serviceWorkerRegistration),function is(I){return ju.apply(this,arguments)}(I)}),ei.apply(this,arguments)}function yc(){return(yc=(0,P.Z)(function*(I,D,R){const U=function rs(I){switch(I){case Qr.NOTIFICATION_CLICKED:return"notification_open";case Qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[Lu],message_name:R[fh],message_time:R[bp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fl(){return fl=(0,P.Z)(function*(I,D){const R=D.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Qr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(zu(R)):I.onMessageHandler.next(zu(R)));const U=R.data;(function on(I){return"object"==typeof I&&!!I&&Lu in I})(U)&&"1"===U[sa]&&(yield function Vi(I,D,R){return yc.apply(this,arguments)}(I,R.messageType,U))}),fl.apply(this,arguments)}const vc="@firebase/messaging",_h=I=>{const D=new gh(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Jr(I,D){return fl.apply(this,arguments)}(D,R)),D},go=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:U=>function ha(I,D){return ei.apply(this,arguments)}(D,U)}};function Gu(){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wc(){(0,ie._registerComponent)(new re.wA("messaging",_h,"PUBLIC")),(0,ie._registerComponent)(new re.wA("messaging-internal",go,"PRIVATE")),(0,ie.registerVersion)(vc,"0.12.4"),(0,ie.registerVersion)(vc,"0.12.4","esm2017")}();const qu="analytics",Cp="firebase_id",Zi="origin",zo=6e4,yn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ml="https://www.googletagmanager.com/gtag/js",gi=new ye.Yd("@firebase/analytics"),sr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function r_(I){if(!I.startsWith(ml)){const D=sr.create("invalid-gtag-resource",{gtagURL:I});return gi.warn(D.message),""}return I}function vh(I){return Promise.all(I.map(D=>D.catch(R=>R)))}function Pr(){return(Pr=(0,P.Z)(function*(I,D,R,U,Q,oe){const Ne=U[Q];try{if(Ne)yield D[Ne];else{const ct=(yield vh(R)).find(Et=>Et.measurementId===Q);ct&&(yield D[ct.appId])}}catch(rt){gi.error(rt)}I("config",Q,oe)})).apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(I,D,R,U,Q){try{let oe=[];if(Q&&Q.send_to){let Ne=Q.send_to;Array.isArray(Ne)||(Ne=[Ne]);const rt=yield vh(R);for(const ct of Ne){const Et=rt.find(It=>It.measurementId===ct),Yt=Et&&D[Et.appId];if(!Yt){oe=[];break}oe.push(Yt)}}0===oe.length&&(oe=Object.values(D)),yield Promise.all(oe),I("event",U,Q||{})}catch(oe){gi.error(oe)}})).apply(this,arguments)}const gl=30,ga=new class Cc{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Dc(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Is(){return(Is=(0,P.Z)(function*(I){var D;const{appId:R,apiKey:U}=I,Q={method:"GET",headers:Dc(U)},oe=yn.replace("{app-id}",R),Ne=yield fetch(oe,Q);if(200!==Ne.status&&304!==Ne.status){let rt="";try{const ct=yield Ne.json();null!==(D=ct.error)&&void 0!==D&&D.message&&(rt=ct.error.message)}catch{}throw sr.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:rt})}return Ne.json()})).apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(I,D=ga,R){const{appId:U,apiKey:Q,measurementId:oe}=I.options;if(!U)throw sr.create("no-app-id");if(!Q){if(oe)return{measurementId:oe,appId:U};throw sr.create("no-api-key")}const Ne=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new bh;return setTimeout((0,P.Z)(function*(){rt.abort()}),void 0!==R?R:zo),eo({appId:U,apiKey:Q,measurementId:oe},Ne,rt,D)})).apply(this,arguments)}function eo(I,D,R){return ya.apply(this,arguments)}function ya(){return ya=(0,P.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:R},U,Q=ga){var oe;const{appId:Ne,measurementId:rt}=I;try{yield function va(I,D){return new Promise((R,U)=>{const Q=Math.max(D-Date.now(),0),oe=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(oe),U(sr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(U,D)}catch(ct){if(rt)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Ne,measurementId:rt};throw ct}try{const ct=yield function _a(I){return Is.apply(this,arguments)}(I);return Q.deleteThrottleMetadata(Ne),ct}catch(ct){const Et=ct;if(!function _l(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Et)){if(Q.deleteThrottleMetadata(Ne),rt)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Ne,measurementId:rt};throw ct}const Yt=503===Number(null===(oe=Et?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,se.$s)(R,Q.intervalMillis,gl):(0,se.$s)(R,Q.intervalMillis),It={throttleEndTimeMillis:Date.now()+Yt,backoffCount:R+1};return Q.setThrottleMetadata(Ne,It),gi.debug(`Calling attemptFetch again in ${Yt} millis`),eo(I,It,U,Q)}}),ya.apply(this,arguments)}class bh{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let os,Ss;function _o(){return(_o=(0,P.Z)(function*(I,D,R,U,Q){if(Q&&Q.global)I("event",R,U);else{const oe=yield D;I("event",R,Object.assign(Object.assign({},U),{send_to:oe}))}})).apply(this,arguments)}function bl(){return(bl=(0,P.Z)(function*(){if(!(0,se.hl)())return gi.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return gi.warn(sr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function wl(){return wl=(0,P.Z)(function*(I,D,R,U,Q,oe,Ne){var rt;const ct=function Dn(I){return Cs.apply(this,arguments)}(I);ct.then(Si=>{R[Si.measurementId]=Si.appId,I.options.measurementId&&Si.measurementId!==I.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Si=>gi.error(Si)),D.push(ct);const Et=function xh(){return bl.apply(this,arguments)}().then(Si=>{if(Si)return U.getId()}),[Yt,It]=yield Promise.all([ct,Et]);(function o_(I){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(ml)&&R.src.includes(I))return R;return null})(oe)||function fa(I,D){const R=function Ic(I,D){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(I,D)),R}("firebase-js-sdk-policy",{createScriptURL:r_}),U=document.createElement("script"),Q=`${ml}?l=${I}&id=${D}`;U.src=R?R?.createScriptURL(Q):Q,U.async=!0,document.head.appendChild(U)}(oe,Yt.measurementId),Ss&&(Q("consent","default",Ss),function as(I){Ss=I}(void 0)),Q("js",new Date);const Ui=null!==(rt=Ne?.config)&&void 0!==rt?rt:{};return Ui[Zi]="firebase",Ui.update=!0,null!=It&&(Ui[Cp]=It),Q("config",Yt.measurementId,Ui),os&&(Q("set",os),function wa(I){os=I}(void 0)),Yt.measurementId}),wl.apply(this,arguments)}class Yu{constructor(D){this.app=D}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},xl=[];const vo={};let El,Yi,xa="dataLayer",Sc="gtag",Ac=!1;function Qu(I,D,R){!function Mc(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),R=sr.create("invalid-analytics-context",{errorInfo:D});gi.warn(R.message)}}();const U=I.options.appId;if(!U)throw sr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw sr.create("no-api-key");gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[U])throw sr.create("already-exists",{id:U});if(!Ac){!function Es(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(xa);const{wrappedGtag:oe,gtagCore:Ne}=function Ku(I,D,R,U,Q){let oe=function(...Ne){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(oe=window[Q]),window[Q]=function ma(I,D,R,U){function oe(){return oe=(0,P.Z)(function*(Ne,rt,ct){try{"event"===Ne?yield function Zu(I,D,R,U,Q){return Fr.apply(this,arguments)}(I,D,R,rt,ct):"config"===Ne?yield function pa(I,D,R,U,Q,oe){return Pr.apply(this,arguments)}(I,D,R,U,rt,ct):"consent"===Ne?I("consent","update",ct):I("set",rt)}catch(Et){gi.error(Et)}}),oe.apply(this,arguments)}return function Q(Ne,rt,ct){return oe.apply(this,arguments)}}(oe,I,D,R),{gtagCore:oe,wrappedGtag:window[Q]}}(Nr,xl,vo,xa,Sc);Yi=oe,El=Ne,Ac=!0}return Nr[U]=function Tc(I,D,R,U,Q,oe,Ne){return wl.apply(this,arguments)}(I,xl,vo,D,El,xa,R),new Yu(I)}function Ms(){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Rc="@firebase/analytics";!function kc(){(0,ie._registerComponent)(new re.wA(qu,(D,{options:R})=>Qu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ie._registerComponent)(new re.wA("analytics-internal",function I(D){try{const R=D.getProvider(qu).getImmediate();return{logEvent:(U,Q,oe)=>function $o(I,D,R,U){I=(0,se.m9)(I),function yl(I,D,R,U,Q){return _o.apply(this,arguments)}(Yi,Nr[I.app.options.appId],D,R,U).catch(Q=>gi.error(Q))}(R,U,Q,oe)}}catch(R){throw sr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ie.registerVersion)(Rc,"0.9.5"),(0,ie.registerVersion)(Rc,"0.9.5","esm2017")}();var a_=V(4408),l_=V(7565);const us=new class ed extends l_.v{}(class Eh extends a_.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,R,U):(D.flush(this),0)}});var c_=V(4986),Un=V(9751),td=V(8505),ar=V(5363),Pc=V(9468);const Lr=new u.GfV("7.5.0"),Ho="__angularfire_symbol__analyticsIsSupportedValue",Fc="__angularfire_symbol__analyticsIsSupported",ds="__angularfire_symbol__remoteConfigIsSupportedValue",hs="__angularfire_symbol__remoteConfigIsSupported",nd="__angularfire_symbol__messagingIsSupportedValue",Ih="__angularfire_symbol__messagingIsSupported";function at(I,D,R){if(D){if(1===D.length)return D[0];const oe=D.filter(Ne=>Ne.app===R);if(1===oe.length)return oe[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Fc]||(globalThis[Fc]=Ms().then(I=>globalThis[Ho]=I).catch(()=>globalThis[Ho]=!1)),globalThis[Ih]||(globalThis[Ih]=Gu().then(I=>globalThis[nd]=I).catch(()=>globalThis[nd]=!1)),globalThis[hs]||(globalThis[hs]=Yr().then(I=>globalThis[ds]=I).catch(()=>globalThis[ds]=!1));const Mn=(I,D)=>{const R=D?[D]:(0,z.C6)(),U=[];return R.forEach(Q=>{Q.container.getProvider(I).instances.forEach(Ne=>{U.includes(Ne)||U.push(Ne)})}),U};function _i(){}class Rs{constructor(D,R=us){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,U){const Q=this.zone;return this.delegate.schedule(function(Ne){Q.runGuarded(()=>{D.apply(this,[Ne])})},R,U)}}class Il{constructor(D){this.zone=D,this.task=null}call(D,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)),R.pipe((0,td.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ti=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Rs(Zone.current)),this.insideAngular=R.run(()=>new Rs(Zone.current,c_.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function bo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function wo(I){return bo().ngZone.run(()=>I())}function Lc(I){return I.pipe((0,ar.Q)(bo().outsideAngular))}function Os(I){return bo(),function to(I){return function(R){return(R=R.lift(new Il(I.ngZone))).pipe((0,Pc.R)(I.outsideAngular),(0,ar.Q)(I.insideAngular))}}(bo())(I)}const Dt=(I,D)=>function(){const U=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),wo(()=>I.apply(void 0,U))},Ta=(I,D)=>function(){let R;const U=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof U[oe]&&(D&&(R||(R=wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_i,{},_i,_i)))),U[oe]=Dt(U[oe],R));const Q=function Nc(I){return bo().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,U));if(!D){if(Q instanceof Un.y){const oe=bo();return Q.pipe((0,Pc.R)(oe.outsideAngular),(0,ar.Q)(oe.insideAngular))}return wo(()=>Q)}return Q instanceof Un.y?Q.pipe(Os):Q instanceof Promise?wo(()=>new Promise((oe,Ne)=>Q.then(rt=>wo(()=>oe(rt)),rt=>wo(()=>Ne(rt))))):"function"==typeof Q&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),Q.apply(this,arguments)}:wo(()=>Q)}},6452:(ft,Ce,V)=>{V.d(Ce,{$:()=>uc,A:()=>W,C:()=>Ae,H:()=>nc,I:()=>or,K:()=>Ut,M:()=>Gn,N:()=>oa,P:()=>td,Q:()=>vp,R:()=>$o,U:()=>Lu,V:()=>fh,W:()=>bs,X:()=>Qr,Y:()=>es,Z:()=>Uu,_:()=>cc,a:()=>Cc,a0:()=>Ln,a1:()=>dc,a2:()=>ju,a3:()=>ll,a4:()=>Vt,a5:()=>fc,a6:()=>mc,a7:()=>zu,a8:()=>Vn,a9:()=>Oe,aA:()=>Qi,aB:()=>He,aC:()=>H,aD:()=>Et,aE:()=>Da,aF:()=>Lc,aG:()=>fi,aK:()=>_a,aN:()=>sa,aa:()=>$u,ab:()=>mh,ac:()=>kr,ad:()=>dl,ae:()=>Hu,ah:()=>yc,ai:()=>Jr,aj:()=>fl,am:()=>br,an:()=>Wu,ap:()=>gi,aq:()=>pa,ar:()=>ve,as:()=>en,at:()=>st,au:()=>Pe,av:()=>rd,aw:()=>bn,ax:()=>St,ay:()=>Me,az:()=>X,b:()=>gl,c:()=>Ih,d:()=>fs,e:()=>$b,f:()=>Dt,g:()=>Q,h:()=>D,i:()=>Tc,j:()=>rt,k:()=>ps,l:()=>a_,m:()=>Mh,o:()=>ka,p:()=>he,r:()=>l_,s:()=>Oc,u:()=>c_});var u=V(5861),z=V(2090),P=V(9681),ie=V(1877),se=V(655),re=V(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new ie.Yd("@firebase/auth");function Ie(v,...m){De.logLevel<=ie.in.ERROR&&De.error(`Auth (${P.SDK_VERSION}): ${v}`,...m)}function Pe(v,...m){throw Ge(v,...m)}function Me(v,...m){return Ge(v,...m)}function Fe(v,m,g){const b=Object.assign(Object.assign({},We()),{[m]:g});return new z.LL("auth","Firebase",b).create(m,{appName:v.name})}function Te(v,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Pe(v,"argument-error"),Fe(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...m){if("string"!=typeof v){const g=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return lt.create(v,...m)}function X(v,m,...g){if(!v)throw Ge(m,...g)}function le(v){const m="INTERNAL ASSERTION FAILED: "+v;throw Ie(m),new Error(m)}function ve(v,m){v||le(m)}const qe=new Map;function He(v){ve(v instanceof Function,"Expected a class definition");let m=qe.get(v);return m?(ve(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,qe.set(v,m),m)}function ae(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function fe(){return"http:"===we()||"https:"===we()}function we(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class je{constructor(m,g){this.shortDelay=m,this.longDelay=g,ve(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fe()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(v,m){ve(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Ye{static initialize(m,g,b){this.fetchImpl=m,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wt=new je(3e4,6e4);function pt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function nt(v,m,g,b){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(v,m,g,b,S={}){return jn(v,S,(0,u.Z)(function*(){let N={},te={};b&&("GET"===m?te=b:N={body:JSON.stringify(b)});const Se=(0,z.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),Ke=yield v._getAdditionalHeaders();return Ke["Content-Type"]="application/json",v.languageCode&&(Ke["X-Firebase-Locale"]=v.languageCode),Ye.fetch()($i(v,v.config.apiHost,g,Se),Object.assign({method:m,headers:Ke,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function jn(v,m,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v,m,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},dn),m);try{const S=new Gr(v),N=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const te=yield N.json();if("needConfirmation"in te)throw zn(v,"account-exists-with-different-credential",te);if(N.ok&&!("errorMessage"in te))return te;{const Se=N.ok?te.errorMessage:te.error.message,[Ke,_t]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw zn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===Ke)throw zn(v,"email-already-in-use",te);if("USER_DISABLED"===Ke)throw zn(v,"user-disabled",te);const Qt=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(_t)throw Fe(v,Qt,_t);Pe(v,Qt)}}catch(S){if(S instanceof z.ZR)throw S;Pe(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function hn(v,m,g,b){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(v,m,g,b,S={}){const N=yield nt(v,m,g,b,S);return"mfaPendingCredential"in N&&Pe(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function $i(v,m,g,b){const S=`${m}${g}?${b}`;return v.config.emulator?tt(v.config,S):`${v.config.apiScheme}://${S}`}class Gr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(v,m,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=Me(v,m,b);return S.customData._tokenResponse=g,S}function yr(){return(yr=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function xi(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function rr(){return(rr=(0,u.Z)(function*(v,m=!1){const g=(0,z.m9)(v),b=yield g.getIdToken(m),S=gt(b);X(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,te=N?.sign_in_provider;return{claims:S,token:b,authTime:xi(Lt(S.auth_time)),issuedAtTime:xi(Lt(S.iat)),expirationTime:xi(Lt(S.exp)),signInProvider:te||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Lt(v){return 1e3*Number(v)}function gt(v){const[m,g,b]=v.split(".");if(void 0===m||void 0===g||void 0===b)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,z.tV)(g);return S?JSON.parse(S):(Ie("Failed to decode base64 JWT payload"),null)}catch(S){return Ie("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Cn(v,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(v,m,g=!1){if(g)return m;try{return yield m}catch(b){throw b instanceof z.ZR&&function Xn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class Ei{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),b)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class ci{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xi(this.lastLoginAt),this.creationTime=xi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ar(v){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,u.Z)(function*(v){var m;const g=v.auth,b=yield v.getIdToken(),S=yield Cn(v,function ot(v,m){return wi.apply(this,arguments)}(g,{idToken:b}));X(S?.users.length,g,"internal-error");const N=S.users[0];v._notifyReloadListener(N);const te=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?function Hn(v){return v.map(m=>{var{providerId:g}=m,b=(0,se._T)(m,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(N.providerUserInfo):[],Se=function Hi(v,m){return[...v.filter(b=>!m.some(S=>S.providerId===b.providerId)),...m]}(v.providerData,te),Qt=!!v.isAnonymous&&!(v.email&&N.passwordHash||Se?.length),Rn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Se,metadata:new ci(N.createdAt,N.lastLoginAt),isAnonymous:Qt};Object.assign(v,Rn)}),Gt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(v){const m=(0,z.m9)(v);yield Ar(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(v,m){const g=yield jn(v,{},(0,u.Z)(function*(){const b=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:N}=v.config,te=$i(v,S,"/v1/token",`key=${N}`),Se=yield v._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(te,{method:"POST",headers:Se,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){X(m.idToken,"internal-error"),X(typeof m.idToken<"u","internal-error"),X(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Nt(v){const m=gt(v);return X(m,"internal-error"),X(typeof m.exp<"u","internal-error"),X(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var b=this;return(0,u.Z)(function*(){return X(!b.accessToken||b.refreshToken,m,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var b=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:te}=yield function $e(v,m){return Ee.apply(this,arguments)}(m,g);b.updateTokensAndExpiration(S,N,Number(te))})()}updateTokensAndExpiration(m,g,b){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,g){const{refreshToken:b,accessToken:S,expirationTime:N}=g,te=new it;return b&&(X("string"==typeof b,"internal-error",{appName:m}),te.refreshToken=b),S&&(X("string"==typeof S,"internal-error",{appName:m}),te.accessToken=S),N&&(X("number"==typeof N,"internal-error",{appName:m}),te.expirationTime=N),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return le("not implemented")}}function xt(v,m){X("string"==typeof v||typeof v>"u","internal-error",{appName:m})}class Ot{constructor(m){var{uid:g,auth:b,stsTokenManager:S}=m,N=(0,se._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ci(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,u.Z)(function*(){const b=yield Cn(g,g.stsTokenManager.getToken(g.auth,m));return X(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(m){return function $n(v){return rr.apply(this,arguments)}(this,m)}reload(){return function Mr(v){return Jt.apply(this,arguments)}(this)}_assign(m){this!==m&&(X(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new Ot(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var b=this;return(0,u.Z)(function*(){let S=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),S=!0),g&&(yield Ar(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,u.Z)(function*(){const g=yield m.getIdToken();return yield Cn(m,function _r(v,m){return yr.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var b,S,N,te,Se,Ke,_t,Qt;const Rn=null!==(b=g.displayName)&&void 0!==b?b:void 0,io=null!==(S=g.email)&&void 0!==S?S:void 0,Ls=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Pa=null!==(te=g.photoURL)&&void 0!==te?te:void 0,Fp=null!==(Se=g.tenantId)&&void 0!==Se?Se:void 0,kh=null!==(Ke=g._redirectEventId)&&void 0!==Ke?Ke:void 0,Np=null!==(_t=g.createdAt)&&void 0!==_t?_t:void 0,Lp=null!==(Qt=g.lastLoginAt)&&void 0!==Qt?Qt:void 0,{uid:sd,emailVerified:Dl,isAnonymous:Tl,providerData:Hc,stsTokenManager:Vs}=g;X(sd&&Vs,m,"internal-error");const Ph=it.fromJSON(this.name,Vs);X("string"==typeof sd,m,"internal-error"),xt(Rn,m.name),xt(io,m.name),X("boolean"==typeof Dl,m,"internal-error"),X("boolean"==typeof Tl,m,"internal-error"),xt(Ls,m.name),xt(Pa,m.name),xt(Fp,m.name),xt(kh,m.name),xt(Np,m.name),xt(Lp,m.name);const Fh=new Ot({uid:sd,auth:m,email:io,emailVerified:Dl,displayName:Rn,isAnonymous:Tl,photoURL:Pa,phoneNumber:Ls,tenantId:Fp,stsTokenManager:Ph,createdAt:Np,lastLoginAt:Lp});return Hc&&Array.isArray(Hc)&&(Fh.providerData=Hc.map(Nh=>Object.assign({},Nh))),kh&&(Fh._redirectEventId=kh),Fh}static _fromIdTokenResponse(m,g,b=!1){return(0,u.Z)(function*(){const S=new it;S.updateFromServerResponse(g);const N=new Ot({uid:g.localId,auth:m,stsTokenManager:S,isAnonymous:b});return yield Ar(N),N})()}}const Gn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,u.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,u.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function H(v,m,g){return`firebase:${v}:${m}:${g}`}class ${constructor(m,g,b){this.persistence=m,this.auth=g,this.userKey=b;const{config:S,name:N}=this.auth;this.fullUserKey=H(this.userKey,S.apiKey,N),this.fullPersistenceKey=H("persistence",S.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Ot._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,u.Z)(function*(){if(g.persistence===m)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,b="authUser"){return(0,u.Z)(function*(){if(!g.length)return new $(He(Gn),m,b);const S=(yield Promise.all(g.map(function(){var _t=(0,u.Z)(function*(Qt){if(yield Qt._isAvailable())return Qt});return function(Qt){return _t.apply(this,arguments)}}()))).filter(_t=>_t);let N=S[0]||He(Gn);const te=H(b,m.config.apiKey,m.name);let Se=null;for(const _t of g)try{const Qt=yield _t._get(te);if(Qt){const Rn=Ot._fromJSON(m,Qt);_t!==N&&(Se=Rn),N=_t;break}}catch{}const Ke=S.filter(_t=>_t._shouldAllowMigration);return N._shouldAllowMigration&&Ke.length?(N=Ke[0],Se&&(yield N._set(te,Se.toJSON())),yield Promise.all(g.map(function(){var _t=(0,u.Z)(function*(Qt){if(Qt!==N)try{yield Qt._remove(te)}catch{}});return function(Qt){return _t.apply(this,arguments)}}())),new $(N,m,b)):new $(N,m,b)})()}}function F(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ue(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(L(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Tt(m))return"Blackberry";if(kt(m))return"Webos";if(k(m))return"Safari";if((m.includes("chrome/")||J(m))&&!m.includes("edge/"))return"Chrome";if(st(m))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function L(v=(0,z.z$)()){return/firefox\//i.test(v)}function k(v=(0,z.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function J(v=(0,z.z$)()){return/crios\//i.test(v)}function ue(v=(0,z.z$)()){return/iemobile/i.test(v)}function st(v=(0,z.z$)()){return/android/i.test(v)}function Tt(v=(0,z.z$)()){return/blackberry/i.test(v)}function kt(v=(0,z.z$)()){return/webos/i.test(v)}function en(v=(0,z.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function St(v=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Gi(v=(0,z.z$)()){return en(v)||st(v)||kt(v)||Tt(v)||/windows phone/i.test(v)||ue(v)}function tl(v,m=[]){let g;switch(v){case"Browser":g=F((0,z.z$)());break;case"Worker":g=`${F((0,z.z$)())}-${v}`;break;default:g=v}const b=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${b}`}class tc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const b=N=>new Promise((te,Se)=>{try{te(m(N))}catch(Ke){Se(Ke)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===m)return;const b=[];try{for(const S of g.queue)yield S(m),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const N of b)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class nl{constructor(m,g,b){this.app=m,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new tc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(m,g){var b=this;return g&&(this._popupRedirectResolver=He(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,N;if(!b._deleted&&(b.persistenceManager=yield $.create(b,m),!b._deleted)){if(null!==(S=b._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(N=b.currentUser)||void 0===N?void 0:N.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,u.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let N=S,te=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Se=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Ke=N?._redirectEventId,_t=yield g.tryRedirectSignIn(m);(!Se||Se===Ke)&&_t?.user&&(N=_t.user,te=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(te)try{yield g.beforeStateQueue.runMiddleware(N)}catch(Se){N=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Se))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return X(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var g=this;return(0,u.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,u.Z)(function*(){try{yield Ar(m)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,u.Z)(function*(){const b=m?(0,z.m9)(m):null;return b&&X(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(m,g=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return m&&X(b.tenantId===m.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(m)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(m),b.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(He(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,g,b){return this.registerStateListener(this.authStateSubscription,m,g,b)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,b){return this.registerStateListener(this.idTokenSubscription,m,g,b)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var b=this;return(0,u.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const b=m&&He(m)||g._popupRedirectResolver;X(b,g,"argument-error"),g.redirectPersistenceManager=yield $.create(g,[He(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,u.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===m?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,u.Z)(function*(){if(m===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,b,S){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),te=this._isInitialized?Promise.resolve():this._initializationPromise;return X(te,this,"internal-error"),te.then(()=>N(this.currentUser)),"function"==typeof g?m.addObserver(g,b,S):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=tl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var g;const b={"X-Client-Version":m.clientVersion};m.app.options.appId&&(b["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function fi(v){return(0,z.m9)(v)}class na{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(g=>this.observer=g)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nc(v,m,g){const b=fi(v);X(b._canInitEmulator,b,"emulator-config-failed"),X(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const S=!!g?.disableWarnings,N=ic(m),{host:te,port:Se}=function cn(v){const m=ic(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const N=S[1];return{host:N,port:Wn(b.substr(N.length+1))}}{const[N,te]=b.split(":");return{host:N,port:Wn(te)}}}(m);b.config.emulator={url:`${N}//${te}${null===Se?"":`:${Se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:te,port:Se,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ii(){function v(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ic(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function Wn(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class or{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return le("not implemented")}_getIdTokenResponse(m){return le("not implemented")}_linkToIdToken(m,g){return le("not implemented")}_getReauthenticationResolver(m){return le("not implemented")}}function Wi(v,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:resetPassword",pt(v,m))})).apply(this,arguments)}function rc(v,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:update",pt(v,m))})).apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithPassword",pt(v,m))})).apply(this,arguments)}function qi(v,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:sendOobCode",pt(v,m))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(v,m){return qi(v,m)})).apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(v,m){return qi(v,m)})).apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(v,m){return qi(v,m)})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(v,m){return qi(v,m)})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithEmailLink",pt(v,m))})).apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithEmailLink",pt(v,m))})).apply(this,arguments)}class qr extends or{constructor(m,g,b,S=null){super("password",b),this._email=m,this._password=g,this._tenantId=S}static _fromEmailAndPassword(m,g){return new qr(m,g,"password")}static _fromEmailAndCode(m,g,b=null){return new qr(m,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function qt(v,m){return vn.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ia(v,m){return Jo.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Pe(m,"internal-error")}})()}_linkToIdToken(m,g){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return rc(m,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Fi(v,m){return Lo.apply(this,arguments)}(m,{idToken:g,email:b._email,oobCode:b._password});default:Pe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Jn(v,m){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithIdp",pt(v,m))})).apply(this,arguments)}class Ut extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new Ut(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:S}=g,N=(0,se._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const te=new Ut(b,S);return te.idToken=N.idToken||void 0,te.accessToken=N.accessToken||void 0,te.secret=N.secret,te.nonce=N.nonce,te.pendingToken=N.pendingToken||null,te}_getIdTokenResponse(m){return Jn(m,this.buildRequest())}_linkToIdToken(m,g){const b=this.buildRequest();return b.idToken=g,Jn(m,b)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Jn(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,z.xO)(g)}return m}}function ra(){return(ra=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:sendVerificationCode",pt(v,m))})).apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,m))})).apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(v,m){const g=yield hn(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,m));if(g.temporaryProof)throw zn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ni={USER_NOT_FOUND:"user-not-found"};function Li(){return(Li=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithPhoneNumber",pt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ni)})).apply(this,arguments)}class pi extends or{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new pi({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new pi({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function Nu(v,m){return po.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Zr(v,m){return Vo.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function yp(v,m){return Li.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:N}=m;return b||g||S||N?new pi({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:N}):null}}class Kr{constructor(m){var g,b,S,N,te,Se;const Ke=(0,z.zd)((0,z.pd)(m)),_t=null!==(g=Ke.apiKey)&&void 0!==g?g:null,Qt=null!==(b=Ke.oobCode)&&void 0!==b?b:null,Rn=function sc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ke.mode)&&void 0!==S?S:null);X(_t&&Qt&&Rn,"argument-error"),this.apiKey=_t,this.operation=Rn,this.code=Qt,this.continueUrl=null!==(N=Ke.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(te=Ke.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Se=Ke.tenantId)&&void 0!==Se?Se:null}static parseLink(m){const g=function rl(v){const m=(0,z.zd)((0,z.pd)(v)).link,g=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,b=(0,z.zd)((0,z.pd)(v)).deep_link_id;return(b?(0,z.zd)((0,z.pd)(b)).link:null)||b||g||m||v}(m);try{return new Kr(g)}catch{return null}}}let oa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return qr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Kr.parseLink(b);return X(S,"argument-error"),qr._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Uo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class vs extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class bs extends vs{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return X("providerId"in g&&"signInMethod"in g,"argument-error"),Ut._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return X(m.idToken||m.accessToken,"argument-error"),Ut._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return bs.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return bs.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:N,nonce:te,providerId:Se}=m;if(!b&&!S&&!g&&!N||!Se)return null;try{return new bs(Se)._credential({idToken:g,accessToken:b,nonce:te,pendingToken:N})}catch{return null}}}let vp=(()=>{class v extends vs{constructor(){super("facebook.com")}static credential(g){return Ut._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Lu=(()=>{class v extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Ut._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return v.credential(b,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),fh=(()=>{class v extends vs{constructor(){super("github.com")}static credential(g){return Ut._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class sa extends or{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return Jn(m,this.buildRequest())}_linkToIdToken(m,g){const b=this.buildRequest();return b.idToken=g,Jn(m,b)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,Jn(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:S,pendingToken:N}=g;return b&&S&&N&&b===S?new sa(b,N):null}static _create(m,g){return new sa(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qr extends Uo{constructor(m){X(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Qr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Qr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=sa.fromJSON(m);return X(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:b}=m;if(!g||!b)return null;try{return sa._create(b,g)}catch{return null}}}let es=(()=>{class v extends vs{constructor(){super("twitter.com")}static credential(g,b){return Ut._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return v.credential(b,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function wp(v,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signUp",pt(v,m))})).apply(this,arguments)}class vr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,b,S=!1){return(0,u.Z)(function*(){const N=yield Ot._fromIdTokenResponse(m,b,S),te=Vu(b);return new vr({user:N,providerId:te,_tokenResponse:b,operationType:g})})()}static _forOperation(m,g,b){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const S=Vu(b);return new vr({user:m,providerId:S,_tokenResponse:b,operationType:g})})()}}function Vu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Uu(v){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(v){var m;const g=fi(v);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new vr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield wp(g,{returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ac extends z.ZR{constructor(m,g,b,S){var N;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,ac.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(m,g,b,S){return new ac(m,g,b,S)}}function Bu(v,m,g,b){return("reauthenticate"===m?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ac._fromErrorAndOperation(v,N,m,b):N})}function xp(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function br(v,m){return ol.apply(this,arguments)}function ol(){return ol=(0,u.Z)(function*(v,m){const g=(0,z.m9)(v);yield ns(!0,g,m);const{providerUserInfo:b}=yield function wn(v,m){return hi.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),S=xp(b||[]);return g.providerData=g.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ol.apply(this,arguments)}function ts(v,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,m,g=!1){const b=yield Cn(v,m._linkToIdToken(v.auth,yield v.getIdToken()),g);return vr._forOperation(v,"link",b)})).apply(this,arguments)}function ns(v,m,g){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(v,m,g){yield Ar(m);const S=!1===v?"provider-already-linked":"no-such-provider";X(xp(m.providerData).has(g)===v,m.auth,S)})).apply(this,arguments)}function sl(v,m){return al.apply(this,arguments)}function al(){return(al=(0,u.Z)(function*(v,m,g=!1){const{auth:b}=v,S="reauthenticate";try{const N=yield Cn(v,Bu(b,S,m,v),g);X(N.idToken,b,"internal-error");const te=gt(N.idToken);X(te,b,"internal-error");const{sub:Se}=te;return X(v.uid===Se,b,"user-mismatch"),vr._forOperation(v,S,N)}catch(N){throw"auth/user-not-found"===N?.code&&Pe(b,"user-mismatch"),N}})).apply(this,arguments)}function lc(v,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,m,g=!1){const b="signIn",S=yield Bu(v,b,m),N=yield vr._fromIdTokenResponse(v,b,S);return g||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function cc(v,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(v,m){return lc(fi(v),m)})).apply(this,arguments)}function uc(v,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,u.Z)(function*(v,m){const g=(0,z.m9)(v);return yield ns(!1,g,m.providerId),ts(g,m)})).apply(this,arguments)}function Ln(v,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,m){return sl((0,z.m9)(v),m)})).apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(v,m){return hn(v,"POST","/v1/accounts:signInWithCustomToken",pt(v,m))})).apply(this,arguments)}function dc(v,m){return ua.apply(this,arguments)}function ua(){return ua=(0,u.Z)(function*(v,m){const g=fi(v),b=yield function Bo(v,m){return mi.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S}),ua.apply(this,arguments)}class wr{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?Di._fromServerResponse(m,g):"totpInfo"in g?hc._fromServerResponse(m,g):Pe(m,"internal-error")}}class Di extends wr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new Di(g)}}class hc extends wr{constructor(m){super("totp",m)}static _fromServerResponse(m,g){return new hc(g)}}function is(v,m,g){var b;X((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),X(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(X(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(X(g.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function ju(v,m,g){return Or.apply(this,arguments)}function Or(){return Or=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v),S={requestType:"PASSWORD_RESET",email:m};g&&is(b,S,g),yield function Nn(v,m){return Rr.apply(this,arguments)}(b,S)}),Or.apply(this,arguments)}function ll(v,m,g){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(v,m,g){yield Wi((0,z.m9)(v),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Vt(v,m){return cl.apply(this,arguments)}function cl(){return cl=(0,u.Z)(function*(v,m){yield function Wr(v,m){return Je.apply(this,arguments)}((0,z.m9)(v),{oobCode:m})}),cl.apply(this,arguments)}function fc(v,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(v,m){const g=(0,z.m9)(v),b=yield Wi(g,{oobCode:m}),S=b.requestType;switch(X(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(b.mfaInfo,g,"internal-error");default:X(b.email,g,"internal-error")}let N=null;return b.mfaInfo&&(N=wr._fromServerResponse(fi(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function mc(v,m){return gc.apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(v,m){const{data:g}=yield fc((0,z.m9)(v),m);return g.email})).apply(this,arguments)}function zu(v,m,g){return _c.apply(this,arguments)}function _c(){return(_c=(0,u.Z)(function*(v,m,g){const b=fi(v),S=yield wp(b,{returnSecureToken:!0,email:m,password:g}),N=yield vr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(N.user),N})).apply(this,arguments)}function Vn(v,m,g){return cc((0,z.m9)(v),oa.credential(m,g))}function Oe(v,m,g){return on.apply(this,arguments)}function on(){return on=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v),S={requestType:"EMAIL_SIGNIN",email:m};X(g.handleCodeInApp,b,"argument-error"),g&&is(b,S,g),yield function oc(v,m){return jt.apply(this,arguments)}(b,S)}),on.apply(this,arguments)}function $u(v,m){return"EMAIL_SIGNIN"===Kr.parseLink(m)?.operation}function mh(v,m,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v),S=oa.credentialWithLink(m,g||ae());return X(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),cc(b,S)})).apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:createAuthUri",pt(v,m))})).apply(this,arguments)}function kr(v,m){return ul.apply(this,arguments)}function ul(){return ul=(0,u.Z)(function*(v,m){const b={identifier:m,continueUri:fe()?ae():"http://localhost"},{signinMethods:S}=yield function gh(v,m){return jo.apply(this,arguments)}((0,z.m9)(v),b);return S||[]}),ul.apply(this,arguments)}function dl(v,m){return hl.apply(this,arguments)}function hl(){return hl=(0,u.Z)(function*(v,m){const g=(0,z.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&is(g.auth,S,m);const{email:N}=yield function Fn(v,m){return fo.apply(this,arguments)}(g.auth,S);N!==v.email&&(yield v.reload())}),hl.apply(this,arguments)}function Hu(v,m,g){return ha.apply(this,arguments)}function ha(){return ha=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};g&&is(b.auth,N,g);const{email:te}=yield function il(v,m){return No.apply(this,arguments)}(b.auth,N);te!==v.email&&(yield v.reload())}),ha.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(v,m){return nt(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yc(v,m){return rs.apply(this,arguments)}function rs(){return rs=(0,u.Z)(function*(v,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const b=(0,z.m9)(v),N={idToken:yield b.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},te=yield Cn(b,function ei(v,m){return Vi.apply(this,arguments)}(b.auth,N));b.displayName=te.displayName||null,b.photoURL=te.photoUrl||null;const Se=b.providerData.find(({providerId:Ke})=>"password"===Ke);Se&&(Se.displayName=b.displayName,Se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(te)}),rs.apply(this,arguments)}function Jr(v,m){return vc((0,z.m9)(v),m,null)}function fl(v,m){return vc((0,z.m9)(v),null,m)}function vc(v,m,g){return bc.apply(this,arguments)}function bc(){return(bc=(0,u.Z)(function*(v,m,g){const{auth:b}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(N.email=m),g&&(N.password=g);const te=yield Cn(v,rc(b,N));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class go{constructor(m,g,b={}){this.isNewUser=m,this.providerId=g,this.profile=b}}class wc extends go{constructor(m,g,b,S){super(m,g,b),this.username=S}}class Gu extends go{constructor(m,g){super(m,"facebook.com",g)}}class pl extends wc{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ep extends go{constructor(m,g){super(m,"google.com",g)}}class xc extends wc{constructor(m,g,b){super(m,"twitter.com",g,b)}}function Wu(v){const{user:m,_tokenResponse:g}=v;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function _h(v){var m,g;if(!v)return null;const{providerId:b}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const te=null===(g=null===(m=gt(v.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(te)return new go(N,"anonymous"!==te&&"custom"!==te?te:null)}if(!b)return null;switch(b){case"facebook.com":return new Gu(N,S);case"github.com":return new pl(N,S);case"google.com":return new Ep(N,S);case"twitter.com":return new xc(N,S,v.screenName||null);case"custom":case"anonymous":return new go(N,null);default:return new go(N,b,S)}}(g)}class yn{constructor(m,g,b){this.type=m,this.credential=g,this.auth=b}static _fromIdtoken(m,g){return new yn("enroll",m,g)}static _fromMfaPendingCredential(m){return new yn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,b;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return yn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(b=m.multiFactorSession)&&void 0!==b&&b.idToken)return yn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ml{constructor(m,g,b){this.session=m,this.hints=g,this.signInResolver=b}static _fromError(m,g){const b=fi(m),S=g.customData._serverResponse,N=(S.mfaInfo||[]).map(Se=>wr._fromServerResponse(b,Se));X(S.mfaPendingCredential,b,"internal-error");const te=yn._fromMfaPendingCredential(S.mfaPendingCredential);return new ml(te,N,function(){var Se=(0,u.Z)(function*(Ke){const _t=yield Ke._process(b,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Qt=Object.assign(Object.assign({},S),{idToken:_t.idToken,refreshToken:_t.refreshToken});switch(g.operationType){case"signIn":const Rn=yield vr._fromIdTokenResponse(b,g.operationType,Qt);return yield b._updateCurrentUser(Rn.user),Rn;case"reauthenticate":return X(g.user,b,"internal-error"),vr._forOperation(g.user,g.operationType,Qt);default:Pe(b,"internal-error")}});return function(Ke){return Se.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,u.Z)(function*(){return g.signInResolver(m)})()}}function gi(v,m){var g;const b=(0,z.m9)(v),S=m;return X(m.customData.operationType,b,"argument-error"),X(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ml._fromError(b,S)}class fa{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>wr._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new fa(m)}getSession(){var m=this;return(0,u.Z)(function*(){return yn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var b=this;return(0,u.Z)(function*(){const S=m,N=yield b.getSession(),te=yield Cn(b.user,S._process(b.user.auth,N,g));return yield b.user._updateTokensIfNecessary(te),b.user.reload()})()}unenroll(m){var g=this;return(0,u.Z)(function*(){const b="string"==typeof m?m:m.uid,S=yield g.user.getIdToken();try{const N=yield Cn(g.user,function Ic(v,m){return nt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(v,m))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:te})=>te!==b),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Es=new WeakMap;function pa(v){const m=(0,z.m9)(v);return Es.has(m)||Es.set(m,fa._fromUser(m)),Es.get(m)}const Pr="__sak";class Zu{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Pr,"1"),this.storage.removeItem(Pr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gl=(()=>{class v extends Zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fr(){const v=(0,z.z$)();return k(v)||en(v)}()&&function ec(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),N=this.localCache[b];S!==N&&g(b,N,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((Se,Ke,_t)=>{this.notifyListeners(Se,_t)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(S);if(g.newValue!==Se)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const N=()=>{const Se=this.storage.getItem(S);!b&&this.localCache[S]===Se||this.notifyListeners(S,Se)},te=this.storage.getItem(S);!function Wt(){return(0,z.w1)()&&10===document.documentMode}()||te===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,N=this;return(0,u.Z)(function*(){yield S().call(N,g,b),N.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,u.Z)(function*(){const N=yield b().call(S,g);return S.localCache[g]=JSON.stringify(N),N})()}_remove(g){var b=()=>super._remove,S=this;return(0,u.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),Cc=(()=>{class v extends Zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let Dc=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(N=>N.isListeningto(g));if(b)return b;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,u.Z)(function*(){const S=g,{eventId:N,eventType:te,data:Se}=S.data,Ke=b.handlersMap[te];if(!Ke?.size)return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:te});const _t=Array.from(Ke).map(function(){var Rn=(0,u.Z)(function*(io){return io(S.origin,Se)});return function(io){return Rn.apply(this,arguments)}}()),Qt=yield function ga(v){return Promise.all(v.map(function(){var m=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return m.apply(this,arguments)}}()))}(_t);S.ports[0].postMessage({status:"done",eventId:N,eventType:te,response:Qt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function _a(v="",m=10){let g="";for(let b=0;b<m;b++)g+=Math.floor(10*Math.random());return v+g}class Is{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,b=50){var S=this;return(0,u.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let te,Se;return new Promise((Ke,_t)=>{const Qt=_a("",20);N.port1.start();const Rn=setTimeout(()=>{_t(new Error("unsupported_event"))},b);Se={messageChannel:N,onMessage(io){const Ls=io;if(Ls.data.eventId===Qt)switch(Ls.data.status){case"ack":clearTimeout(Rn),te=setTimeout(()=>{_t(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Ke(Ls.data.response);break;default:clearTimeout(Rn),clearTimeout(te),_t(new Error("invalid_response"))}}},S.handlers.add(Se),N.port1.addEventListener("message",Se.onMessage),S.target.postMessage({eventType:m,eventId:Qt,data:g},[N.port2])}).finally(()=>{Se&&S.removeMessageHandler(Se)})})()}}function Dn(){return window}function eo(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function va(){return(va=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const os="firebaseLocalStorageDb",yl=1,_o="firebaseLocalStorage",wh="fbase_key";class yo{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ds(v,m){return v.transaction([_o],m?"readwrite":"readonly").objectStore(_o)}function Ki(){const v=indexedDB.open(os,yl);return new Promise((m,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(_o,{keyPath:wh})}catch(S){g(S)}}),v.addEventListener("success",(0,u.Z)(function*(){const b=v.result;b.objectStoreNames.contains(_o)?m(b):(b.close(),yield function ba(){const v=indexedDB.deleteDatabase(os);return new yo(v).toPromise()}(),m(yield Ki()))}))})}function vl(v,m,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(v,m,g){const b=Ds(v,!0).put({[wh]:m,value:g});return new yo(b).toPromise()})).apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v,m){const g=Ds(v,!1).get(m),b=yield new yo(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function as(v,m){const g=Ds(v,!0).delete(m);return new yo(g).toPromise()}const Tc=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Ki()),g.db})()}_withRetries(g){var b=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const N=yield b._openDb();return yield g(N)}catch(N){if(S++>3)throw N;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return eo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Dc._getInstance(function bh(){return eo()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(S,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(S,N){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function ya(){return va.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Is(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(b=N[0])&&void 0!==b&&b.fulfilled&&null!==(S=N[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function _l(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ki();return yield vl(g,Pr,"1"),yield as(g,Pr),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(N=>vl(N,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,u.Z)(function*(){const S=yield b._withRetries(N=>function Ts(v,m){return Ss.apply(this,arguments)}(N,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(S=>as(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const b=yield g._withRetries(te=>{const Se=Ds(te,!1).getAll();return new yo(Se).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:te,value:Se}of b)N.add(te),JSON.stringify(g.localCache[te])!==JSON.stringify(Se)&&(g.notifyListeners(te,Se),S.push(te));for(const te of Object.keys(g.localCache))g.localCache[te]&&!N.has(te)&&(g.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function vo(){return(vo=(0,u.Z)(function*(v){return(yield nt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sc(v){return new Promise((m,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=m,b.onerror=S=>{const N=Me("internal-error");N.customData=S,g(N)},b.type="text/javascript",b.charset="UTF-8",function xa(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(b)})}function El(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ea=1e12;class Mc{constructor(m){this.auth=m,this.counter=Ea,this._widgets=new Map}render(m,g){const b=this.counter;return this._widgets.set(b,new Qu(m,this.auth.name,g||{})),this.counter++,b}reset(m){var g;const b=m||Ea;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Ea))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,u.Z)(function*(){var b;return null===(b=g._widgets.get(m||Ea))||void 0===b||b.execute(),""})()}}class Qu{constructor(m,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;X(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xu(v){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const As=El("rcb"),Ms=new je(3e4,6e4);class Ia{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Dn().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return X(function Tp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Dn().grecaptcha):new Promise((b,S)=>{const N=Dn().setTimeout(()=>{S(Me(m,"network-request-failed"))},Ms.get());Dn()[As]=()=>{Dn().clearTimeout(N),delete Dn()[As];const Se=Dn().grecaptcha;if(!Se)return void S(Me(m,"internal-error"));const Ke=Se.render;Se.render=(_t,Qt)=>{const Rn=Ke(_t,Qt);return this.counter++,Rn},this.hostLanguage=g,b(Se)},Sc(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:As,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),S(Me(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=Dn().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ju{load(m){return(0,u.Z)(function*(){return new Mc(m)})()}clearedOneInstance(){}}const cs="recaptcha",Sp={theme:"light",type:"image"};class $o{constructor(m,g=Object.assign({},Sp),b){this.parameters=g,this.type=cs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(b),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;X(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ju:new Ia,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(g)||new Promise(N=>{const te=Se=>{Se&&(m.tokenChangeListeners.delete(te),N(Se))};m.tokenChangeListeners.add(te),m.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof m)m(g);else if("string"==typeof m){const b=Dn()[m];"function"==typeof b&&b(g)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){X(fe()&&!eo(),m.auth,"internal-error"),yield function En(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function xl(v){return vo.apply(this,arguments)}(m.auth);X(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rc{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=pi._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function Oc(v,m,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(v,m,g){const b=fi(v),S=yield us(b,m,(0,z.m9)(g));return new Rc(S,N=>cc(b,N))})).apply(this,arguments)}function a_(v,m,g){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v);yield ns(!1,b,"phone");const S=yield us(b.auth,m,(0,z.m9)(g));return new Rc(S,N=>uc(b,N))})).apply(this,arguments)}function l_(v,m,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v),S=yield us(b.auth,m,(0,z.m9)(g));return new Rc(S,N=>Ln(b,N))})).apply(this,arguments)}function us(v,m,g){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,u.Z)(function*(v,m,g){var b;const S=yield g.verify();try{let N;if(X("string"==typeof S,v,"argument-error"),X(g.type===cs,v,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const te=N.session;if("phoneNumber"in N)return X("enroll"===te.type,v,"internal-error"),(yield function Dp(v,m){return nt(v,"POST","/v2/accounts/mfaEnrollment:start",pt(v,m))}(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{X("signin"===te.type,v,"internal-error");const Se=(null===(b=N.multiFactorHint)||void 0===b?void 0:b.uid)||N.multiFactorUid;return X(Se,v,"missing-multi-factor-info"),(yield function wl(v,m){return nt(v,"POST","/v2/accounts/mfaSignIn:start",pt(v,m))}(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function _p(v,m){return ra.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:S});return te}}finally{g._reset()}}),Ap.apply(this,arguments)}function c_(v,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v,m){yield ts((0,z.m9)(v),m)})).apply(this,arguments)}let td=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=fi(g)}verifyPhoneNumber(g,b){return us(this.auth,g,(0,z.m9)(b))}static credential(g,b){return pi._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?pi._fromTokenResponse(b,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ar(v,m){return m?He(m):(X(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Pc extends or{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Jn(m,this._buildIdpRequest())}_linkToIdToken(m,g){return Jn(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return Jn(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function Lr(v){return lc(v.auth,new Pc(v),v.bypassAuthState)}function Ho(v){const{auth:m,user:g}=v;return X(g,m,"internal-error"),sl(g,new Pc(v),v.bypassAuthState)}function Fc(v){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(v){const{auth:m,user:g}=v;return X(g,m,"internal-error"),ts(g,new Pc(v),v.bypassAuthState)})).apply(this,arguments)}class hs{constructor(m,g,b,S,N=!1){this.auth=m,this.resolver=b,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,u.Z)(function*(b,S){m.pendingPromise={resolve:b,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:N,tenantId:te,error:Se,type:Ke}=m;if(Se)return void g.reject(Se);const _t={auth:g.auth,requestUri:b,sessionId:S,tenantId:te||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ke)(_t))}catch(Qt){g.reject(Qt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Lr;case"linkViaPopup":case"linkViaRedirect":return Fc;case"reauthViaPopup":case"reauthViaRedirect":return Ho;default:Pe(this.auth,"internal-error")}}resolve(m){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nd=new je(2e3,1e4);function Ih(v,m,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(v,m,g){const b=fi(v);Te(v,m,Uo);const S=ar(b,g);return new Mn(b,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function $b(v,m,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v);Te(b.auth,m,Uo);const S=ar(b.auth,g);return new Mn(b.auth,"reauthViaPopup",m,S,b).executeNotNull()})).apply(this,arguments)}function fs(v,m,g){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v);Te(b.auth,m,Uo);const S=ar(b.auth,g);return new Mn(b.auth,"linkViaPopup",m,S,b).executeNotNull()})).apply(this,arguments)}let Mn=(()=>{class v extends hs{constructor(g,b,S,N,te){super(g,b,N,te),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const b=yield g.execute();return X(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,u.Z)(function*(){ve(1===g.filter.length,"Popup operations only handle one event");const b=_a();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=null!==(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,nd.get())};g()}}return v.currentPopupAction=null,v})();const _i="pendingRedirect",Rs=new Map;class Il extends hs{constructor(m,g,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,u.Z)(function*(){let b=Rs.get(g.auth._key());if(!b){try{const N=(yield function Ti(v,m){return bo.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;b=()=>Promise.resolve(N)}catch(S){b=()=>Promise.reject(S)}Rs.set(g.auth._key(),b)}return g.bypassAuthState||Rs.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(b,m);if("unknown"!==m.type){if(m.eventId){const S=yield b.auth._redirectUserForId(m.eventId);if(S)return b.user=S,g().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function bo(){return(bo=(0,u.Z)(function*(v,m){const g=to(m),b=Os(v);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Nc(v,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,m){return Os(v)._set(to(m),"true")})).apply(this,arguments)}function Lc(){Rs.clear()}function Da(v,m){Rs.set(v._key(),m)}function Os(v){return He(v._redirectPersistence)}function to(v){return H(_i,v.config.apiKey,v.name)}function Dt(v,m,g){return function Ta(v,m,g){return I.apply(this,arguments)}(v,m,g)}function I(){return(I=(0,u.Z)(function*(v,m,g){const b=fi(v);Te(v,m,Uo),yield b._initializationPromise;const S=ar(b,g);return yield Nc(S,b),S._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function D(v,m,g){return function R(v,m,g){return U.apply(this,arguments)}(v,m,g)}function U(){return(U=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v);Te(b.auth,m,Uo),yield b.auth._initializationPromise;const S=ar(b.auth,g);yield Nc(S,b.auth);const N=yield It(b);return S._openRedirect(b.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function Q(v,m,g){return function oe(v,m,g){return Ne.apply(this,arguments)}(v,m,g)}function Ne(){return(Ne=(0,u.Z)(function*(v,m,g){const b=(0,z.m9)(v);Te(b.auth,m,Uo),yield b.auth._initializationPromise;const S=ar(b.auth,g);yield ns(!1,b,m.providerId),yield Nc(S,b.auth);const N=yield It(b);return S._openRedirect(b.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function rt(v,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(v,m){return yield fi(v)._initializationPromise,Et(v,m,!1)})).apply(this,arguments)}function Et(v,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(v,m,g=!1){const b=fi(v),S=ar(b,m),te=yield new Il(b,S,g).execute();return te&&!g&&(delete te.user._redirectEventId,yield b._persistUserIfCurrent(te.user),yield b._setRedirectUser(null,m)),te})).apply(this,arguments)}function It(v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(v){const m=_a(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class Qi{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(g=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ti(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lr(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var b;if(m.error&&!lr(m)){const S=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,S))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const b=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Go(m))}saveEventToCache(m){this.cachedEventUids.add(Go(m)),this.lastProcessedEventTime=Date.now()}}function Go(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function lr({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===m?.code}function bn(v){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(v,m={}){return nt(v,"GET","/v1/projects",m)})).apply(this,arguments)}const Ch=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yi=/^https?/;function Sa(){return(Sa=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield bn(v);for(const g of m)try{if(xr(g))return}catch{}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function xr(v){const m=ae(),{protocol:g,hostname:b}=new URL(m);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&te.hostname===b}if(!yi.test(g))return!1;if(Ch.test(v))return b===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Xi=new je(3e4,6e4);function Aa(){const v=Dn().___jsl;if(v?.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Dh=null;const Cl=new je(5e3,15e3),cr="__/auth/iframe",Ma="emulator/auth/iframe",Hb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Th(v){const m=v.config;X(m.authDomain,v,"auth-domain-config-required");const g=m.emulator?tt(m,Ma):`https://${v.config.authDomain}/${cr}`,b={apiKey:m.apiKey,appName:v.name,v:P.SDK_VERSION},S=id.get(v.config.apiHost);S&&(b.eid=S);const N=v._getFrameworks();return N.length&&(b.fw=N.join(",")),`${g}?${(0,z.xO)(b).slice(1)}`}function Vc(){return Vc=(0,u.Z)(function*(v){const m=yield function xo(v){return Dh=Dh||function u_(v){return new Promise((m,g)=>{var b,S,N;function te(){Aa(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Aa(),g(Me(v,"network-request-failed"))},timeout:Xi.get()})}if(null!==(S=null===(b=Dn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==S&&S.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Dn().gapi)||void 0===N||!N.load){const Se=El("iframefcb");return Dn()[Se]=()=>{gapi.load?te():g(Me(v,"network-request-failed"))},Sc(`https://apis.google.com/js/api.js?onload=${Se}`).catch(Ke=>g(Ke))}te()}}).catch(m=>{throw Dh=null,m})}(v),Dh}(v),g=Dn().gapi;return X(g,v,"internal-error"),m.open({where:document.body,url:Th(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hb,dontclear:!0},b=>new Promise(function(){var S=(0,u.Z)(function*(N,te){yield b.restyle({setHideOnLeave:!1});const Se=Me(v,"network-request-failed"),Ke=Dn().setTimeout(()=>{te(Se)},Cl.get());function _t(){Dn().clearTimeout(Ke),N(b)}b.ping(_t).then(_t,()=>{te(Se)})});return function(N,te){return S.apply(this,arguments)}}()))}),Vc.apply(this,arguments)}const Mp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uc=500,$t=600,Er="_blank",d_="http://localhost";class Ra{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const no="__/auth/handler",Op="emulator/auth/handler";function rd(v,m,g,b,S,N){X(v.config.authDomain,v,"auth-domain-config-required"),X(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:P.SDK_VERSION,eventId:S};if(m instanceof Uo){m.setDefaultLanguage(v.languageCode),te.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(te.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Ke,_t]of Object.entries(N||{}))te[Ke]=_t}if(m instanceof vs){const Ke=m.getScopes().filter(_t=>""!==_t);Ke.length>0&&(te.scopes=Ke.join(","))}v.tenantId&&(te.tid=v.tenantId);const Se=te;for(const Ke of Object.keys(Se))void 0===Se[Ke]&&delete Se[Ke];return`${function kp({config:v}){return v.emulator?tt(v,Op):`https://${v.authDomain}/${no}`}(v)}?${(0,z.xO)(Se).slice(1)}`}const Ah="webStorageSupport",ps=class Bi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cc,this._completeRedirectFn=Et,this._overrideRedirectResult=Da}_openPopup(m,g,b,S){var N=this;return(0,u.Z)(function*(){var te;ve(null===(te=N.eventManagers[m._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Se=rd(m,g,b,ae(),S);return function h_(v,m,g,b=Uc,S=$t){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-b)/2,0).toString();let Se="";const Ke=Object.assign(Object.assign({},Mp),{width:b.toString(),height:S.toString(),top:N,left:te}),_t=(0,z.z$)().toLowerCase();g&&(Se=J(_t)?Er:g),L(_t)&&(m=m||d_,Ke.scrollbars="yes");const Qt=Object.entries(Ke).reduce((io,[Ls,Pa])=>`${io}${Ls}=${Pa},`,"");if(function xn(v=(0,z.z$)()){var m;return en(v)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(_t)&&"_self"!==Se)return function Rp(v,m){const g=document.createElement("a");g.href=v,g.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(m||"",Se),new Ra(null);const Rn=window.open(m||"",Se,Qt);X(Rn,v,"popup-blocked");try{Rn.focus()}catch{}return new Ra(Rn)}(m,Se,_a())})()}_openRedirect(m,g,b,S){var N=this;return(0,u.Z)(function*(){return yield N._originValidation(m),function Cs(v){Dn().location.href=v}(rd(m,g,b,ae(),S)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:S,promise:N}=this.eventManagers[g];return S?Promise.resolve(S):(ve(N,"If manager is not set, promise should be"),N)}const b=this.initAndGetManager(m);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(m){var g=this;return(0,u.Z)(function*(){const b=yield function Sh(v){return Vc.apply(this,arguments)}(m),S=new Qi(m);return b.register("authEvent",N=>(X(N?.authEvent,m,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:S},g.iframes[m._key()]=b,S})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Ah,{type:Ah},S=>{var N;const te=null===(N=S?.[0])||void 0===N?void 0:N[Ah];void 0!==te&&g(!!te),Pe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ps(v){return Sa.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return Gi()||k()||en()}};class ji{constructor(m){this.factorId=m}_process(m,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,b);case"signin":return this._finalizeSignIn(m,g.credential);default:return le("unexpected MultiFactorSessionType")}}}class Bc extends ji{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Bc(m)}_finalizeEnroll(m,g,b){return function sr(v,m){return nt(v,"POST","/v2/accounts/mfaEnrollment:finalize",pt(v,m))}(m,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function Yu(v,m){return nt(v,"POST","/v2/accounts/mfaSignIn:finalize",pt(v,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mh=(()=>{class v{constructor(){}static assertion(g){return Bc._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var od="@firebase/auth";class zc{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(b=>{m(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pp=(0,z.Pz)("authIdTokenMaxAge")||300;let Ns=null;const f_=v=>function(){var m=(0,u.Z)(function*(g){const b=g&&(yield g.getIdTokenResult()),S=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(S&&S>Pp)return;const N=b?.token;Ns!==N&&(Ns=N,yield fetch(v,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(g){return m.apply(this,arguments)}}();function ka(v=(0,P.getApp)()){const m=(0,P._getProvider)(v,"auth");if(m.isInitialized())return m.getImmediate();const g=function At(v,m){const g=(0,P._getProvider)(v,"auth");if(g.isInitialized()){const S=g.getImmediate(),N=g.getOptions();if((0,z.vZ)(N,m??{}))return S;Pe(S,"already-initialized")}return g.initialize({options:m})}(v,{popupRedirectResolver:ps,persistence:[Tc,gl,Cc]}),b=(0,z.Pz)("authTokenSyncURL");if(b){const N=f_(b);(function Ec(v,m,g){(0,z.m9)(v).beforeAuthStateChanged(m,g)})(g,N,()=>N(g.currentUser)),function Ip(v,m,g,b){(0,z.m9)(v).onIdTokenChanged(m,g,b)}(g,te=>N(te))}const S=(0,z.q4)("auth");return S&&nc(g,`http://${S}`),g}!function nn(v){(0,P._registerComponent)(new re.wA("auth",(m,{options:g})=>{const b=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),{apiKey:N,authDomain:te}=b.options;return((Se,Ke)=>{X(N&&!N.includes(":"),"invalid-api-key",{appName:Se.name}),X(!te?.includes(":"),"argument-error",{appName:Se.name});const _t={apiKey:N,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tl(v)},Qt=new nl(Se,Ke,_t);return function et(v,m){const g=m?.persistence||[],b=(Array.isArray(g)?g:[g]).map(He);m?.errorMap&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(b,m?.popupRedirectResolver)}(Qt,g),Qt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,b)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new re.wA("auth-internal",m=>{const g=fi(m.getProvider("auth").getImmediate());return new zc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(od,"0.21.6",function Fs(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(od,"0.21.6","esm2017")}("Browser")},2090:(ft,Ce,V)=>{V.d(Ce,{$s:()=>xt,BH:()=>Te,G6:()=>ke,L:()=>pe,LL:()=>wt,P0:()=>Pe,Pz:()=>Fe,Sg:()=>Ge,UG:()=>ve,US:()=>re,ZB:()=>Y,ZR:()=>dn,aH:()=>Me,b$:()=>At,eu:()=>je,hl:()=>Ue,jU:()=>qe,m9:()=>Gn,ne:()=>Lt,pd:()=>$n,q4:()=>Ie,r3:()=>zn,ru:()=>He,tV:()=>G,uI:()=>le,vZ:()=>hi,w1:()=>ae,xO:()=>xi,xb:()=>yr,z$:()=>X,zI:()=>tt,zd:()=>Qn});const ie=function(H){const $=[];let F=0;for(let L=0;L<H.length;L++){let k=H.charCodeAt(L);k<128?$[F++]=k:k<2048?($[F++]=k>>6|192,$[F++]=63&k|128):55296==(64512&k)&&L+1<H.length&&56320==(64512&H.charCodeAt(L+1))?(k=65536+((1023&k)<<10)+(1023&H.charCodeAt(++L)),$[F++]=k>>18|240,$[F++]=k>>12&63|128,$[F++]=k>>6&63|128,$[F++]=63&k|128):($[F++]=k>>12|224,$[F++]=k>>6&63|128,$[F++]=63&k|128)}return $},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,$){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let k=0;k<H.length;k+=3){const J=H[k],ue=k+1<H.length,st=ue?H[k+1]:0,Tt=k+2<H.length,kt=Tt?H[k+2]:0;let xn=(15&st)<<2|kt>>6,Wt=63&kt;Tt||(Wt=64,ue||(xn=64)),L.push(F[J>>2],F[(3&J)<<4|st>>4],F[xn],F[Wt])}return L.join("")},encodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(H):this.encodeByteArray(ie(H),$)},decodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(H):function(H){const $=[];let F=0,L=0;for(;F<H.length;){const k=H[F++];if(k<128)$[L++]=String.fromCharCode(k);else if(k>191&&k<224){const J=H[F++];$[L++]=String.fromCharCode((31&k)<<6|63&J)}else if(k>239&&k<365){const Tt=((7&k)<<18|(63&H[F++])<<12|(63&H[F++])<<6|63&H[F++])-65536;$[L++]=String.fromCharCode(55296+(Tt>>10)),$[L++]=String.fromCharCode(56320+(1023&Tt))}else{const J=H[F++],ue=H[F++];$[L++]=String.fromCharCode((15&k)<<12|(63&J)<<6|63&ue)}}return $.join("")}(this.decodeStringToByteArray(H,$))},decodeStringToByteArray(H,$){this.init_();const F=$?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let k=0;k<H.length;){const J=F[H.charAt(k++)],st=k<H.length?F[H.charAt(k)]:0;++k;const kt=k<H.length?F[H.charAt(k)]:64;++k;const St=k<H.length?F[H.charAt(k)]:64;if(++k,null==J||null==st||null==kt||null==St)throw new ye;L.push(J<<2|st>>4),64!==kt&&(L.push(st<<4&240|kt>>2),64!==St&&L.push(kt<<6&192|St))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(H){return function(H){const $=ie(H);return re.encodeByteArray($,!0)}(H).replace(/\./g,"")},G=function(H){try{return re.decodeString(H,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function Y(H,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return $}for(const F in $)!$.hasOwnProperty(F)||!ze(F)||(H[F]=Y(H[F],$[F]));return H}function ze(H){return"__proto__"!==H}const De=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=H&&G(H[1]);return $&&JSON.parse($)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ie=H=>{var $,F;return null===(F=null===($=De())||void 0===$?void 0:$.emulatorHosts)||void 0===F?void 0:F[H]},Pe=H=>{const $=Ie(H);if(!$)return;const F=$.lastIndexOf(":");if(F<=0||F+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const L=parseInt($.substring(F+1),10);return"["===$[0]?[$.substring(1,F-1),L]:[$.substring(0,F),L]},Me=()=>{var H;return null===(H=De())||void 0===H?void 0:H.config},Fe=H=>{var $;return null===($=De())||void 0===$?void 0:$[`_${H}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,F)=>{this.resolve=$,this.reject=F})}wrapCallback($){return(F,L)=>{F?this.reject(F):this.resolve(L),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(F):$(F,L))}}}function Ge(H,$){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=$||"demo-project",k=H.iat||0,J=H.sub||H.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:k,exp:k+3600,auth_time:k,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},H);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ue)),""].join(".")}function X(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function ve(){var H;const $=null===(H=De())||void 0===H?void 0:H.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function He(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ae(){const H=X();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ke(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((H,$)=>{try{let F=!0;const L="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(L);k.onsuccess=()=>{k.result.close(),F||self.indexedDB.deleteDatabase(L),H(!0)},k.onupgradeneeded=()=>{F=!1},k.onerror=()=>{var J;$((null===(J=k.error)||void 0===J?void 0:J.message)||"")}}catch(F){$(F)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dn extends Error{constructor($,F,L){super(F),this.code=$,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor($,F,L){this.service=$,this.serviceName=F,this.errors=L}create($,...F){const L=F[0]||{},k=`${this.service}/${$}`,J=this.errors[$],ue=J?function pt(H,$){return H.replace(nt,(F,L)=>{const k=$[L];return null!=k?String(k):`<${L}?>`})}(J,L):"Error";return new dn(k,`${this.serviceName}: ${ue} (${k}).`,L)}}const nt=/\{\$([^}]+)}/g;function zn(H,$){return Object.prototype.hasOwnProperty.call(H,$)}function yr(H){for(const $ in H)if(Object.prototype.hasOwnProperty.call(H,$))return!1;return!0}function hi(H,$){if(H===$)return!0;const F=Object.keys(H),L=Object.keys($);for(const k of F){if(!L.includes(k))return!1;const J=H[k],ue=$[k];if(ot(J)&&ot(ue)){if(!hi(J,ue))return!1}else if(J!==ue)return!1}for(const k of L)if(!F.includes(k))return!1;return!0}function ot(H){return null!==H&&"object"==typeof H}function xi(H){const $=[];for(const[F,L]of Object.entries(H))Array.isArray(L)?L.forEach(k=>{$.push(encodeURIComponent(F)+"="+encodeURIComponent(k))}):$.push(encodeURIComponent(F)+"="+encodeURIComponent(L));return $.length?"&"+$.join("&"):""}function Qn(H){const $={};return H.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[k,J]=L.split("=");$[decodeURIComponent(k)]=decodeURIComponent(J)}}),$}function $n(H){const $=H.indexOf("?");if(!$)return"";const F=H.indexOf("#",$);return H.substring($,F>0?F:void 0)}function Lt(H,$){const F=new gt(H,$);return F.subscribe.bind(F)}class gt{constructor($,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{$(this)}).catch(L=>{this.error(L)})}next($){this.forEachObserver(F=>{F.next($)})}error($){this.forEachObserver(F=>{F.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,F,L){let k;if(void 0===$&&void 0===F&&void 0===L)throw new Error("Missing Observer.");k=function Cn(H,$){if("object"!=typeof H||null===H)return!1;for(const F of $)if(F in H&&"function"==typeof H[F])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:F,complete:L},void 0===k.next&&(k.next=Pn),void 0===k.error&&(k.error=Pn),void 0===k.complete&&(k.complete=Pn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),J}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,$)}sendOne($,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{F(this.observers[$])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}const Hn=1e3,$e=2,Ee=144e5,it=.5;function xt(H,$=Hn,F=$e){const L=$*Math.pow(F,H),k=Math.round(it*L*(Math.random()-.5)*2);return Math.min(Ee,L+k)}function Gn(H){return H&&H._delegate?H._delegate:H}},3776:(ft,Ce,V)=>{var u=V(4650);let z=null;function P(){return z}class se{}const re=new u.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function he(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const pe=new u.OlP("Location Initialized");let G=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Y(){return new G((0,u.LFG)(re))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(De)},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let De=(()=>{class n extends lt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+We(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+We(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends lt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ze(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(Te(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+We(i))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=ze,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(u.LFG(lt))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new Pe((0,u.LFG)(lt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function nt(n,e){const t=(0,u.cg1)(n),i=t[u.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===et.CurrencyDecimal)return t[u.wAp.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[u.wAp.NumberSymbols][et.Group]}return i}const st=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Tt=22,kt=".",en="0",St=";",xn=",",Wt="#";function Wn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Fo=/\s+/,Wr=[];let Je=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=Wr,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Fo):Wr}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Fo):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Fo).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ho{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ho(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const p=i.get(a);i.move(p,c),fo(p,r)}});for(let r=0,a=i.length;r<a;r++){const p=i.get(r).context;p.index=r,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{fo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fo(n,e){n.context.$implicit=e.item}let Rr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new oc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class oc{constructor(){this.$implicit=null,this.ngIf=null}}function jt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Jn=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),c=-1===r.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let fh=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function ph(n){return!(null==n||""===n||n!=n)}(t))return null;r=r||this._locale;try{return function fi(n,e,t){return function tl(n,e,t,i,r,a,c=!1){let p="",_=!1;if(isFinite(n)){let x=function ic(n){let i,r,a,c,p,e=Math.abs(n)+"",t=0;for((r=e.indexOf(kt))>-1&&(e=e.replace(kt,"")),(a=e.search(/e/i))>0?(r<0&&(r=a),r+=+e.slice(a+1),e=e.substring(0,a)):r<0&&(r=e.length),a=0;e.charAt(a)===en;a++);if(a===(p=e.length))i=[0],r=1;else{for(p--;e.charAt(p)===en;)p--;for(r-=a,i=[],c=0;a<=p;a++,c++)i[c]=Number(e.charAt(a))}return r>Tt&&(i=i.splice(0,Tt-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);c&&(x=function nc(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(x));let C=e.minInt,M=e.minFrac,j=e.maxFrac;if(a){const Rt=a.match(st);if(null===Rt)throw new Error(`${a} is not a valid digit info`);const ht=Rt[1],Ct=Rt[3],Kt=Rt[5];null!=ht&&(C=Wn(ht)),null!=Ct&&(M=Wn(Ct)),null!=Kt?j=Wn(Kt):null!=Ct&&M>j&&(j=M)}!function cn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const a=Math.min(Math.max(e,r),t);let c=a+n.integerLen,p=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let M=c;M<i.length;M++)i[M]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=a+1),i[0]=0;for(let M=1;M<c;M++)i[M]=0}if(p>=5)if(c-1<0){for(let M=0;M>c;M--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,a);r++)i.push(0);let _=0!==a;const x=e+n.integerLen,C=i.reduceRight(function(M,j,q,ee){return ee[q]=(j+=M)<10?j:j-10,_&&(0===ee[q]&&q>=x?ee.pop():_=!1),j>=10?1:0},0);C&&(i.unshift(C),n.integerLen++)}(x,M,j);let q=x.digits,ee=x.integerLen;const me=x.exponent;let xe=[];for(_=q.every(Rt=>!Rt);ee<C;ee++)q.unshift(0);for(;ee<0;ee++)q.unshift(0);ee>0?xe=q.splice(ee,q.length):(xe=q,q=[0]);const mt=[];for(q.length>=e.lgSize&&mt.unshift(q.splice(-e.lgSize,q.length).join(""));q.length>e.gSize;)mt.unshift(q.splice(-e.gSize,q.length).join(""));q.length&&mt.unshift(q.join("")),p=mt.join(nt(t,i)),xe.length&&(p+=nt(t,r)+xe.join("")),me&&(p+=nt(t,et.Exponential)+"+"+me)}else p=nt(t,et.Infinity);return p=n<0&&!_?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,function na(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(St),r=i[0],a=i[1],c=-1!==r.indexOf(kt)?r.split(kt):[r.substring(0,r.lastIndexOf(en)+1),r.substring(r.lastIndexOf(en)+1)],p=c[0],_=c[1]||"";t.posPre=p.substring(0,p.indexOf(Wt));for(let C=0;C<_.length;C++){const M=_.charAt(C);M===en?t.minFrac=t.maxFrac=C+1:M===Wt?t.maxFrac=C+1:t.posSuf+=M}const x=p.split(xn);if(t.gSize=x[1]?x[1].length:0,t.lgSize=x[2]||x[1]?(x[2]||x[1]).length:0,a){const C=r.length-t.posPre.length-t.posSuf.length,M=a.indexOf(Wt);t.negPre=a.substring(0,M).replace(/'/g,""),t.negSuf=a.slice(M+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function an(n,e){return(0,u.cg1)(n)[u.wAp.NumberFormats][e]}(e,le.Decimal),nt(e,et.MinusSign)),e,et.Group,et.Decimal,t)}(function Qr(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(a){throw function Ut(n,e){return new u.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.soG,16))},n.\u0275pipe=u.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const vr="browser",Vu="server";function Bu(n){return n===Vu}let ts=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new aa((0,u.LFG)(re),window)}),n})();class aa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function la(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ns(this.window.history)||ns(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ns(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Es extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pa extends Es{static makeCurrent(){!function ie(n){z||(z=n)}(new pa)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zu(){return Pr=Pr||document.querySelector("base"),Pr?Pr.getAttribute("href"):null}();return null==t?null:function ma(n){Fr=Fr||document.createElement("a"),Fr.setAttribute("href",n);const e=Fr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Fr,Pr=null;const Ku=new u.OlP("TRANSITION_ID"),gl=[{provide:u.ip1,useFactory:function o_(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ku,re,u.zs3],multi:!0}];let Cc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=new u.OlP("EventManagerPlugins");let Dc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ga),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Is=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let a=r.get(t)??0;return a+=i,a>0?r.set(t,a):r.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Dn=(()=>{class n extends Is{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(a=>a.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eo=/%COMP%/g,yl=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function yo(n,e){return e.flat(100).map(t=>t.replace(eo,n))}function Ds(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ba=(()=>{class n{constructor(t,i,r,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Ki(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof wa?r.applyToHost(t):r instanceof as&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const c=this.eventManager,p=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case u.ifc.Emulated:a=new wa(c,p,i,this.appId,_);break;case u.ifc.ShadowDom:return new Ss(c,p,t,i);default:a=new as(c,p,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dc),u.LFG(Dn),u.LFG(u.AFp),u.LFG(yl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ki{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Cs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ts(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ts(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Cs[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Cs[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ds(i)):this.eventManager.addEventListener(e,t,Ds(i))}}function Ts(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ss extends Ki{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=yo(r.id,r.styles);for(const c of a){const p=document.createElement("style");p.textContent=c,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class as extends Ki{constructor(e,t,i,r,a=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=yo(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class wa extends as{constructor(e,t,i,r,a){const c=r+"-"+i.id;super(e,t,i,a,c),this.contentAttr=function _o(n){return"_ngcontent-%COMP%".replace(eo,n)}(c),this.hostAttr=function wh(n){return"_nghost-%COMP%".replace(eo,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let xh=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bl=["alt","control","meta","shift"],Tc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yu=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),c="code."),bl.forEach(x=>{const C=i.indexOf(x);C>-1&&(i.splice(C,1),c+=x+".")}),c+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=c,_}static matchEventFullKeyCode(t,i){let r=Tc[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),bl.forEach(c=>{c!==r&&(0,wl[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:vr},{provide:u.g9A,useValue:function El(){pa.makeCurrent()},multi:!0},{provide:re,useFactory:function Ac(){return(0,u.RDi)(document),document},deps:[]}]),Qu=new u.OlP(""),Xu=[{provide:u.rWj,useClass:class s_{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const p=function(_){c=c||_,a--,0==a&&i(c)};r.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],As=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Yi(){return new u.qLn},deps:[]},{provide:ga,useClass:xh,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:ga,useClass:Yu,multi:!0,deps:[re]},{provide:ba,useClass:ba,deps:[Dc,Dn,u.AFp,yl]},{provide:u.FYo,useExisting:ba},{provide:Is,useExisting:Dn},{provide:Dn,useClass:Dn,deps:[re]},{provide:Dc,useClass:Dc,deps:[ga,u.R0b]},{provide:class al{},useClass:Cc,deps:[]},[]];let Ms=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ku,useExisting:u.AFp},gl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qu,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...As,...Xu],imports:[Xr,u.hGG]}),n})(),cs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ju(){return new cs((0,u.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var zt=V(8996),fs=V(3269);function at(...n){const e=(0,fs.yG)(n);return(0,zt.D)(n,e)}var Mn=V(7579);class _i extends Mn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Il=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ti=V(9751);const{isArray:bo}=Array,{getPrototypeOf:Nc,prototype:wo,keys:Lc}=Object;function Da(n){if(1===n.length){const e=n[0];if(bo(e))return{args:e,keys:null};if(function Os(n){return n&&"object"==typeof n&&Nc(n)===wo}(e)){const t=Lc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var to=V(4671),Dt=V(4004);const{isArray:Ta}=Array;function D(n){return(0,Dt.U)(e=>function I(n,e){return Ta(e)?n(...e):n(e)}(n,e))}function R(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var U=V(5403),Q=V(9672);function oe(...n){const e=(0,fs.yG)(n),t=(0,fs.jO)(n),{args:i,keys:r}=Da(n);if(0===i.length)return(0,zt.D)([],e);const a=new Ti.y(function Ne(n,e,t=to.y){return i=>{rt(e,()=>{const{length:r}=n,a=new Array(r);let c=r,p=r;for(let _=0;_<r;_++)rt(e,()=>{const x=(0,zt.D)(n[_],e);let C=!1;x.subscribe((0,U.x)(i,M=>{a[_]=M,C||(C=!0,p--),p||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>R(r,c):to.y));return t?a.pipe(D(t)):a}function rt(n,e,t){n?(0,Q.f)(t,n,e):e()}var ct=V(8189);function Yt(...n){return function Et(){return(0,ct.J)(1)}()((0,zt.D)(n,(0,fs.yG)(n)))}var It=V(8421);function Ui(n){return new Ti.y(e=>{(0,It.Xf)(n()).subscribe(e)})}var Si=V(9635),Qi=V(576);function Go(n,e){const t=(0,Qi.m)(n)?n:()=>n,i=r=>r.error(t());return new Ti.y(e?r=>e.schedule(i,0,r):i)}var lr=V(515),ti=V(727),bn=V(4482);function ks(){return(0,bn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,U.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ch extends Ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ti.w0;const t=this.getSubject();e.add(this.source.subscribe((0,U.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ti.w0.EMPTY)}return e}refCount(){return ks()(this)}}function yi(n,e){return(0,bn.e)((t,i)=>{let r=null,a=0,c=!1;const p=()=>c&&!r&&i.complete();t.subscribe((0,U.x)(i,_=>{r?.unsubscribe();let x=0;const C=a++;(0,It.Xf)(n(_,C)).subscribe(r=(0,U.x)(i,M=>i.next(e?e(_,M,C,x++):M),()=>{r=null,p()}))},()=>{c=!0,p()}))})}function Ps(n){return n<=0?()=>lr.E:(0,bn.e)((e,t)=>{let i=0;e.subscribe((0,U.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Sa(...n){const e=(0,fs.yG)(n);return(0,bn.e)((t,i)=>{(e?Yt(n,t,e):Yt(n,t)).subscribe(i)})}function xr(n,e){return(0,bn.e)((t,i)=>{let r=0;t.subscribe((0,U.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Xi=V(5577);function Aa(n){return(0,bn.e)((e,t)=>{let i=!1;e.subscribe((0,U.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function u_(n=Dh){return(0,bn.e)((e,t)=>{let i=!1;e.subscribe((0,U.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Dh(){return new Il}function xo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xr((r,a)=>n(r,a,i)):to.y,Ps(1),t?Aa(e):u_(()=>new Il))}function Cl(n,e){return(0,Qi.m)(e)?(0,Xi.z)(n,e,1):(0,Xi.z)(n,1)}var cr=V(8505);function Ma(n){return(0,bn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,U.x)(t,void 0,void 0,c=>{a=(0,It.Xf)(n(c,Ma(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function id(n,e){return(0,bn.e)(function Hb(n,e,t,i,r){return(a,c)=>{let p=t,_=e,x=0;a.subscribe((0,U.x)(c,C=>{const M=x++;_=p?n(_,C,M):(p=!0,C),i&&c.next(_)},r&&(()=>{p&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Th(n){return n<=0?()=>lr.E:(0,bn.e)((e,t)=>{let i=[];e.subscribe((0,U.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Sh(n,e){const t=arguments.length>=2;return i=>i.pipe(n?xr((r,a)=>n(r,a,i)):to.y,Th(1),t?Aa(e):u_(()=>new Il))}function Uc(n){return(0,bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $t="primary",Er=Symbol("RouteTitle");class d_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ra(n){return new d_(n)}function h_(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],p=n[a];if(c.startsWith(":"))r[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function no(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Op(n[r],e[r]))return!1;return!0}function Op(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function rd(n){return Array.prototype.concat.apply([],n)}function kp(n){return n.length>0?n[n.length-1]:null}function Bi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ps(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,zt.D)(Promise.resolve(n)):at(n)}const ji=!1,Bc={exact:function Oa(n,e,t){if(!Ns(n.segments,e.segments)||!zc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Oa(n.children[i],e.children[i],t))return!1;return!0},subset:od},Mh={exact:function Ai(n,e){return no(n,e)},subset:function jc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Op(n[t],e[t]))},ignored:()=>!0};function Rh(n,e,t){return Bc[t.paths](n.root,e.root,t.matrixParams)&&Mh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function od(n,e,t){return Oh(n,e,e.segments,t)}function Oh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ns(r,t)||e.hasChildren()||!zc(r,t,i))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!zc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!od(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ns(n.segments,r)&&zc(n.segments,r,i)&&n.children[$t])&&Oh(n.children[$t],e,a,i)}}function zc(n,e,t){return e.every((i,r)=>Mh[t](n[r].parameters,i.parameters))}class Fs{constructor(e=new nn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return m.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g(this)}}class $c{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ra(this.parameters)),this._parameterMap}toString(){return Qt(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new v},providedIn:"root"}),n})();class v{parse(e){const t=new sd(e);return new Fs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${b(e.root,!0)}`,i=function io(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${N(t)}=${N(r)}`).join("&"):`${N(t)}=${N(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function te(n){return encodeURI(n)}(e.fragment)}`:""}`}}const m=new v;function g(n){return n.segments.map(e=>Qt(e)).join("/")}function b(n,e){if(!n.hasChildren())return g(n);if(e){const t=n.children[$t]?b(n.children[$t],!1):"",i=[];return Bi(n.children,(r,a)=>{a!==$t&&i.push(`${a}:${b(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function f_(n,e){let t=[];return Bi(n.children,(i,r)=>{r===$t&&(t=t.concat(e(i,r)))}),Bi(n.children,(i,r)=>{r!==$t&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$t?[b(n.children[$t],!1)]:[`${r}:${b(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${g(n)}/${t[0]}`:`${g(n)}/(${t.join("//")})`}}function S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function N(n){return S(n).replace(/%3B/gi,";")}function Se(n){return S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ke(n){return decodeURIComponent(n)}function _t(n){return Ke(n.replace(/\+/g,"%20"))}function Qt(n){return`${Se(n.path)}${function Rn(n){return Object.keys(n).map(e=>`;${Se(e)}=${Se(n[e])}`).join("")}(n.parameters)}`}const Ls=/^[^\/()?;=#]+/;function Pa(n){const e=n.match(Ls);return e?e[0]:""}const Fp=/^[^=?&#]+/,Np=/^[^&#]+/;class sd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$t]=new nn(e,t)),i}parseSegment(){const e=Pa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,ji);return this.capture(e),new $c(Ke(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pa(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pa(this.remaining);r&&(i=r,this.capture(i))}e[Ke(t)]=Ke(i)}parseQueryParam(e){const t=function kh(n){const e=n.match(Fp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Lp(n){const e=n.match(Np);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=_t(t),a=_t(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,ji);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$t);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[$t]:new nn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,ji)}}function Dl(n){return n.segments.length>0?new nn([],{[$t]:n}):n}function Tl(n){const e={};for(const i of Object.keys(n.children)){const a=Tl(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function Hc(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function Vs(n){return n instanceof Fs}const Ph=!1;function Gb(n,e,t,i,r){if(0===t.length)return Vh(e.root,e.root,e.root,i,r);const a=function p_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wb(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Bi(a.outlets,(_,x)=>{p[x]="string"==typeof _?_.split("/"):_}),[...r,{outlets:p}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&r.push(p))}),r):[...r,a]},[]);return new Wb(t,e,i)}(t);return a.toRoot()?Vh(e.root,e.root,new nn([],{}),i,r):function c(_){const x=function m_(n,e,t,i){if(n.isAbsolute)return new Gc(e.root,!0,0);if(-1===i)return new Gc(t,t===e.root,0);return function g_(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,Ph&&"Invalid number of '../'");r=i.segments.length}return new Gc(i,!1,r-a)}(t,i+(ad(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),C=x.processChildren?Wc(x.segmentGroup,x.index,a.commands):ld(x.segmentGroup,x.index,a.commands);return Vh(e.root,x.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function ad(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lh(n){return"object"==typeof n&&null!=n&&n.outlets}function Vh(n,e,t,i,r){let c,a={};i&&Bi(i,(_,x)=>{a[x]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),c=n===e?t:Uh(n,e,t);const p=Dl(Tl(c));return new Fs(p,a,r)}function Uh(n,e,t){const i={};return Bi(n.children,(r,a)=>{i[a]=r===e?t:Uh(r,e,t)}),new nn(n.segments,i)}class Wb{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ad(i[0]))throw new u.vHH(4003,Ph&&"Root segment cannot have matrix parameters");const r=i.find(Lh);if(r&&r!==kp(i))throw new u.vHH(4004,Ph&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ld(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return Wc(n,e,t);const i=function __(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],p=t[i];if(Lh(p))break;const _=`${p}`,x=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&x&&"object"==typeof x&&void 0===x.outlets){if(!Zb(_,x,c))return a;i+=2}else{if(!Zb(_,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new nn(n.segments.slice(0,i.pathIndex),{});return a.children[$t]=new nn(n.segments.slice(i.pathIndex),n.children),Wc(a,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?Bh(n,e,t):i.match?Wc(n,0,r):Bh(n,e,t)}function Wc(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function Vp(n){return Lh(n[0])?n[0].outlets:{[$t]:n}}(t),r={};return!i[$t]&&n.children[$t]&&1===n.numberOfChildren&&0===n.children[$t].segments.length?Wc(n.children[$t],e,t):(Bi(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=ld(n.children[c],e,a))}),Bi(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new nn(n.segments,r))}}function Bh(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Lh(a)){const _=y_(a.outlets);return new nn(i,_)}if(0===r&&ad(t[0])){i.push(new $c(n.segments[e].path,cd(t[0]))),r++;continue}const c=Lh(a)?a.outlets[$t]:`${a}`,p=r<t.length-1?t[r+1]:null;c&&p&&ad(p)?(i.push(new $c(c,cd(p))),r+=2):(i.push(new $c(c,{})),r++)}return new nn(i,{})}function y_(n){const e={};return Bi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Bh(new nn([],{}),0,t))}),e}function cd(n){const e={};return Bi(n,(t,i)=>e[i]=`${t}`),e}function Zb(n,e,t){return n==t.path&&no(e,t.parameters)}const ud="imperative";class Us{constructor(e,t){this.id=e,this.url=t}}class v_ extends Us{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qc extends Us{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jh extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zh extends Us{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class dd extends Us{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class b_ extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hd extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bI extends Us{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wI extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QA extends Us{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Up{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E_{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xb=(()=>{class n{createUrlTree(t,i,r,a,c,p){return Gb(t||i.root,r,a,c,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),CI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return Xb.\u0275fac(e)},providedIn:"root"}),n})();class Jb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=I_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=I_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=C_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return C_(e,this._root).map(t=>t.value)}}function I_(n,e){if(n===e.value)return e;for(const t of e.children){const i=I_(n,t);if(i)return i}return null}function C_(n,e){if(n===e.value)return[e];for(const t of e.children){const i=C_(n,t);if(i.length)return i.unshift(e),i}return[]}class Ir{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class e0 extends Jb{constructor(e,t){super(e),this.snapshot=t,D_(this,e)}toString(){return this.snapshot.toString()}}function DI(n,e){const t=function XA(n,e){const c=new Hh([],{},{},"",{},$t,e,null,n.root,-1,{});return new t0("",new Ir(c,[]))}(n,e),i=new _i([new $c("",{})]),r=new _i({}),a=new _i({}),c=new _i({}),p=new _i(""),_=new $h(i,r,c,p,a,$t,e,t.root);return _.snapshot=t.root,new e0(new Ir(_,[]),t)}class $h{constructor(e,t,i,r,a,c,p,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,Dt.U)(x=>x[Er]))??at(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Ra(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Ra(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TI(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function JA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Hh{get title(){return this.data?.[Er]}constructor(e,t,i,r,a,c,p,_,x,C,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=p,this.routeConfig=_,this._urlSegment=x,this._lastPathIndex=C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t0 extends Jb{constructor(e,t){super(t),this.url=e,D_(this,t)}toString(){return n0(this._root)}}function D_(n,e){e.value._routerState=n,e.children.forEach(t=>D_(n,t))}function n0(n){const e=n.children.length>0?` { ${n.children.map(n0).join(", ")} } `:"";return`${n.value}${e}`}function T_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,no(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),no(e.params,t.params)||n.params.next(t.params),function Rp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!no(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),no(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gh(n,e){const t=no(n.params,e.params)&&function Pp(n,e){return Ns(n,e)&&n.every((t,i)=>no(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gh(n.parent,e.parent))}function Na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function r0(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Na(n,i,r);return Na(n,i)})}(n,e,t);return new Ir(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Na(n,p)),c}}const i=function o0(n){return new $h(new _i(n.url),new _i(n.params),new _i(n.queryParams),new _i(n.fragment),new _i(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>Na(n,a));return new Ir(i,r)}}const Bp="ngNavigationCancelingError";function SI(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=AI(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function AI(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Bp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function MI(n){return jp(n)&&Vs(n.url)}function jp(n){return n&&n[Bp]}class S_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zp,this.attachRef=null}}let zp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new S_,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A_=!1;let $p=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(zp),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,A_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,A_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,A_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,A_);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new RI(t,p,r.injector);if(i&&function OI(n){return!!n.resolveComponentFactory}(i)){const x=i.resolveComponentFactory(c);this.activated=r.createComponent(x,r.length,_)}else this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class RI{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===$h?this.route:e===zp?this.childContexts:this.parent.get(e,t)}}let M_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[$p],encapsulation:2}),n})();function s0(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wh(n){const e=n.children&&n.children.map(Wh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=M_),t}function Eo(n){return n.outlet||$t}function l0(n,e){const t=n.filter(i=>Eo(i)===e);return t.push(...n.filter(i=>Eo(i)!==e)),t}function qh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class LI{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),T_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bs(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Bi(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Bs(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Bs(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bs(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new x_(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Kb(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(T_(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),T_(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=qh(r.snapshot),_=p?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class k_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P_{constructor(e,t){this.component=e,this.route=t}}function tM(n,e,t){const i=n._root;return fd(i,e?e._root:null,t,[i.value])}function Al(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function fd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Bs(e);return n.children.forEach(c=>{(function c0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function u0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!no(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gh(n,e)||!no(n.queryParams,e.queryParams);default:return!Gh(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new k_(i)):(a.data=c.data,a._resolvedData=c._resolvedData),fd(n,e,a.component?p?p.children:null:t,i,r),_&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new P_(p.outlet.component,c))}else c&&Hp(e,p,r),r.canActivateChecks.push(new k_(i)),fd(n,null,a.component?p?p.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),Bi(a,(c,p)=>Hp(c,t.getContext(p),r)),r}function Hp(n,e,t){const i=Bs(n),r=n.value;Bi(i,(a,c)=>{Hp(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new P_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Kh(n){return"function"==typeof n}function Gp(n){return n instanceof Il||"EmptyError"===n?.name}const js=Symbol("INITIAL_VALUE");function pd(){return yi(n=>oe(n.map(e=>e.pipe(Ps(1),Sa(js)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===js)return js;if(!1===t||t instanceof Fs)return t}return!0}),xr(e=>e!==js),Ps(1)))}function g0(n){return(0,Si.z)((0,cr.b)(e=>{if(Vs(e))throw SI(0,e)}),(0,Dt.U)(e=>!0===e))}const Ml={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y0(n,e,t,i,r){const a=B_(n,e,t);return a.matched?function _0(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?at(r.map(c=>{const p=Al(c,n);return ps(function VI(n){return n&&Kh(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(pd(),g0()):at(!0)}(i=s0(e,i),e,t).pipe((0,Dt.U)(c=>!0===c?a:{...Ml})):at(a)}function B_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ml}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||h_)(t,n,e);if(!r)return{...Ml};const a={};Bi(r.posParams,(p,_)=>{a[_]=p.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Zp(n,e,t,i){if(t.length>0&&function v0(n,e,t){return t.some(i=>Yh(n,e,i)&&Eo(i)!==$t)}(n,t,i)){const a=new nn(e,function jI(n,e,t,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Eo(a)!==$t){const c=new nn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Eo(a)]=c}return r}(n,e,i,new nn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function zI(n,e,t){return t.some(i=>Yh(n,e,i))}(n,t,i)){const a=new nn(n.segments,function j_(n,e,t,i,r){const a={};for(const c of i)if(Yh(n,t,c)&&!r[Eo(c)]){const p=new nn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[Eo(c)]=p}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new nn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Yh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $I(n,e,t,i){return!!(Eo(n)===i||i!==$t&&Yh(e,t,n))&&("**"===n.path||B_(e,n,t).matched)}function b0(n,e,t){return 0===e.length&&!n.children[t]}const Rl=!1;class Kp{constructor(e){this.segmentGroup=e||null}}class Kc{constructor(e){this.urlTree=e}}function La(n){return Go(new Kp(n))}function w0(n){return Go(new Kc(n))}class WI{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=Zp(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$t).pipe((0,Dt.U)(a=>this.createUrlTree(Tl(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ma(a=>{if(a instanceof Kc)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Kp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$t).pipe((0,Dt.U)(r=>this.createUrlTree(Tl(r),e.queryParams,e.fragment))).pipe(Ma(r=>{throw r instanceof Kp?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Rl)}createUrlTree(e,t,i){const r=Dl(e);return new Fs(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Dt.U)(a=>new nn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,zt.D)(r).pipe(Cl(a=>{const c=i.children[a],p=l0(t,a);return this.expandSegmentGroup(e,p,c,a).pipe((0,Dt.U)(_=>({segment:_,outlet:a})))}),id((a,c)=>(a[c.outlet]=c.segment,a),{}),Sh())}expandSegment(e,t,i,r,a,c){return(0,zt.D)(i).pipe(Cl(p=>this.expandSegmentAgainstRoute(e,t,i,p,r,a,c).pipe(Ma(x=>{if(x instanceof Kp)return at(null);throw x}))),xo(p=>!!p),Ma((p,_)=>{if(Gp(p))return b0(t,r,a)?at(new nn([],{})):La(t);throw p}))}expandSegmentAgainstRoute(e,t,i,r,a,c,p){return $I(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):La(t):La(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?w0(a):this.lineralizeSegments(i,a).pipe((0,Xi.z)(c=>{const p=new nn(c,{});return this.expandSegment(e,p,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:p,consumedSegments:_,remainingSegments:x,positionalParamSegments:C}=B_(t,r,a);if(!p)return La(t);const M=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?w0(M):this.lineralizeSegments(r,M).pipe((0,Xi.z)(j=>this.expandSegment(e,t,i,j.concat(x),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=s0(i,e),i.loadChildren?(i._loadedRoutes?at({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Dt.U)(p=>(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,new nn(r,{})))):at(new nn(r,{}))):y0(t,i,r,e).pipe(yi(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Xi.z)(C=>{const M=C.injector??e,j=C.routes,{segmentGroup:q,slicedSegments:ee}=Zp(t,p,_,j),me=new nn(q.segments,q.children);if(0===ee.length&&me.hasChildren())return this.expandChildren(M,j,me).pipe((0,Dt.U)(ht=>new nn(p,ht)));if(0===j.length&&0===ee.length)return at(new nn(p,{}));const xe=Eo(i)===a;return this.expandSegment(M,me,j,ee,xe?$t:a,!0).pipe((0,Dt.U)(Rt=>new nn(p.concat(Rt.segments),Rt.children)))})):La(t)))}getChildConfig(e,t,i){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function BI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?at(!0):at(r.map(c=>{const p=Al(c,n);return ps(function h0(n){return n&&Kh(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(pd(),g0())}(e,t,i).pipe((0,Xi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,cr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function HI(n){return Go(AI(Rl,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return at(i);if(r.numberOfChildren>1||!r.children[$t])return e.redirectTo,Go(new u.vHH(4e3,Rl));r=r.children[$t]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Fs(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Bi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[a]=t[p]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return Bi(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,i,r)}),new nn(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Rl);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class $_{}class G_{constructor(e,t,i,r,a,c,p){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=p}recognize(){const e=Zp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$t).pipe((0,Dt.U)(t=>{if(null===t)return null;const i=new Hh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ir(i,t),a=new t0(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=TI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,zt.D)(Object.keys(i.children)).pipe(Cl(r=>{const a=i.children[r],c=l0(t,r);return this.processSegmentGroup(e,c,a,r)}),id((r,a)=>r&&a?(r.push(...a),r):null),function Vc(n,e=!1){return(0,bn.e)((t,i)=>{let r=0;t.subscribe((0,U.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),Aa(null),Sh(),(0,Dt.U)(r=>{if(null===r)return null;const a=I0(r);return function Qh(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,zt.D)(t).pipe(Cl(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),xo(c=>!!c),Ma(c=>{if(Gp(c))return b0(i,r,a)?at([]):at(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!$I(t,i,r,a))return at(null);let c;if("**"===t.path){const p=r.length>0?kp(r).parameters:{},_=D0(i)+r.length;c=at({snapshot:new Hh(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yc(t),Eo(t),t.component??t._loadedComponent??null,t,C0(i),_,zs(t)),consumedSegments:[],remainingSegments:[]})}else c=y0(i,t,r,e).pipe((0,Dt.U)(({matched:p,consumedSegments:_,remainingSegments:x,parameters:C})=>{if(!p)return null;const M=D0(i)+_.length;return{snapshot:new Hh(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yc(t),Eo(t),t.component??t._loadedComponent??null,t,C0(i),M,zs(t)),consumedSegments:_,remainingSegments:x}}));return c.pipe(yi(p=>{if(null===p)return at(null);const{snapshot:_,consumedSegments:x,remainingSegments:C}=p;e=t._injector??e;const M=t._loadedInjector??e,j=function ZI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:q,slicedSegments:ee}=Zp(i,x,C,j.filter(xe=>void 0===xe.redirectTo));if(0===ee.length&&q.hasChildren())return this.processChildren(M,j,q).pipe((0,Dt.U)(xe=>null===xe?null:[new Ir(_,xe)]));if(0===j.length&&0===ee.length)return at([new Ir(_,[])]);const me=Eo(t)===a;return this.processSegment(M,j,q,ee,me?$t:a).pipe((0,Dt.U)(xe=>null===xe?null:[new Ir(_,xe)]))}))}}function KI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function I0(n){const e=[],t=new Set;for(const i of n){if(!KI(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=I0(i.children);e.push(new Ir(i.value,r))}return e.filter(i=>!t.has(i))}function C0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Yc(n){return n.data||{}}function zs(n){return n.resolve||{}}function W_(n){return"string"==typeof n.title||null===n.title}function Yp(n){return yi(e=>{const t=n(e);return t?(0,zt.D)(t).pipe((0,Dt.U)(()=>e)):at(e)})}const Qc=new u.OlP("ROUTES");let q_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ps(t.loadComponent()).pipe((0,Dt.U)(Wo),(0,cr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Uc(()=>{this.componentLoaders.delete(t)})),r=new Ch(i,()=>new Mn.x).pipe(ks());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return at({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Dt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,x,C=!1;Array.isArray(p)?x=p:(_=p.create(t).injector,x=rd(_.get(Qc,[],u.XFs.Self|u.XFs.Optional)));return{routes:x.map(Wh),injector:_}}),Uc(()=>{this.childrenLoaders.delete(i)})),c=new Ch(a,()=>new Mn.x).pipe(ks());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return ps(t()).pipe((0,Dt.U)(Wo),(0,Xi.z)(i=>i instanceof u.YKP||Array.isArray(i)?at(i):(0,zt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wo(n){return function JI(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mn.x,this.configLoader=(0,u.f3M)(q_),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(ka),this.rootContexts=(0,u.f3M)(zp),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new w_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new xI(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new _i({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ud,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xr(i=>0!==i.id),(0,Dt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),yi(i=>{let r=!1,a=!1;return at(i).pipe((0,cr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yi(c=>{const p=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new zh(c.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),lr.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return A0(c.source)&&(t.browserUrlTree=c.extractedUrl),at(c).pipe(yi(C=>{const M=this.transitions?.getValue();return this.events.next(new v_(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?lr.E:Promise.resolve(C)}),function E0(n,e,t,i){return yi(r=>function GI(n,e,t,i,r){return new WI(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Dt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,cr.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function QI(n,e,t,i,r){return(0,Xi.z)(a=>function qI(n,e,t,i,r,a,c="emptyOnly"){return new G_(n,e,t,i,r,c,a).recognize().pipe(yi(p=>null===p?function H_(n){return new Ti.y(e=>e.error(n))}(new $_):at(p)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,Dt.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,cr.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(j,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new b_(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:j,restoredState:q,extras:ee}=c,me=new v_(C,this.urlSerializer.serialize(M),j,q);this.events.next(me);const xe=DI(M,this.rootComponentType).snapshot;return at(i={...c,targetSnapshot:xe,urlAfterRedirects:M,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new zh(c.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),lr.E}}),(0,cr.b)(c=>{const p=new hd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),(0,Dt.U)(c=>i={...c,guards:tM(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function L_(n,e){return(0,Xi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?at({...t,guardsResult:!0}):function Wp(n,e,t,i){return(0,zt.D)(n).pipe((0,Xi.z)(r=>function U_(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?at(a.map(p=>{const _=qh(e)??r,x=Al(p,_);return ps(function N_(n){return n&&Kh(n.canDeactivate)}(x)?x.canDeactivate(n,e,t,i):_.runInContext(()=>x(n,e,t,i))).pipe(xo())})).pipe(pd()):at(!0)}(r.component,r.route,t,e,i)),xo(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Xi.z)(p=>p&&function d0(n){return"boolean"==typeof n}(p)?function UI(n,e,t,i){return(0,zt.D)(e).pipe(Cl(r=>Yt(function qp(n,e){return null!==n&&e&&e(new EI(n)),at(!0)}(r.route.parent,i),function V_(n,e){return null!==n&&e&&e(new Up(n)),at(!0)}(r.route,i),function m0(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Zh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ui(()=>at(c.guards.map(_=>{const x=qh(c.node)??t,C=Al(_,x);return ps(function nM(n){return n&&Kh(n.canActivateChild)}(C)?C.canActivateChild(i,n):x.runInContext(()=>C(i,n))).pipe(xo())})).pipe(pd())));return at(a).pipe(pd())}(n,r.path,t),function Zc(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return at(!0);const r=i.map(a=>Ui(()=>{const c=qh(e)??t,p=Al(a,c);return ps(function F_(n){return n&&Kh(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(xo())}));return at(r).pipe(pd())}(n,r.route,t))),xo(r=>!0!==r,!0))}(i,a,n,e):at(p)),(0,Dt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,c=>this.events.next(c)),(0,cr.b)(c=>{if(i.guardsResult=c.guardsResult,Vs(c.guardsResult))throw SI(0,c.guardsResult);const p=new bI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),xr(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Yp(c=>{if(c.guards.canActivateChecks.length)return at(c).pipe((0,cr.b)(p=>{const _=new wI(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),yi(p=>{let _=!1;return at(p).pipe(function XI(n,e){return(0,Xi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return at(t);let a=0;return(0,zt.D)(r).pipe(Cl(c=>function rM(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!W_(r)&&(a[Er]=r.title),function oM(n,e,t,i){const r=function T0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return at({});const a={};return(0,zt.D)(r).pipe((0,Xi.z)(c=>function sM(n,e,t,i){const r=qh(e)??i,a=Al(n,r);return ps(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(xo(),(0,cr.b)(p=>{a[c]=p}))),Th(1),function Mp(n){return(0,Dt.U)(()=>n)}(a),Ma(c=>Gp(c)?lr.E:Go(c)))}(a,n,e,i).pipe((0,Dt.U)(c=>(n._resolvedData=c,n.data=TI(n,t).resolve,r&&W_(r)&&(n.data[Er]=r.title),null)))}(c.route,i,n,e)),(0,cr.b)(()=>a++),Th(1),(0,Xi.z)(c=>a===r.length?at(t):lr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,cr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,cr.b)(p=>{const _=new QA(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),Yp(c=>{const p=_=>{const x=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,cr.b)(C=>{_.component=C}),(0,Dt.U)(()=>{})));for(const C of _.children)x.push(...p(C));return x};return oe(p(c.targetSnapshot.root)).pipe(Aa(),Ps(1))}),Yp(()=>this.afterPreactivation()),(0,Dt.U)(c=>{const p=function Fa(n,e,t){const i=Na(n,e._root,t?t._root:void 0);return new e0(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:p}}),(0,cr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(i=>(new LI(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,cr.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),Uc(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ma(c=>{if(a=!0,jp(c)){MI(c)||(t.navigated=!0,t.restoreHistory(i,!0));const p=new jh(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(p),MI(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||A0(i.source)};t.scheduleNavigation(_,ud,null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const p=new dd(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(p);try{i.resolve(t.errorHandler(c))}catch(_){i.reject(_)}}return lr.E}))}))}cancelNavigationTransition(t,i,r){const a=new jh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A0(n){return n!==ud}let M0=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===$t);return i}getResolvedTitleForRoute(t){return t.data[Er]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(eC)},providedIn:"root"}),n})(),eC=(()=>{class n extends M0{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(nC)},providedIn:"root"}),n})();class R0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nC=(()=>{class n extends R0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xp=new u.OlP("",{providedIn:"root",factory:()=>({})});let Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(O0)},providedIn:"root"}),n})(),O0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k0(n){throw n}function rC(n,e,t){return e.parse("/")}const oC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ro=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(Xp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||k0,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Xt),this.routeReuseStrategy=(0,u.f3M)(tC),this.urlCreationStrategy=(0,u.f3M)(CI),this.titleStrategy=(0,u.f3M)(M0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rd((0,u.f3M)(Qc,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Xh),this.urlSerializer=(0,u.f3M)(ka),this.location=(0,u.f3M)(Pe),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ud,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const p=this.parseUrl(t);this.scheduleNavigation(p,i,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Wh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:_}=i,x=_?this.currentUrlTree.fragment:c;let C=null;switch(p){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,C,x??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Vs(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,ud,null,i)}navigate(t,i={skipLocationChange:!1}){return function F0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...oC}:!1===i?{...P0}:i,Vs(t))return Rh(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Rh(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let p,_,x,C;return c?(p=c.resolve,_=c.reject,x=c.promise):x=new Promise((M,j)=>{p=M,_=j}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),em=(()=>{class n{constructor(t,i,r,a,c,p){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=c,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Mn.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(x=>{x instanceof qc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ro),u.Y36($h),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(lt))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),N0=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,a,c){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof qc&&this.update()})}ngAfterContentInit(){at(this.links.changes,at(null)).pipe((0,ct.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,zt.D)(t).pipe((0,ct.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function aM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ro),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(em,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,em,5),2&t){let a;u.iGM(a=u.CRH())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class Z_{}let aC=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xr(t=>t instanceof qc),Cl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,zt.D)(r).pipe((0,ct.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):at(null);const a=r.pipe((0,Xi.z)(c=>null===c?at(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,zt.D)([a,c]).pipe((0,ct.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ro),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Z_),u.LFG(q_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jh=new u.OlP("");let tm=(()=>{class n{constructor(t,i,r,a,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof v_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof E_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new E_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Io=(()=>((Io=Io||{})[Io.COMPLETE=0]="COMPLETE",Io[Io.FAILED=1]="FAILED",Io[Io.REDIRECTING=2]="REDIRECTING",Io))();const ef=!1;function Va(n,e){return{\u0275kind:n,\u0275providers:e}}const V0=new u.OlP("",{providedIn:"root",factory:()=>!1});function K_(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(ro),r=n.get(nf);1===n.get(Y_)&&i.initialNavigation(),n.get(B0,null,u.XFs.Optional)?.setUpPreloading(),n.get(Jh,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const nf=new u.OlP(ef?"bootstrap done indicator":"",{factory:()=>new Mn.x}),Y_=new u.OlP(ef?"initial navigation":"",{providedIn:"root",factory:()=>1});function uC(){let n=[];return n=ef?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(ro);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Yb(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Va(1,n)}const B0=new u.OlP(ef?"router preloader":"");function dC(n){return Va(0,[{provide:B0,useExisting:aC},{provide:Z_,useExisting:n}])}const gd=!1,nm=new u.OlP(gd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),hM=[Pe,{provide:ka,useClass:v},ro,zp,{provide:$h,useFactory:function L0(n){return n.routerState.root},deps:[ro]},q_,gd?{provide:V0,useValue:!0}:[]];function Q_(){return new u.PXZ("Router",ro)}let j0=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[hM,gd&&i?.enableTracing?uC().\u0275providers:[],{provide:Qc,multi:!0,useValue:t},{provide:nm,useFactory:pC,deps:[[ro,new u.FiY,new u.tp0]]},{provide:Xp,useValue:i||{}},i?.useHash?{provide:lt,useClass:Ie}:{provide:lt,useClass:De},{provide:Jh,useFactory:()=>{const n=(0,u.f3M)(ts),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Xp),i=(0,u.f3M)(Xh),r=(0,u.f3M)(ka);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tm(r,i,n,e,t)}},i?.preloadingStrategy?dC(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Q_},i?.initialNavigation?$0(i):[],[{provide:H0,useFactory:K_},{provide:u.tb,multi:!0,useExisting:H0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Qc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nm,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[M_]}),n})();function pC(n){if(gd&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $0(n){return["disabled"===n.initialNavigation?Va(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(ro);return()=>{e.setUpLocationChangeListener()}}},{provide:Y_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Va(2,[{provide:Y_,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(pe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(ro),a=e.get(nf);(function lM(n,e){n.events.pipe(xr(t=>t instanceof qc||t instanceof jh||t instanceof dd||t instanceof zh),(0,Dt.U)(t=>t instanceof qc||t instanceof zh?Io.COMPLETE:t instanceof jh&&(0===t.code||1===t.code)?Io.REDIRECTING:Io.FAILED),xr(t=>t!==Io.REDIRECTING),Ps(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Xh).afterPreactivation=()=>(i(!0),a.closed?at(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const H0=new u.OlP(gd?"Router Initializer":"");var Xc=V(6452),Ht=V(2090),ur=V(9681),$s=V(1877),Ua=V(4859),J_=V(6451),yd=V(5363),ey=V(6063);class ty extends Mn.x{constructor(e=1/0,t=1/0,i=ey.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let p=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)p=_;p&&i.splice(0,p+1)}}}var G0=V(3099);function im(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,G0.B)({connector:()=>new ty(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function W0(n,e){return(0,Qi.m)(e)?yi(()=>n,e):yi(()=>n)}var ny=V(9468),un=V(2122),Vr=V(2011),Ba=V(259);class Jc{constructor(e){return e}}class iy{constructor(){return(0,Ba.C6)()}}const rm=new u.OlP("angularfire2._apps"),gC={provide:Jc,useFactory:function Co(n){return n&&1===n.length?n[0]:new Jc((0,Ba.Mq)())},deps:[[new u.FiY,rm]]},mM={provide:iy,deps:[[new u.FiY,rm]]};function ry(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Jc(i)}}let q0=(()=>{class n{constructor(t){(0,Ba.KN)("angularfire",un.q4.full,"core"),(0,Ba.KN)("angularfire",un.q4.full,"app"),(0,Ba.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gC,mM]}),n})();function _C(n,...e){return{ngModule:q0,providers:[{provide:rm,useFactory:ry(n),multi:!0,deps:[u.R0b,u.zs3,un.HU,...e]}]}}const vC=(0,un.u3)(Ba.ZF,!0);var _e=V(5861);const oy=new Map,K0={activated:!1,tokenObservers:[]},bC={initialized:!1,enabled:!1};function On(n){return oy.get(n)||Object.assign({},K0)}function om(){return bC}const ay="https://content-firebaseappcheck.googleapis.com/v1",xC="exchangeDebugToken",Q0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class EC{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function IC(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const dr=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function am(n,e){return lm.apply(this,arguments)}function lm(){return(lm=(0,_e.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c,p;try{c=yield fetch(n,a)}catch(M){throw dr.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==c.status)throw dr.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw dr.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw dr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const x=1e3*Number(_[1]),C=Date.now();return{token:p.token,expireTimeMillis:C+x,issuedAtTimeMillis:C}})).apply(this,arguments)}const ja="firebase-app-check-database",cm=1,Ol="firebase-app-check-store";let um=null;function tw(n,e){return nw.apply(this,arguments)}function nw(){return(nw=(0,_e.Z)(function*(n,e){const i=(yield function dy(){return um||(um=new Promise((n,e)=>{try{const t=indexedDB.open(ja,cm);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(dr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ol,{keyPath:"compositeKey"})}}catch(t){e(dr.create("storage-open",{originalErrorMessage:t?.message}))}}),um)}()).transaction(Ol,"readwrite"),a=i.objectStore(Ol).put({compositeKey:n,value:e});return new Promise((c,p)=>{a.onsuccess=_=>{c()},i.onerror=_=>{var x;p(dr.create("storage-set",{originalErrorMessage:null===(x=_.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const af=new $s.Yd("@firebase/app-check");function py(n,e){return(0,Ht.hl)()?function DC(n,e){return tw(function rw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{af.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dm(){return my.apply(this,arguments)}function my(){return(my=(0,_e.Z)(function*(){const n=om();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MC={error:"UNKNOWN_ERROR"};function RC(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function hm(n){return gy.apply(this,arguments)}function gy(){return(gy=(0,_e.Z)(function*(n,e=!1){const t=n.app;!function CC(n){if(!On(n).activated)throw dr.create("use-before-activation",{appName:n.name})}(t);const i=On(t);let a,r=i.token;if(r&&!tu(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(tu(_)?r=_:yield py(t,void 0))}if(!e&&r&&tu(r))return{token:r.token};let p,c=!1;if(function sw(){return om().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=am(function uy(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${ay}/projects/${t}/apps/${i}:${xC}?key=${r}`,body:{debug_token:e}}}(t,yield dm()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const _=yield i.exchangeTokenPromise;return yield py(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield On(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?af.warn(_.message):af.error(_),a=_}return r?a?p=tu(r)?{token:r.token,internalError:a}:PC(a):(p={token:r.token},i.token=r,yield py(t,r)):p=PC(a),c&&function kC(n,e){const t=On(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,p),p})).apply(this,arguments)}function fm(n,e){const t=On(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function yy(n){const{app:e}=n,t=On(e);let i=t.tokenRefresher;i||(i=function OC(n){const{app:e}=n;return new EC((0,_e.Z)(function*(){let i;if(i=On(e).token?yield hm(n,!0):yield hm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=On(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Q0.RETRIAL_MIN_WAIT,Q0.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function tu(n){return n.expireTimeMillis-Date.now()>0}function PC(n){return{token:RC(MC),error:n}}class pm{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=On(this.app);for(const t of e)fm(this.app,t.next);return Promise.resolve()}}const by="app-check-internal";!function cw(){(0,ur._registerComponent)(new Ua.wA("app-check",n=>function FC(n,e){return new pm(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(by).initialize()})),(0,ur._registerComponent)(new Ua.wA(by,n=>function NC(n){return{getToken:e=>hm(n,e),addTokenListener:e=>function _y(n,e,t,i){const{app:r}=n,a=On(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&tu(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),yy(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>yy(n))}(n,"INTERNAL",e),removeTokenListener:e=>fm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ur.registerVersion)("@firebase/app-check","0.6.4")}();class cu{constructor(){return(0,un.vb)("app-check")}}typeof window<"u"&&window,V(9260);const Cy=new u.OlP("angularfire2.auth.use-emulator"),pw=new u.OlP("angularfire2.auth.settings"),Dy=new u.OlP("angularfire2.auth.tenant-id"),Ty=new u.OlP("angularfire2.auth.langugage-code"),Sy=new u.OlP("angularfire2.auth.use-device-language"),Ay=new u.OlP("angularfire.auth.persistence"),mw=(n,e,t,i,r,a,c,p)=>(0,Vr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),c)for(const[x,C]of Object.entries(c))_.settings[x]=C;return p&&_.setPersistence(p),_},[t,i,r,a,c,p]);let wm=(()=>{class n{constructor(t,i,r,a,c,p,_,x,C,M,j,q){const ee=new Mn.x,me=at(void 0).pipe((0,yd.Q)(c.outsideAngular),yi(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9568)))),(0,Dt.U)(()=>(0,Vr.on)(t,a,i)),(0,Dt.U)(xe=>mw(xe,a,p,x,C,M,_,j)),im({bufferSize:1,refCount:!1}));if(Bu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{me.pipe(xo()).subscribe();const mt=me.pipe(yi(Ct=>Ct.getRedirectResult().then(Kt=>Kt,()=>null)),un.iC,im({bufferSize:1,refCount:!1})),Rt=me.pipe(yi(Ct=>new Ti.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))})))),ht=me.pipe(yi(Ct=>new Ti.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))}))));this.authState=mt.pipe(W0(Rt),(0,ny.R)(c.outsideAngular),(0,yd.Q)(c.insideAngular)),this.user=mt.pipe(W0(ht),(0,ny.R)(c.outsideAngular),(0,yd.Q)(c.insideAngular)),this.idToken=this.user.pipe(yi(Ct=>Ct?(0,zt.D)(Ct.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(yi(Ct=>Ct?(0,zt.D)(Ct.getIdTokenResult()):at(null))),this.credential=(0,J_.T)(mt,ee,this.authState.pipe(xr(Ct=>!Ct))).pipe((0,Dt.U)(Ct=>Ct?.user?Ct:null),(0,ny.R)(c.outsideAngular),(0,yd.Q)(c.insideAngular))}return(0,Vr.pX)(this,me,a,{spy:{apply:(xe,mt,Rt)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&Rt.then(ht=>ee.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vr.Dh),u.LFG(Vr.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(un.HU),u.LFG(Cy,8),u.LFG(pw,8),u.LFG(Dy,8),u.LFG(Ty,8),u.LFG(Sy,8),u.LFG(Ay,8),u.LFG(cu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ed=(()=>{class n{constructor(t,i){this.fireauth=t,this.router=i}login(t,i){this.fireauth.signInWithEmailAndPassword(t,i).then(r=>{localStorage.setItem("token","true"),this.router.navigate(1==r.user?.emailVerified?["dashboard"]:["/varify-email"])},r=>{alert(r.message),this.router.navigate(["/login"])})}register(t,i){this.fireauth.createUserWithEmailAndPassword(t,i).then(r=>{alert("Registration Successful"),this.sendEmailForVarification(r.user),this.router.navigate(["/login"])},r=>{alert(r.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/varify-email"])},i=>{alert("Something went wrong")})}sendEmailForVarification(t){console.log(t),t.sendEmailVerification().then(i=>{this.router.navigate(["/varify-email"])},i=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new Xc.U).then(t=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(t.user?.uid))},t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wm),u.LFG(ro))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Id=V(4986);function xm(){return(0,bn.e)((n,e)=>{let t,i=!1;n.subscribe((0,U.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function _w(n,e){return n===e}V(9568);var yt,My=V(3942),yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gs={},Cd=Cd||{},Pt=yw||self;function Em(){}function Im(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function uu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var uf="closure_uid_"+(1e9*Math.random()>>>0),ZC=0;function Ry(n,e,t){return n.call.apply(n.bind,arguments)}function EM(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ur(n,e,t){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ry:EM).apply(null,arguments)}function Cm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function hr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[r].apply(i,c)}}function za(){this.s=this.s,this.o=this.o}za.prototype.s=!1,za.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function du(n){Object.prototype.hasOwnProperty.call(n,uf)&&n[uf]||(n[uf]=++ZC)}(this)},za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ri=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Dm(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function vw(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Im(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function Dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Dr.prototype.h=function(){this.defaultPrevented=!0};var bw=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",Em,e),Pt.removeEventListener("test",Em,e)}catch{}return n}();function Tm(n){return/^[\s\xa0]*$/.test(n)}var Oy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Sm(n,e){return n<e?-1:n>e?1:0}function $a(){var n=Pt.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=$a().indexOf(n)}function ky(n){return ky[" "](n),n}ky[" "]=Em;var Mm,n,YC=Ws("Opera"),hu=Ws("Trident")||Ws("MSIE"),QC=Ws("Edge"),df=QC||hu,Am=Ws("Gecko")&&!(-1!=$a().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),qs=-1!=$a().toLowerCase().indexOf("webkit")&&!Ws("Edge");function xw(){var n=Pt.document;return n?n.documentMode:void 0}e:{var qo="",To=(n=$a(),Am?/rv:([^\);]+)(\)|;)/.exec(n):QC?/Edge\/([\d\.]+)/.exec(n):hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qs?/WebKit\/(\S+)/.exec(n):YC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(To&&(qo=To?To[1]:""),hu){var So=xw();if(null!=So&&So>parseFloat(qo)){Mm=String(So);break e}}Mm=qo}var Ew={};var XC=Pt.document&&hu&&(xw()||parseInt(Mm,10))||void 0;function hf(n,e){if(Dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Am){e:{try{ky(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hf.X.h.call(this)}}hr(hf,Dr);var Fy={2:"touch",3:"pen",4:"mouse"};hf.prototype.h=function(){hf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),JC=0;function Dw(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++JC,this.ba=this.ea=!1}function Rm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Om(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ny(n){const e={};for(const t in n)e[t]=n[t];return e}const ff="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tw(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<ff.length;a++)t=ff[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function pf(n){this.src=n,this.g={},this.h=0}function km(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Ri(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Rm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mf(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}pf.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=mf(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Dw(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var Dd="closure_lm_"+(1e6*Math.random()|0),gf={};function Ly(n,e,t,i,r){if(i&&i.once)return Uy(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ly(n,e[a],t,i,r);return null}return t=Hy(t),n&&n[Ha]?n.N(e,t,uu(i)?!!i.capture:!!i,r):Vy(n,e,t,!1,i,r)}function Vy(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=uu(r)?!!r.capture:!!r,p=zy(n);if(p||(n[Dd]=p=new pf(n)),(t=p.add(e,t,i,c,a)).proxy)return t;if(i=function Sw(){const e=eD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)bw||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(jy(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Uy(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Uy(n,e[a],t,i,r);return null}return t=Hy(t),n&&n[Ha]?n.O(e,t,uu(i)?!!i.capture:!!i,r):Vy(n,e,t,!0,i,r)}function By(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)By(n,e[a],t,i,r);else i=uu(i)?!!i.capture:!!i,t=Hy(t),n&&n[Ha]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mf(a=n.g[e],t,i,r))&&(Rm(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=zy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mf(e,t,i,r)),(t=-1<n?e[n]:null)&&Pm(t))}function Pm(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ha])km(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(jy(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=zy(e))?(km(t,n),0==t.h&&(t.src=null,e[Dd]=null)):Rm(n)}}}function jy(n){return n in gf?gf[n]:gf[n]="on"+n}function eD(n,e){if(n.ba)n=!0;else{e=new hf(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Pm(n),n=t.call(i,e)}return n}function zy(n){return(n=n[Dd])instanceof pf?n:null}var $y="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hy(n){return"function"==typeof n?n:(n[$y]||(n[$y]=function(e){return n.handleEvent(e)}),n[$y])}function Ji(){za.call(this),this.i=new pf(this),this.P=this,this.I=null}function fr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Dr(e,n);else if(e instanceof Dr)e.target=e.target||n;else{var r=e;Tw(e=new Dr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=Fm(c,i,!0,e)&&r}if(r=Fm(c=e.g=n,i,!0,e)&&r,r=Fm(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Fm(c=e.g=t[a],i,!1,e)&&r}function Fm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&km(n.i,c),r=!1!==p.call(_,i)&&r}}return r&&!i.defaultPrevented}hr(Ji,za),Ji.prototype[Ha]=!0,Ji.prototype.removeEventListener=function(n,e,t,i){By(this,n,e,t,i)},Ji.prototype.M=function(){if(Ji.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Rm(t[i]);delete n.g[e],n.h--}}this.I=null},Ji.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ji.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Gy=Pt.JSON.stringify;function tD(){var n=Rw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wy,Aw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iD,n=>n.reset());class iD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rD(n){Pt.setTimeout(()=>{throw n},0)}function Mw(n,e){Wy||function oD(){var n=Pt.Promise.resolve(void 0);Wy=function(){n.then(Ow)}}(),qy||(Wy(),qy=!0),Rw.add(n,e)}var qy=!1,Rw=new class nD{constructor(){this.h=this.g=null}add(e,t){const i=Aw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Ow(){for(var n;n=tD();){try{n.h.call(n.g)}catch(t){rD(t)}var e=Aw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qy=!1}function _f(n,e){Ji.call(this),this.h=n||1,this.g=e||Pt,this.j=Ur(this.lb,this),this.l=Date.now()}function Nm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Lm(n,e,t){if("function"==typeof n)t&&(n=Ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function Zy(n){n.g=Lm(()=>{n.g=null,n.i&&(n.i=!1,Zy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hr(_f,Ji),(yt=_f.prototype).ca=!1,yt.R=null,yt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fr(this,"tick"),this.ca&&(Nm(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){_f.X.M.call(this),Nm(this),delete this.g};class kw extends za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zy(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Td(n){za.call(this),this.h=n,this.g={}}hr(Td,za);var Ky=[];function Yy(n,e,t,i){Array.isArray(t)||(t&&(Ky[0]=t.toString()),t=Ky);for(var r=0;r<t.length;r++){var a=Ly(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Qy(n){Om(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pm(e)},n),n.g={}}function yf(){this.g=!0}function Sd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return Gy(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Td.prototype.M=function(){Td.X.M.call(this),Qy(this)},Td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yf.prototype.Aa=function(){this.g=!1},yf.prototype.info=function(){};var Ga={},aD=null;function vf(){return aD=aD||new Ji}function Xy(n){Dr.call(this,Ga.Pa,n)}function Vm(n){const e=vf();fr(e,new Xy(e))}function Mt(n,e){Dr.call(this,Ga.STAT_EVENT,n),this.stat=e}function Br(n){const e=vf();fr(e,new Mt(e,n))}function Pw(n,e){Dr.call(this,Ga.Qa,n),this.size=e}function bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}Ga.Pa="serverreachability",hr(Xy,Dr),Ga.STAT_EVENT="statevent",hr(Mt,Dr),Ga.Qa="timingevent",hr(Pw,Dr);var Wa={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Md(){}function ni(){}Md.prototype.h=null;var Jy,Um={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bm(){Dr.call(this,"d")}function jm(){Dr.call(this,"c")}function xf(){}function Rd(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Td(this),this.O=Nw,this.T=new _f(n=df?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ev}function ev(){this.i=null,this.g="",this.h=!1}hr(Bm,Dr),hr(jm,Dr),hr(xf,Md),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},Jy=new xf;var Nw=45e3,tv={},zm={};function nv(n,e,t){n.K=1,n.v=rv(Zs(e)),n.s=t,n.P=!0,Od(n,null)}function Od(n,e){n.F=Date.now(),Pl(n),n.A=Zs(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Ww(t.i,"t",i),n.C=0,t=n.l.H,n.h=new ev,n.g=_v(n.l,t?e:null,!n.s),0<n.N&&(n.L=new kw(Ur(n.La,n,n.g),n.N)),Yy(n.S,n.g,"readystatechange",n.ib),e=n.H?Ny(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Vm(),function fu(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),_=0;_<p.length;_++){var x=p[_].split("=");if(1<x.length){var C=x[0];x=x[1];var M=C.split("_");c=2<=M.length&&"type"==M[1]?c+(C+"=")+x+"&":c+(C+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Lw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Vw(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=lD(n,t),r==zm){4==e&&(n.o=4,Br(14),i=!1),Sd(n.j,n.m,null,"[Incomplete Response]");break}if(r==tv){n.o=4,Br(15),Sd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Sd(n.j,n.m,r,null),mu(n,r)}Lw(n)&&r!=zm&&r!=tv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Br(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ym(e),e.K=!0,Br(11))):(Sd(n.j,n.m,t,"[Invalid Chunked Response]"),pu(n),kd(n))}function lD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?zm:(t=Number(e.substring(t,i)),isNaN(t)?tv:(i+=1)+t>e.length?zm:(e=e.substr(i,t),n.C=i+t,e))}function Pl(n){n.V=Date.now()+n.O,iv(n,n.O)}function iv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bf(Ur(n.gb,n),e)}function Ef(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function kd(n){0==n.l.G||n.I||gv(n.l,n)}function pu(n){Ef(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Nm(n.T),Qy(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||qm(t.h,n)))if(!n.J&&qm(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;mv(t),Nd(t)}Ll(t),Br(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=bf(Ur(t.cb,t),6e3));if(1>=Kw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else yu(t,11)}else if((n.J||t.g==n)&&mv(t),!Tm(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let x=r[e];if(t.T=x[0],x=x[1],2==t.G)if("c"==x[0]){t.I=x[1],t.ka=x[2];const C=x[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const M=x[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const j=x[5];null!=j&&"number"==typeof j&&0<j&&(t.J=i=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const q=n.g;if(q){const ee=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var a=i.h;a.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(sv(a,a.h),a.h=null))}if(i.D){const me=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(i.za=me,Zn(i.F,i.D,me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=lx(i,i.H?i.ka:null,i.V),c.J){av(i.h,c);var p=c,_=i.J;_&&p.setTimeout(_),p.B&&(Ef(p),Pl(p)),i.g=c}else pv(i);0<t.i.length&&Ld(t)}else"stop"!=x[0]&&"close"!=x[0]||yu(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?yu(t,7):Rf(t):"noop"!=x[0]&&t.l&&t.l.wa(x),t.A=0)}Vm()}catch{}}function Uw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Im(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Im(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function If(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Im(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(yt=Rd.prototype).setTimeout=function(n){this.O=n},yt.ib=function(n){n=n.target;const e=this.L;e&&3==Za(n)?e.l():this.La(n)},yt.La=function(n){try{if(n==this.g)e:{const C=Za(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||df||this.g&&(this.h.h||this.g.fa()||ix(this.g)))){this.I||4!=C||7==e||Vm(),Ef(this);var t=this.g.aa();this.Y=t;t:if(Lw(this)){var i=ix(this.g);n="";var r=i.length,a=4==Za(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),kd(this);var c="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function sD(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tm(p)){var x=p;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,Br(12),pu(this),kd(this);break e}Sd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mu(this,t)}this.P?(Vw(this,C,c),df&&this.i&&3==C&&(Yy(this.S,this.T,"tick",this.hb),this.T.start())):(Sd(this.j,this.m,c,null),mu(this,c)),4==C&&pu(this),this.i&&!this.I&&(4==C?gv(this.l,this):(this.i=!1,Pl(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Br(12)):(this.o=0,Br(13)),pu(this),kd(this)}}}catch{}},yt.hb=function(){if(this.g){var n=Za(this.g),e=this.g.fa();this.C<e.length&&(Ef(this),Vw(this,n,e),this.i&&4!=n&&Pl(this))}},yt.cancel=function(){this.I=!0,pu(this)},yt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ad(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vm(),Br(17)),pu(this),this.o=2,kd(this)):iv(this,this.V-n)};var Bw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fl){this.h=void 0!==e?e:n.h,$m(this,n.j),this.s=n.s,this.g=n.g,Cf(this,n.m),this.l=n.l,e=n.i;var t=new qa;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zw(this,t),this.o=n.o}else n&&(t=String(n).match(Bw))?(this.h=!!e,$m(this,t[1]||"",!0),this.s=Hm(t[2]||""),this.g=Hm(t[3]||"",!0),Cf(this,t[4]),this.l=Hm(t[5]||"",!0),zw(this,t[6]||"",!0),this.o=Hm(t[7]||"")):(this.h=!!e,this.i=new qa(null,this.h))}function Zs(n){return new Fl(n)}function $m(n,e,t){n.j=t?Hm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zw(n,e,t){e instanceof qa?(n.i=e,function hD(n,e){e&&!n.j&&(Nl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Hw(this,i),Ww(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gm(e,dD)),n.i=new qa(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function rv(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,CM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gm(e,ov,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gm(e,ov,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gm(t,"/"==t.charAt(0)?uD:Wm,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gm(t,$w)),n.join("")};var ov=/[#\/\?@]/g,Wm=/[#\?:]/g,uD=/[#\?]/g,dD=/[#\?@]/g,$w=/#/g;function qa(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nl(n){n.g||(n.g=new Map,n.h=0,n.i&&function jw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hw(n,e){Nl(n),e=Df(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Gw(n,e){return Nl(n),e=Df(n,e),n.g.has(e)}function Ww(n,e,t){Hw(n,e),0<t.length&&(n.i=null,n.g.set(Df(n,e),Dm(t)),n.h+=t.length)}function Df(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Zw(n){this.l=n||fD,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ga&&Pt.g.Ga()&&Pt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=qa.prototype).add=function(n,e){Nl(this),this.i=null,n=Df(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){Nl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},yt.oa=function(){Nl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},yt.W=function(n){Nl(this);let e=[];if("string"==typeof n)Gw(this,n)&&(e=e.concat(this.g.get(Df(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return Nl(this),this.i=null,Gw(this,n=Df(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var fD=10;function Pd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Kw(n){return n.h?1:n.g?n.g.size:0}function qm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sv(n,e){n.g?n.g.add(e):n.h=e}function av(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Yw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Dm(n.i)}function Zm(){}function pD(){this.g=new Zm}function lv(n,e,t){const i=t||"";try{Uw(n,function(r,a){let c=r;uu(r)&&(c=Gy(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Tf(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Fd(n){this.l=n.ac||null,this.j=n.jb||!1}function Km(n,e){Ji.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zw.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Zm.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},Zm.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},hr(Fd,Md),Fd.prototype.g=function(){return new Km(this.l,this.j)},Fd.prototype.i=function(n){return function(){return n}}({}),hr(Km,Ji);var cv=0;function Qw(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function gu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sf(n)}function Sf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=Km.prototype).open=function(n,e){if(this.readyState!=cv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sf(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gu(this)),this.readyState=cv},yt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sf(this)),this.g&&(this.readyState=3,Sf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qw(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},yt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?gu(this):Sf(this),3==this.readyState&&Qw(this)}},yt.Va=function(n){this.g&&(this.response=this.responseText=n,gu(this))},yt.Ua=function(n){this.g&&(this.response=n,gu(this))},yt.ga=function(){this.g&&gu(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Km.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Xw=Pt.JSON.parse;function ui(n){Ji.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jw,this.K=this.L=!1}hr(ui,Ji);var Jw="",gD=/^https?$/i,_D=["POST","PUT"];function ex(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tx(n),Af(n)}function tx(n){n.D||(n.D=!0,fr(n,"complete"),fr(n,"error"))}function nx(n){if(n.h&&typeof Cd<"u"&&(!n.C[1]||4!=Za(n)||2!=n.aa()))if(n.v&&4==Za(n))Lm(n.Ha,0,n);else if(fr(n,"readystatechange"),4==Za(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===p){var r=String(n.H).match(Bw)[1]||null;if(!r&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;r=a.substr(0,a.length-1)}i=!gD.test(r?r.toLowerCase():"")}t=i}if(t)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var c=2<Za(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",tx(n)}}finally{Af(n)}}}function Af(n,e){if(n.g){uv(n);const t=n.g,i=n.C[0]?Em:null;n.g=null,n.C=null,e||fr(n,"ready");try{t.onreadystatechange=i}catch{}}}function uv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Za(n){return n.g?n.g.readyState:0}function ix(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Jw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dv(n){let e="";return Om(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function hv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=dv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Mf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rx(n){this.Ca=0,this.i=[],this.j=new yf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mf("baseRetryDelayMs",5e3,n),this.bb=Mf("retryDelaySeedMs",1e4,n),this.$a=Mf("forwardChannelMaxRetries",2,n),this.ta=Mf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Zw(n&&n.concurrentRequestLimit),this.Fa=new pD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rf(n){if(fv(n),3==n.G){var e=n.U++,t=Zs(n.F);Zn(t,"SID",n.I),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),_u(n,t),(e=new Rd(n,n.j,e,void 0)).K=2,e.v=rv(Zs(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(t=Pt.navigator.sendBeacon(e.v.toString(),"")),!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_v(e.l,null),e.g.da(e.v)),e.F=Date.now(),Pl(e)}Xm(n)}function Nd(n){n.g&&(Ym(n),n.g.cancel(),n.g=null)}function fv(n){Nd(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),mv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function Ld(n){Pd(n.h)||n.m||(n.m=!0,Mw(n.Ja,n),n.C=0)}function ox(n,e){var t;t=e?e.m:n.U++;const i=Zs(n.F);Zn(i,"SID",n.I),Zn(i,"RID",t),Zn(i,"AID",n.T),_u(n,i),n.o&&n.s&&hv(i,n.o,n.s),t=new Rd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=sx(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),sv(n.h,t),nv(t,i,e)}function _u(n,e){n.ia&&Om(n.ia,function(t,i){Zn(e,i,t)}),n.l&&Uw({},function(t,i){Zn(e,i,t)})}function sx(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Ur(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let x=r[_].h;const C=r[_].g;if(x-=a,0>x)a=Math.max(0,r[_].h-100),p=!1;else try{lv(C,c,"req"+x+"_")}catch{i&&i(C)}}if(p){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function pv(n){n.g||n.u||(n.Z=1,Mw(n.Ia,n),n.A=0)}function Ll(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=bf(Ur(n.Ia,n),Qm(n,n.A)),n.A++,0))}function Ym(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function ax(n){n.g=new Rd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Zs(n.sa);Zn(e,"RID","rpc"),Zn(e,"SID",n.I),Zn(e,"CI",n.L?"0":"1"),Zn(e,"AID",n.T),Zn(e,"TYPE","xmlhttp"),_u(n,e),n.o&&n.s&&hv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=rv(Zs(e)),t.s=null,t.P=!0,Od(t,n)}function mv(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function gv(n,e){var t=null;if(n.g==e){mv(n),Ym(n),n.g=null;var i=2}else{if(!qm(n.h,e))return;t=e.D,av(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;fr(i=vf(),new Pw(i,t)),Ld(n)}else pv(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function vD(n,e){return!(Kw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=bf(Ur(n.Ja,n,e),Qm(n,n.C)),n.C++,0)))}(n,e)||2==i&&Ll(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:yu(n,5);break;case 4:yu(n,10);break;case 3:yu(n,6);break;default:yu(n,2)}}function Qm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function yu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Ur(n.kb,n);t||(t=new Fl("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||$m(t,"https"),rv(t)),function mD(n,e){const t=new yf;if(Pt.Image){const i=new Image;i.onload=Cm(Tf,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Cm(Tf,t,i,"TestLoadImage: error",!1,e),i.onabort=Cm(Tf,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Cm(Tf,t,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Br(2);n.G=0,n.l&&n.l.va(e),Xm(n),fv(n)}function Xm(n){if(n.G=0,n.la=[],n.l){const e=Yw(n.h);(0!=e.length||0!=n.i.length)&&(vw(n.la,e),vw(n.la,n.i),n.h.i.length=0,Dm(n.i),n.i.length=0),n.l.ua()}}function lx(n,e,t){var i=t instanceof Fl?Zs(t):new Fl(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Cf(i,i.m);else{var r=Pt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Fl(null,void 0);i&&$m(a,i),e&&(a.g=e),r&&Cf(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Zn(i,t,e),Zn(i,"VER",n.ma),_u(n,i),i}function _v(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ui(t&&n.Da&&!n.ra?new Fd({jb:!0}):n.ra)).Ka(n.H),e}function Jm(){}function Of(){if(hu&&!(10<=Number(XC)))throw Error("Environmental error: no available transport.")}function oo(n,e){Ji.call(this),this.g=new rx(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vd(this)}function yv(n){Bm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vv(){jm.call(this),this.status=1}function Vd(n){this.g=n}(yt=ui.prototype).Ka=function(n){this.L=n},yt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jy.g(),this.C=function wf(n){return n.h||(n.h=n.i())}(this.u?this.u:Jy),this.g.onreadystatechange=Ur(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ex(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Pt.FormData&&n instanceof Pt.FormData,!(0<=Ri(_D,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uv(this),0<this.B&&((this.K=function yD(n){return hu&&function Iw(){return function ww(n){var e=Ew;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Oy(String(Mm)).split("."),t=Oy("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Sm(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Sm(0==r[2].length,0==a[2].length)||Sm(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.qa,this)):this.A=Lm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ex(this,a)}},yt.qa=function(){typeof Cd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),Af(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Af(this,!0)),ui.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?nx(this):this.fb())},yt.fb=function(){nx(this)},yt.aa=function(){try{return 2<Za(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Xw(e)}},yt.Ea=function(){return this.m},yt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=rx.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Rd(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Ny(a),Tw(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=sx(this,r,e),Zn(t=Zs(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),_u(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(dv(a)))+"&"+e:this.o&&hv(t,this.o,a)),sv(this.h,r),this.Ya&&Zn(t,"TYPE","init"),this.O?(Zn(t,"$req",e),Zn(t,"SID","null"),r.Z=!0,nv(r,t,null)):nv(r,t,e),this.G=2}}else 3==this.G&&(n?ox(this,n):0==this.i.length||Pd(this.h)||ox(this))},yt.Ia=function(){if(this.u=null,ax(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=bf(Ur(this.eb,this),n)}},yt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Br(10),Nd(this),ax(this))},yt.cb=function(){null!=this.v&&(this.v=null,Nd(this),Ll(this),Br(19))},yt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))},(yt=Jm.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Ra=function(){},Of.prototype.g=function(n,e){return new oo(n,e)},hr(oo,Ji),oo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Br(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=lx(n,null,n.V),Ld(n)},oo.prototype.close=function(){Rf(this.g)},oo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Gy(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ld(e)},oo.prototype.M=function(){this.g.l=null,delete this.j,Rf(this.g),delete this.g,oo.X.M.call(this)},hr(yv,Bm),hr(vv,jm),hr(Vd,Jm),Vd.prototype.xa=function(){fr(this.g,"a")},Vd.prototype.wa=function(n){fr(this.g,new yv(n))},Vd.prototype.va=function(n){fr(this.g,new vv)},Vd.prototype.ua=function(){fr(this.g,"b")},Of.prototype.createWebChannel=Of.prototype.g,oo.prototype.send=oo.prototype.u,oo.prototype.open=oo.prototype.m,oo.prototype.close=oo.prototype.close,Wa.NO_ERROR=0,Wa.TIMEOUT=8,Wa.HTTP_ERROR=6,Fw.COMPLETE="complete",ni.EventType=Um,Um.OPEN="a",Um.CLOSE="b",Um.ERROR="c",Um.MESSAGE="d",Ji.prototype.listen=Ji.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.Oa,ui.prototype.getLastErrorCode=ui.prototype.Ea,ui.prototype.getStatus=ui.prototype.aa,ui.prototype.getResponseJson=ui.prototype.Sa,ui.prototype.getResponseText=ui.prototype.fa,ui.prototype.send=ui.prototype.da,ui.prototype.setWithCredentials=ui.prototype.Ka;var bD=Gs.createWebChannelTransport=function(){return new Of},wD=Gs.getStatEventTarget=function(){return vf()},bv=Gs.ErrorCode=Wa,cx=Gs.EventType=Fw,DM=Gs.Event=Ga,wv=Gs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xD=Gs.FetchXmlHttpFactory=Fd,eg=Gs.WebChannel=ni,TM=Gs.XhrIo=ui;const ux="@firebase/firestore";class er{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let Ud="9.19.0";const Ka=new $s.Yd("@firebase/firestore");function tg(){return Ka.logLevel}function Ve(n,...e){if(Ka.logLevel<=$s.in.DEBUG){const t=e.map(xv);Ka.debug(`Firestore (${Ud}): ${n}`,...t)}}function vi(n,...e){if(Ka.logLevel<=$s.in.ERROR){const t=e.map(xv);Ka.error(`Firestore (${Ud}): ${n}`,...t)}}function Ks(n,...e){if(Ka.logLevel<=$s.in.WARN){const t=e.map(xv);Ka.warn(`Firestore (${Ud}): ${n}`,...t)}}function xv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: `+n;throw vi(e),new Error(e)}function bt(n,e){n||ut()}function Qe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ev{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(er.UNAUTHENTICATED))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SM{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=x=>this.i!==r?(r=this.i,t(x)):Promise.resolve();let c=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Oi,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const x=c;e.enqueueRetryable((0,_e.Z)(function*(){yield x.promise,yield a(i.currentUser)}))},_=x=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(x=>_(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?_(x):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Oi)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt("string"==typeof i.accessToken),new Ev(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new er(e)}}class CD{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=er.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hx{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new CD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.T=t.token,new fx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pf(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class px{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Pf(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function jr(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function mx(n){return n+"\0"}class kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new kn(0,0))}static max(){return new vt(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ff{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ff.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ff?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends Ff{construct(e,t,i){return new pn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ff{construct(e,t,i){return new Bn(e,t,i)}static isValidIdentifier(e){return TD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const p=e[r];if("\\"===p){if(r+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===p?(c=!c,r++):"."!==p||c?(i+=p,r++):(a(),r++)}if(a(),c)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(pn.fromString(e))}static fromName(e){return new Ze(pn.fromString(e).popFirst(5))}static empty(){return new Ze(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new pn(e.slice()))}}class ng{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Iv(n){return n.fields.find(e=>2===e.kind)}function Vl(n){return n.fields.filter(e=>2!==e.kind)}ng.UNKNOWN_ID=-1;class Bd{constructor(e,t){this.fieldPath=e,this.kind=t}}class vu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vu(0,zr.min())}}function ig(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=vt.fromTimestamp(1e9===i?new kn(t+1,0):new kn(t,i));return new zr(r,Ze.empty(),e)}function Cv(n){return new zr(n.readTime,n.key,-1)}class zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new zr(vt.min(),Ze.empty(),-1)}static max(){return new zr(vt.max(),Ze.empty(),-1)}}function Nf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const yx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ul(n){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,_e.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==yx)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),Dv.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,a=0,c=!1;e.forEach(p=>{++r,p.next(()=>{++a,c&&a===r&&t()},_=>i(_))}),c=!0,a===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const a=e.length,c=new Array(a);let p=0;for(let _=0;_<a;_++){const x=_;t(e[x]).next(C=>{c[x]=C,++p,p===a&&i(c)},C=>r(C))}})}static doWhile(e,t){return new ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class jd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Oi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new zd(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=Sv(i.target.error);this.R.reject(new zd(e,r))}}static open(e,t,i,r){try{return new jd(t,e.transaction(r,i))}catch(a){throw new zd(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SD(t)}}class Zo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Zo.S((0,Ht.z$)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Bl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ht.hl)())return!1;if(Zo.C())return!0;const e=(0,Ht.z$)(),t=Zo.S(e),i=0<t&&t<10,r=Zo.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new zd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const p=c.target.error;r("VersionError"===p.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new zd(e,p))},a.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.M(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.$(e);const _=jd.open(a.db,e,c?"readonly":"readwrite",i),x=r(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),ce.reject(C))).toPromise();return x.catch(()=>{}),yield _.v,x}catch(_){const x=_,C="FirebaseError"!==x.name&&p<3;if(Ve("SimpleDb","Transaction failed with error:",x.message,"Retrying:",C),a.close(),!C)return Promise.reject(x)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bx{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Bl(this.L.delete())}}class zd extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ya(n){return"IndexedDbTransactionError"===n.name}class SD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Bl(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Bl(this.store.add(e))}get(e){return Bl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Bl(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Bl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(c,p)=>{a.push(p)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ce((a,c)=>{r.onerror=p=>{c(p.target.error)},r.onsuccess=p=>{a(p.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,c,p)=>p.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=a=>{const c=Sv(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():i()}):i()}})}W(e,t){const i=[];return new ce((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void r();const _=new bx(p),x=t(p.primaryKey,p.value,_);if(x instanceof ce){const C=x.catch(M=>(_.done(),ce.reject(M)));i.push(C)}_.isDone?r():null===_.K?p.continue():p.continue(_.K)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bl(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Sv(i.target.error);t(r)}})}let Tv=!1;function Sv(n){const e=Zo.S((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tv||(Tv=!0,setTimeout(()=>{throw i},0)),i}}return n}class wx{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Ya(i)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ul(i)}yield t.et(6e4)}))}}class AD{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Ve("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(p=>{r-=p,i.add(c)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,a)).next(p=>(Ve("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=Cv(a);Nf(c,i)>0&&(i=c)}),new zr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let An=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ys(n){return null==n}function Lf(n){return 0===n&&1/n==-1/0}function xx(n){return"number"==typeof n&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function so(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Av(e)),e=MM(n.get(t),e);return Av(e)}function MM(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Av(n){return n+"\x01\x01"}function Ko(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&ut(),n.charAt(c+1)){case"\x01":const p=n.substring(a,c);let _;0===r.length?_=p:(r+=p,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:ut()}a=c+2}return new pn(i)}const $d=["userId","batchId"];function rg(n,e){return[n,so(e)]}function og(n,e,t){return[n,so(e),t]}const MD={},Ex=["prefixPath","collectionGroup","readTime","documentId"],RD=["prefixPath","collectionGroup","documentId"],OD=["collectionGroup","readTime","prefixPath","documentId"],kD=["canonicalId","targetId"],Mv=["targetId","path"],Ix=["path","targetId"],Cx=["collectionId","parent"],sg=["indexId","uid"],Rv=["uid","sequenceNumber"],RM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dx=["indexId","uid","orderedDocumentKey"],PD=["userId","collectionPath","documentId"],Tx=["userId","collectionPath","largestBatchId"],Hd=["userId","collectionGroup","largestBatchId"],Sx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ax=[...Sx,"documentOverlays"],ag=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FD=ag,ND=[...FD,"indexConfiguration","indexState","indexEntries"];class Mx extends vx{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function tr(n,e){const t=Qe(n);return Zo.O(t.at,e)}function Rx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ov(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ii{constructor(e,t){this.comparator=e,this.root=t||nr.EMPTY}insert(e,t){return new ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??nr.RED,this.left=r??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new nr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1,nr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(e){return new Ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class Ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gd(n){return n.hasNext()?n.getNext():void 0}class $r{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new $r([])}unionWith(e){let t=new In(Bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class LD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new LD("Invalid base64 string: "+r):r}}(e);return new ki(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(n){if(bt(!!n),"string"==typeof n){let e=0;const t=Px.exec(n);if(bt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:di(n.seconds),nanos:di(n.nanos)}}function di(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?ki.fromBase64String(n):ki.fromUint8Array(n)}function Fx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kv(n){const e=n.mapValue.fields.__previous_value__;return Fx(e)?kv(e):e}function cg(n){const e=Qa(n.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class OM{constructor(e,t,i,r,a,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class xu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}const Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pv={nullValue:"NULL_VALUE"};function Wd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fx(n)?4:Nx(n)?9007199254740991:10:ut()}function Xa(n,e){if(n===e)return!0;const t=Wd(n);if(t!==Wd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cg(n).isEqual(cg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Qa(i.timestampValue),c=Qa(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,wu(n.bytesValue).isEqual(wu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return di(i.geoPointValue.latitude)===di(r.geoPointValue.latitude)&&di(i.geoPointValue.longitude)===di(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return di(i.integerValue)===di(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=di(i.doubleValue),c=di(r.doubleValue);return a===c?Lf(a)===Lf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return jr(n.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Rx(a)!==Rx(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===c[p]||!Xa(a[p],c[p])))return!1;return!0}(n,e);default:return ut()}var r}function ug(n,e){return void 0!==(n.values||[]).find(t=>Xa(t,e))}function ms(n,e){if(n===e)return 0;const t=Wd(n),i=Wd(e);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=di(r.integerValue||r.doubleValue),p=di(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return VD(n.timestampValue,e.timestampValue);case 4:return VD(cg(n),cg(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=wu(r),p=wu(a);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),p=a.split("/");for(let _=0;_<c.length&&_<p.length;_++){const x=Bt(c[_],p[_]);if(0!==x)return x}return Bt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Bt(di(r.latitude),di(a.latitude));return 0!==c?c:Bt(di(r.longitude),di(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],p=a.values||[];for(let _=0;_<c.length&&_<p.length;++_){const x=ms(c[_],p[_]);if(x)return x}return Bt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Eu.mapValue&&a===Eu.mapValue)return 0;if(r===Eu.mapValue)return 1;if(a===Eu.mapValue)return-1;const c=r.fields||{},p=Object.keys(c),_=a.fields||{},x=Object.keys(_);p.sort(),x.sort();for(let C=0;C<p.length&&C<x.length;++C){const M=Bt(p[C],x[C]);if(0!==M)return M;const j=ms(c[p[C]],_[x[C]]);if(0!==j)return j}return Bt(p.length,x.length)}(n.mapValue,e.mapValue);default:throw ut()}}function VD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Qa(n),i=Qa(e),r=Bt(t.seconds,i.seconds);return 0!==r?r:Bt(t.nanos,i.nanos)}function Iu(n){return qd(n)}function qd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Qa(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=qd(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const p of r)c?c=!1:a+=",",a+=`${p}:${qd(i.fields[p])}`;return a+"}"}(n.mapValue):ut();var e}function jl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dg(n){return!!n&&"integerValue"in n}function hg(n){return!!n&&"arrayValue"in n}function fg(n){return!!n&&"nullValue"in n}function Fv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pg(n){return!!n&&"mapValue"in n}function mg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=mg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Nx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UD(n){return"nullValue"in n?Pv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?jl(xu.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function BD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?jl(xu.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Eu:ut()}function Vf(n,e){const t=ms(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Lx(n,e){const t=ms(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mg(t)}setAll(e){let t=Bn.emptyPath(),i={},r=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=p.popLast()}c?i[p.lastSegment()]=mg(c):r.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];pg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){bu(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new pr(mg(this.value))}}function jD(n){const e=[];return bu(n.fields,(t,i)=>{const r=new Bn([t]);if(pg(i)){const a=jD(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new $r(e)}class Kn{constructor(e,t,i,r,a,c,p){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Kn(e,0,vt.min(),vt.min(),vt.min(),pr.empty(),0)}static newFoundDocument(e,t,i,r){return new Kn(e,1,t,vt.min(),i,r,0)}static newNoDocument(e,t){return new Kn(e,2,t,vt.min(),vt.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,vt.min(),vt.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zl{constructor(e,t){this.position=e,this.inclusive=t}}function Vx(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):ms(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Ux(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xa(n.position[t],e.position[t]))return!1;return!0}class Uf{constructor(e,t="asc"){this.field=e,this.dir=t}}function zD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Nv{}class ln extends Nv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new $D(e,t,i):"array-contains"===t?new $x(e,i):"in"===t?new Hx(e,i):"not-in"===t?new Gx(e,i):"array-contains-any"===t?new Wx(e,i):new ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new HD(e,i):new Vv(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ms(t,this.value)):null!==t&&Wd(this.value)===Wd(t)&&this.matchesComparison(ms(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tn extends Nv{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Tn(e,t)}matches(e){return Tr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Tr(n){return"and"===n.op}function Lv(n){return"or"===n.op}function Bf(n){return Bx(n)&&Tr(n)}function Bx(n){for(const e of n.filters)if(e instanceof Tn)return!1;return!0}function jx(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+Iu(n.value);if(Bf(n))return n.filters.map(e=>jx(e)).join(",");{const e=n.filters.map(t=>jx(t)).join(",");return`${n.op}(${e})`}}function Ao(n,e){return n instanceof ln?(t=n,(i=e)instanceof ln&&t.op===i.op&&t.field.isEqual(i.field)&&Xa(t.value,i.value)):n instanceof Tn?function(t,i){return i instanceof Tn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,c)=>r&&Ao(a,i.filters[c]),!0)}(n,e):void ut();var t,i}function zx(n,e){const t=n.filters.concat(e);return Tn.create(t,n.op)}function gg(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${Iu(e.value)}`:n instanceof Tn?function(e){return e.op.toString()+" {"+e.getFilters().map(gg).join(" ,")+"}"}(n):"Filter";var e}class $D extends ln{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class HD extends ln{constructor(e,t){super(e,"in",t),this.keys=Uv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vv extends ln{constructor(e,t){super(e,"not-in",t),this.keys=Uv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class $x extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&ug(t.arrayValue,this.value)}}class Hx extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ug(this.value.arrayValue,t)}}class Gx extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(ug(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ug(this.value.arrayValue,t)}}class Wx extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ug(this.value.arrayValue,i))}}class GD{constructor(e,t=null,i=[],r=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=p,this.ft=null}}function _g(n,e=null,t=[],i=[],r=null,a=null,c=null){return new GD(n,e,t,i,r,a,c)}function Cu(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ys(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iu(i)).join(",")),e.ft=t}return e.ft}function Du(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ao(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ux(n.startAt,e.startAt)&&Ux(n.endAt,e.endAt)}function Yo(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function gs(n,e){return n.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function Bv(n,e,t){let i=Pv,r=!0;for(const a of gs(n,e)){let c=Pv,p=!0;switch(a.op){case"<":case"<=":c=UD(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,p=!1;break;case"!=":case"not-in":c=Pv}Vf({value:i,inclusive:r},{value:c,inclusive:p})<0&&(i=c,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Vf({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function yg(n,e,t){let i=Eu,r=!0;for(const a of gs(n,e)){let c=Eu,p=!0;switch(a.op){case">=":case">":c=BD(a.value),p=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,p=!1;break;case"!=":case"not-in":c=Eu}Lx({value:i,inclusive:r},{value:c,inclusive:p})>0&&(i=c,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Lx({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Qs{constructor(e,t=null,i=[],r=[],a=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=_,this.dt=null,this.wt=null}}function qx(n,e,t,i,r,a,c,p){return new Qs(n,e,t,i,r,a,c,p)}function jf(n){return new Qs(n)}function Zx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function zv(n){return null!==n.collectionGroup}function $l(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=vg(e),i=jv(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Uf(t)),e.dt.push(new Uf(Bn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Uf(Bn.keyField(),a))}}}return e.dt}function ao(n){const e=Qe(n);if(!e.wt)if("F"===e.limitType)e.wt=_g(e.path,e.collectionGroup,$l(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of $l(e))t.push(new Uf(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new zl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zl(e.startAt.position,e.startAt.inclusive):null;e.wt=_g(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function bg(n,e){e.getFirstInequalityField(),vg(n);const t=n.filters.concat([e]);return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wg(n,e,t){return new Qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zd(n,e){return Du(ao(n),ao(e))&&n.limitType===e.limitType}function WD(n){return`${Cu(ao(n))}|lt:${n.limitType}`}function zf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>gg(i)).join(", ")}]`),Ys(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Iu(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Iu(i)).join(",")),`Target(${t})`}(ao(n))}; limitType=${n.limitType})`}function Kd(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of $l(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const p=Vx(r,a,c);return r.inclusive?p<=0:p<0}(t.startAt,$l(t),i)||t.endAt&&!function(r,a,c){const p=Vx(r,a,c);return r.inclusive?p>=0:p>0}(t.endAt,$l(t),i)));var t,i}function $v(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Hv(n){return(e,t)=>{let i=!1;for(const r of $l(n)){const a=Kx(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Kx(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,a,c){const p=a.data.field(r),_=c.data.field(r);return null!==p&&null!==_?ms(p,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){bu(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Ov(this.inner)}size(){return this.innerSize}}const xg=new ii(Ze.comparator);function mr(){return xg}const Gv=new ii(Ze.comparator);function $f(...n){let e=Gv;for(const t of n)e=e.insert(t.key,t);return e}function Yx(n){let e=Gv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xs(){return Eg()}function qD(){return Eg()}function Eg(){return new Ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const Qx=new ii(Ze.comparator),ZD=new In(Ze.comparator);function tn(...n){let e=ZD;for(const t of n)e=e.add(t);return e}const KD=new In(Bt);function Wv(){return KD}function YD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function QD(n){return{integerValue:""+n}}function XD(n,e){return xx(e)?QD(e):YD(n,e)}class qv{constructor(){this._=void 0}}function JD(n,e,t){return n instanceof Yd?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Hl?Gl(n,e):n instanceof Wl?Cg(n,e):function(i,r){const a=Xx(i,r),c=Jx(a)+Jx(i._t);return dg(a)&&dg(i._t)?QD(c):YD(i.serializer,c)}(n,e)}function Ig(n,e,t){return n instanceof Hl?Gl(n,e):n instanceof Wl?Cg(n,e):t}function Xx(n,e){return n instanceof ql?dg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Yd extends qv{}class Hl extends qv{constructor(e){super(),this.elements=e}}function Gl(n,e){const t=Dg(e);for(const i of n.elements)t.some(r=>Xa(r,i))||t.push(i);return{arrayValue:{values:t}}}class Wl extends qv{constructor(e){super(),this.elements=e}}function Cg(n,e){let t=Dg(e);for(const i of n.elements)t=t.filter(r=>!Xa(r,i));return{arrayValue:{values:t}}}class ql extends qv{constructor(e,t){super(),this.serializer=e,this._t=t}}function Jx(n){return di(n.integerValue||n.doubleValue)}function Dg(n){return hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tu{constructor(e,t){this.field=e,this.transform=t}}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Kv{}function Yv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Au(n.key,ri.none()):new Su(n.key,n.data,ri.none());{const t=n.data,i=pr.empty();let r=new In(Bn.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new Js(n.key,i,new $r(r.toArray()),ri.none())}}function eT(n,e,t){n instanceof Su?function(i,r,a){const c=i.value.clone(),p=tE(i.fieldTransforms,r,a.transformResults);c.setAll(p),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(i,r,a){if(!Zv(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=tE(i.fieldTransforms,r,a.transformResults),p=r.data;p.setAll(Qv(i)),p.setAll(c),r.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hf(n,e,t,i){return n instanceof Su?function(r,a,c,p){if(!Zv(r.precondition,a))return c;const _=r.value.clone(),x=nE(r.fieldTransforms,p,a);return _.setAll(x),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Js?function(r,a,c,p){if(!Zv(r.precondition,a))return c;const _=nE(r.fieldTransforms,p,a),x=a.data;return x.setAll(Qv(r)),x.setAll(_),a.convertToFoundDocument(a.version,x).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(c=t,Zv(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function tT(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=Xx(i.transform,r||null);null!=a&&(null===t&&(t=pr.empty()),t.set(i.field,a))}return t||null}function eE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&jr(t,i,(r,a)=>function Tg(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Hl&&i instanceof Hl||t instanceof Wl&&i instanceof Wl?jr(t.elements,i.elements,Xa):t instanceof ql&&i instanceof ql?Xa(t._t,i._t):t instanceof Yd&&i instanceof Yd);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Su extends Kv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Js extends Kv{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function tE(n,e,t){const i=new Map;bt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,p=e.data.field(a.field);i.set(a.field,Ig(c,p,t[r]))}return i}function nE(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,JD(a,c,e))}return i}class Au extends Kv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gf extends Kv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iE{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&eT(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Hf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qD();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(r.key)?null:p;const _=Yv(c,p);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,(t,i)=>eE(t,i))&&jr(this.baseMutations,e.baseMutations,(t,i)=>eE(t,i))}}class Sg{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){bt(e.mutations.length===i.length);let r=Qx;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new Sg(e,t,i,r)}}class Wf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class FM{constructor(e){this.count=e}}var Pi,mn;function rE(n){switch(n){default:return ut();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function iT(n){if(void 0===n)return vi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Pi.OK:return de.OK;case Pi.CANCELLED:return de.CANCELLED;case Pi.UNKNOWN:return de.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return de.INTERNAL;case Pi.UNAVAILABLE:return de.UNAVAILABLE;case Pi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Pi.NOT_FOUND:return de.NOT_FOUND;case Pi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Pi.ABORTED:return de.ABORTED;case Pi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Pi.DATA_LOSS:return de.DATA_LOSS;default:return ut()}}(mn=Pi||(Pi={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class oE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jv}static getOrCreateInstance(){return null===Jv&&(Jv=new oE),Jv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jv=null;class Ag{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ag(vt.min(),r,Wv(),mr(),tn())}}class qf{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qf(i,t,tn(),tn(),tn())}}class eb{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class rT{constructor(e,t){this.targetId=e,this.Et=t}}class oT{constructor(e,t,i=ki.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class sT{constructor(){this.At=0,this.Rt=o(),this.vt=ki.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=tn(),t=tn(),i=tn();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new qf(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=o()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class NM{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=mr(),this.qt=aT(),this.Ut=new In(Bt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,a=this.Yt(i);if(a){const c=a.target;if(Yo(c))if(0===r){const p=new Ze(c.path);this.Qt(i,p,Kn.newNoDocument(p,vt.min()))}else bt(1===r);else{const p=this.Zt(i);p!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=oE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:p,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,c)=>{const p=this.Yt(c);if(p){if(a.current&&Yo(p.target)){const _=new Ze(p.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,Kn.newNoDocument(_,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let i=tn();this.qt.forEach((a,c)=>{let p=!0;c.forEachWhile(_=>{const x=this.Yt(_);return!x||2===x.purpose||(p=!1,!1)}),p&&(i=i.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const r=new Ag(e,t,this.Ut,this.Lt,i);return this.Lt=mr(),this.qt=aT(),this.Ut=new In(Bt),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new sT,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new In(Bt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new sT),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function aT(){return new ii(Ze.comparator)}function o(){return new ii(Ze.comparator)}const s={asc:"ASCENDING",desc:"DESCENDING"},l={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d={and:"AND",or:"OR"};class h{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function f(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w(n,e){return f(n,e.toTimestamp())}function E(n){return bt(!!n),vt.fromTimestamp(function(e){const t=Qa(e);return new kn(t.seconds,t.nanos)}(n))}function T(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function O(n){const e=pn.fromString(n);return bt(zM(e)),e}function B(n,e){return T(n.databaseId,e.path)}function K(n,e){const t=O(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(Xe(t))}function ne(n,e){return T(n.databaseId,e)}function be(n){const e=O(n);return 4===e.length?pn.emptyPath():Xe(e)}function Be(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xe(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dt(n,e,t){return{name:B(n,e),fields:t.value.mapValue.fields}}function Ft(n,e,t){const i=K(n,e.name),r=E(e.updateTime),a=e.createTime?E(e.createTime):vt.min(),c=new pr({mapValue:{fields:e.fields}}),p=Kn.newFoundDocument(i,r,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Sn(n,e){let t;if(e instanceof Su)t={update:dt(n,e.key,e.value)};else if(e instanceof Au)t={delete:B(n,e.key)};else if(e instanceof Js)t={update:dt(n,e.key,e.data),updateMask:PP(e.fieldMask)};else{if(!(e instanceof Gf))return ut();t={verify:B(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Yd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ql)return{fieldPath:a.field.canonicalString(),increment:c._t};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:w(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}function oi(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ri.updateTime(E(r.updateTime)):void 0!==r.exists?ri.exists(r.exists):ri.none():ri.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let p=null;"setToServerValue"in c?(bt("REQUEST_TIME"===c.setToServerValue),p=new Yd):"appendMissingElements"in c?p=new Hl(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Wl(c.removeAllFromArray.values||[]):"increment"in c?p=new ql(a,c.increment):ut();const _=Bn.fromServerFormat(c.fieldPath);return new Tu(_,p)}(n,r)):[];var r;if(e.update){const r=K(n,e.update.name),a=new pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new $r((e.updateMask.fieldPaths||[]).map(x=>Bn.fromServerFormat(x)));return new Js(r,a,c,t,i)}return new Su(r,a,t,i)}if(e.delete){const r=K(n,e.delete);return new Au(r,t)}if(e.verify){const r=K(n,e.verify);return new Gf(r,t)}return ut()}function VM(n,e){return{documents:[ne(n,e.path)]}}function lT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=ne(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ne(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return jM(Tn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(x=>{return{field:Qd((C=x).field),direction:RP(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(x=e.limit,n.useProto3Json||Ys(x)?x:{value:x});var x,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function UM(n){let e=be(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){bt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const M=BM(C);return M instanceof Tn&&Bf(M)?M.getFilters():[M]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new Uf(Mg((M=C).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(C){let M;return M="object"==typeof C?C.value:C,Ys(M)?null:M}(t.limit));let _=null;var C;t.startAt&&(_=new zl((C=t.startAt).values||[],!!C.before));let x=null;return t.endAt&&(x=function(C){return new zl(C.values||[],!C.before)}(t.endAt)),qx(e,r,c,a,p,"F",_,x)}function BM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mg(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Mg(e.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mg(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Mg(e.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?ln.create(Mg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Tn.create(e.compositeFilter.filters.map(t=>BM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function RP(n){return s[n]}function OP(n){return l[n]}function kP(n){return d[n]}function Qd(n){return{fieldPath:n.canonicalString()}}function Mg(n){return Bn.fromServerFormat(n.fieldPath)}function jM(n){return n instanceof ln?function(e){if("=="===e.op){if(Fv(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NAN"}};if(fg(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fv(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NAN"}};if(fg(e.value))return{unaryFilter:{field:Qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qd(e.field),op:OP(e.op),value:e.value}}}(n):n instanceof Tn?function(e){const t=e.getFilters().map(i=>jM(i));return 1===t.length?t[0]:{compositeFilter:{op:kP(e.op),filters:t}}}(n):ut()}function PP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xd{constructor(e,t,i,r,a=vt.min(),c=vt.min(),p=ki.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Xd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $M{constructor(e){this.se=e}}function HM(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:B(r=n.se,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:f(r,a.version.toTimestamp()),createTime:f(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Zf(e.version)};else{if(!e.isUnknownDocument())return ut();i.unknownDocument={path:t.path.toArray(),version:Zf(e.version)}}var r,a;return i}function sE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Zf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Kf(n){const e=new kn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function Yf(n,e){const t=(e.baseMutations||[]).map(a=>oi(n.se,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>oi(n.se,a)),r=kn.fromMillis(e.localWriteTimeMs);return new iE(e.batchId,r,t,i)}function tb(n){const e=Kf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Kf(n.lastLimboFreeSnapshotVersion):vt.min();let i;var r;return void 0!==n.query.documents?(bt(1===(r=n.query).documents.length),i=ao(jf(be(r.documents[0])))):i=ao(UM(n.query)),new Xd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ki.fromBase64String(n.resumeToken))}function GM(n,e){const t=Zf(e.snapshotVersion),i=Zf(e.lastLimboFreeSnapshotVersion);let r;r=Yo(e.target)?VM(n.se,e.target):lT(n.se,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function cT(n){const e=UM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wg(e,e.limit,"L"):e}function uT(n,e){return new Wf(e.largestBatchId,oi(n.se,e.overlayMutation))}function WM(n,e){const t=e.path.lastSegment();return[n,so(e.path.popLast()),t]}function qM(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Zf(i.readTime),documentKey:so(i.documentKey.path),largestBatchId:i.largestBatchId}}class NP{getBundleMetadata(e,t){return ZM(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Kf(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return ZM(e).put({bundleId:(i=t).id,createTime:Zf(E(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return KM(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:cT(r.bundledQuery),readTime:Kf(r.readTime)};var r})}saveNamedQuery(e,t){return KM(e).put({name:(i=t).name,readTime:Zf(E(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ZM(n){return tr(n,"bundles")}function KM(n){return tr(n,"namedQueries")}class aE{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new aE(e,t.uid||"")}getOverlay(e,t){return nb(e).get(WM(this.userId,t)).next(i=>i?uT(this.serializer,i):null)}getOverlays(e,t){const i=Xs();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const p=new Wf(t,c);r.push(this.re(e,p))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(so(c.getCollectionPath())));const a=[];return r.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(nb(e).J("collectionPathOverlayIndex",p))}),ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Xs(),a=so(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return nb(e).j("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const x=uT(this.serializer,_);r.set(x.getKey(),x)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Xs();let c;const p=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return nb(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,x,C)=>{const M=uT(this.serializer,x);a.size()<r||M.largestBatchId===c?(a.set(M.getKey(),M),c=M.largestBatchId):C.done()}).next(()=>a)}re(e,t){return nb(e).put(function(i,r,a){const[c,p,_]=WM(r,a.mutation.key);return{userId:r,collectionPath:p,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sn(i.se,a.mutation)}}(this.serializer,this.userId,t))}}function nb(n){return tr(n,"documentOverlays")}class Qf{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(di(e.integerValue));else if("doubleValue"in e){const i=di(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),Lf(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(wu(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?Nx(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ut()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),Ze.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function LP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function YM(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=LP(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Qf.pe=new Qf;class VP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=YM(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=YM(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class UP{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class BP{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class ib{constructor(){this.Me=new VP,this.Fe=new UP(this.Me),this.Be=new BP(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Xf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Xf(this.indexId,this.documentKey,this.arrayValue,i)}}function Jd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QM(n.arrayValue,e.arrayValue),0!==t?t:(t=QM(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function QM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class jP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){bt(e.collectionGroup===this.collectionId);const t=Iv(e);if(void 0!==t&&!this.ze(t))return!1;const i=Vl(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const c=i[r];if(!this.je(this.Ge,c)||!this.We(this.Ue[a++],c))return!1;++r}for(;r<i.length;++r)if(a>=this.Ue.length||!this.We(this.Ue[a++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function XM(n){var e,t;if(bt(n instanceof ln||n instanceof Tn),n instanceof ln){if(n instanceof Hx){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>ln.create(n.field,"==",a)))||[];return Tn.create(r,"or")}return n}const i=n.filters.map(r=>XM(r));return Tn.create(i,n.op)}function zP(n){if(0===n.getFilters().length)return[];const e=fT(XM(n));return bt(JM(e)),dT(e)||hT(e)?[e]:e.getFilters()}function dT(n){return n instanceof ln}function hT(n){return n instanceof Tn&&Bf(n)}function JM(n){return dT(n)||hT(n)||function(e){if(e instanceof Tn&&Lv(e)){for(const t of e.getFilters())if(!dT(t)&&!hT(t))return!1;return!0}return!1}(n)}function fT(n){if(bt(n instanceof ln||n instanceof Tn),n instanceof ln)return n;if(1===n.filters.length)return fT(n.filters[0]);const e=n.filters.map(i=>fT(i));let t=Tn.create(e,n.op);return t=lE(t),JM(t)?t:(bt(t instanceof Tn),bt(Tr(t)),bt(t.filters.length>1),t.filters.reduce((i,r)=>pT(i,r)))}function pT(n,e){let t;return bt(n instanceof ln||n instanceof Tn),bt(e instanceof ln||e instanceof Tn),t=n instanceof ln?e instanceof ln?Tn.create([n,e],"and"):eR(n,e):e instanceof ln?eR(e,n):function(i,r){if(bt(i.filters.length>0&&r.filters.length>0),Tr(i)&&Tr(r))return zx(i,r.getFilters());const a=Lv(i)?i:r,c=Lv(i)?r:i,p=a.filters.map(_=>pT(_,c));return Tn.create(p,"or")}(n,e),lE(t)}function eR(n,e){if(Tr(e))return zx(e,n.getFilters());{const t=e.filters.map(i=>pT(n,i));return Tn.create(t,"or")}}function lE(n){if(bt(n instanceof ln||n instanceof Tn),n instanceof ln)return n;const e=n.getFilters();if(1===e.length)return lE(e[0]);if(Bx(n))return n;const t=e.map(r=>lE(r)),i=[];return t.forEach(r=>{r instanceof ln?i.push(r):r instanceof Tn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Tn.create(i,n.op)}class $P{constructor(){this.He=new mT}addToCollectionParentIndex(e,t){return this.He.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(zr.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class mT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(pn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(pn.comparator)).toArray()}}const cE=new Uint8Array(0);class HP{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new mT,this.Ye=new Ja(i=>Cu(i),(i,r)=>Du(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const a={collectionId:i,parent:so(r)};return tR(e).put(a)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[mx(t),""],!1,!0);return tR(e).j(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(Ko(c.parent))}return i})}addFieldIndex(e,t){const i=uE(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=ob(e);return a.next(p=>{c.put(qM(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=uE(e),r=ob(e),a=rb(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=rb(e);let r=!0;const a=new Map;return ce.forEach(this.Ze(t),c=>this.Xe(e,c).next(p=>{r&&(r=!!p),a.set(c,p)})).next(()=>{if(r){let c=tn();const p=[];return ce.forEach(a,(_,x)=>{var C;Ve("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Cu(t)}`);const M=function(ht,Ct){const Kt=Iv(Ct);if(void 0===Kt)return null;for(const sn of gs(ht,Kt.fieldPath))switch(sn.op){case"array-contains-any":return sn.value.arrayValue.values||[];case"array-contains":return[sn.value]}return null}(x,_),j=function(ht,Ct){const Kt=new Map;for(const sn of Vl(Ct))for(const gr of gs(ht,sn.fieldPath))switch(gr.op){case"==":case"in":Kt.set(sn.fieldPath.canonicalString(),gr.value);break;case"not-in":case"!=":return Kt.set(sn.fieldPath.canonicalString(),gr.value),Array.from(Kt.values())}return null}(x,_),q=function(ht,Ct){const Kt=[];let sn=!0;for(const gr of Vl(Ct)){const Xo=0===gr.kind?Bv(ht,gr.fieldPath,ht.startAt):yg(ht,gr.fieldPath,ht.startAt);Kt.push(Xo.value),sn&&(sn=Xo.inclusive)}return new zl(Kt,sn)}(x,_),ee=function(ht,Ct){const Kt=[];let sn=!0;for(const gr of Vl(Ct)){const Xo=0===gr.kind?yg(ht,gr.fieldPath,ht.endAt):Bv(ht,gr.fieldPath,ht.endAt);Kt.push(Xo.value),sn&&(sn=Xo.inclusive)}return new zl(Kt,sn)}(x,_),me=this.tn(_,x,q),xe=this.tn(_,x,ee),mt=this.en(_,x,j),Rt=this.nn(_.indexId,M,me,q.inclusive,xe,ee.inclusive,mt);return ce.forEach(Rt,ht=>i.H(ht,t.limit).next(Ct=>{Ct.forEach(Kt=>{const sn=Ze.fromSegments(Kt.documentKey);c.has(sn)||(c=c.add(sn),p.push(sn))})}))}).next(()=>p)}return ce.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:zP(Tn.create(e.filters,"and")).map(i=>_g(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,a,c,p){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),x=_/(null!=t?t.length:1),C=[];for(let M=0;M<_;++M){const j=t?this.sn(t[M/x]):cE,q=this.rn(e,j,i[M%x],r),ee=this.on(e,j,a[M%x],c),me=p.map(xe=>this.rn(e,j,xe,!0));C.push(...this.createRange(q,ee,me))}return C}rn(e,t,i,r){const a=new Xf(e,Ze.empty(),t,i);return r?a:a.qe()}on(e,t,i,r){const a=new Xf(e,Ze.empty(),t,i);return r?a.qe():a}Xe(e,t){const i=new jP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const p of a)i.Qe(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let i=2;const r=this.Ze(t);return ce.forEach(r,a=>this.Xe(e,a).next(c=>{c?0!==i&&c.fields.length<function(p){let _=new In(Bn.comparator),x=!1;for(const C of p.filters)for(const M of C.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?x=!0:_=_.add(M.field));for(const C of p.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(x?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new ib;for(const r of Vl(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.Le(r.kind);Qf.pe.oe(a,c)}return i.$e()}sn(e){const t=new ib;return Qf.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new ib;return Qf.pe.oe(jl(this.databaseId,t),i.Le(function(r){const a=Vl(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new ib);let a=0;for(const c of Vl(e)){const p=i[a++];for(const _ of r)if(this.an(t,c.fieldPath)&&hg(p))r=this.hn(r,c,p);else{const x=_.Le(c.kind);Qf.pe.oe(p,x)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const p of r){const _=new ib;_.seed(p.$e()),Qf.pe.oe(c,_.Le(t.kind)),a.push(_)}return a}an(e,t){return!!e.filters.find(i=>i instanceof ln&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=uE(e),r=ob(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const c=[];return ce.forEach(a,p=>r.get([p.indexId,this.uid]).next(_=>{c.push(function(x,C){const M=C?new vu(C.sequenceNumber,new zr(Kf(C.readTime),new Ze(Ko(C.documentKey)),C.largestBatchId)):vu.empty(),j=x.fields.map(([q,ee])=>new Bd(Bn.fromServerFormat(q),ee));return new ng(x.indexId,x.collectionGroup,j,M)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Bt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=uE(e),a=ob(e);return this.fn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ce.forEach(p,_=>a.put(qM(_.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),ce.forEach(p,_=>this.dn(e,r,_).next(x=>{const C=this.wn(a,_);return x.isEqual(C)?ce.resolve():this._n(e,a,_,x,C)}))))})}mn(e,t,i,r){return rb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return rb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=rb(e);let a=new In(Jd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(c,p)=>{a=a.add(new Xf(i.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}wn(e,t){let i=new In(Jd);const r=this.un(t,e);if(null==r)return i;const a=Iv(t);if(null!=a){const c=e.data.field(a.fieldPath);if(hg(c))for(const p of c.arrayValue.values||[])i=i.add(new Xf(t.indexId,e.key,this.sn(p),r))}else i=i.add(new Xf(t.indexId,e.key,cE,r));return i}_n(e,t,i,r,a){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,x,C,M){const j=p.getIterator(),q=_.getIterator();let ee=Gd(j),me=Gd(q);for(;ee||me;){let xe=!1,mt=!1;if(ee&&me){const Rt=x(ee,me);Rt<0?mt=!0:Rt>0&&(xe=!0)}else null!=ee?mt=!0:xe=!0;xe?(C(me),me=Gd(q)):mt?(M(ee),ee=Gd(j)):(ee=Gd(j),me=Gd(q))}}(r,a,Jd,p=>{c.push(this.mn(e,t,i,p))},p=>{c.push(this.gn(e,t,i,p))}),ce.waitFor(c)}fn(e){let t=1;return ob(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,p)=>Jd(c,p)).filter((c,p,_)=>!p||0!==Jd(c,_[p-1]));const r=[];r.push(e);for(const c of i){const p=Jd(c,e),_=Jd(c,t);if(0===p)r[0]=e.qe();else if(p>0&&_<0)r.push(c),r.push(c.qe());else if(_>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2){if(this.yn(r[c],r[c+1]))return[];a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,cE,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,cE,[]]))}return a}yn(e,t){return Jd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nR)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||ut())).next(nR)}}function tR(n){return tr(n,"collectionParents")}function rb(n){return tr(n,"indexEntries")}function uE(n){return tr(n,"indexConfiguration")}function ob(n){return tr(n,"indexState")}function nR(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Nf(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new zr(e.readTime,e.documentKey,t)}const iR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rR(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=i.Z({range:c},(C,M,j)=>(p++,j.delete()));a.push(_.next(()=>{bt(1===p)}));const x=[];for(const C of t.mutations){const M=og(e,C.key.path,t.batchId);a.push(r.delete(M)),x.push(C.key)}return ce.waitFor(a).next(()=>x)}function dE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(41943040,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);class hE{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){bt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new hE(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eh(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Rg(e),c=eh(e);return c.add({}).next(p=>{bt("number"==typeof p);const _=new iE(p,t,i,r),x=function(j,q,ee){const me=ee.baseMutations.map(mt=>Sn(j.se,mt)),xe=ee.mutations.map(mt=>Sn(j.se,mt));return{userId:q,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:me,mutations:xe}}(this.serializer,this.userId,_),C=[];let M=new In((j,q)=>Bt(j.canonicalString(),q.canonicalString()));for(const j of r){const q=og(this.userId,j.key.path,p);M=M.add(j.key.path.popLast()),C.push(c.put(x)),C.push(a.put(q,MD))}return M.forEach(j=>{C.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.pn[p]=_.keys()}),ce.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return eh(e).get(t).next(i=>i?(bt(i.userId===this.userId),Yf(this.serializer,i)):null)}In(e,t){return this.pn[t]?ce.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return eh(e).Z({index:"userMutationsIndex",range:r},(c,p,_)=>{p.userId===this.userId&&(bt(p.batchId>=i),a=Yf(this.serializer,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return eh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eh(e).j("userMutationsIndex",t).next(i=>i.map(r=>Yf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=rg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Rg(e).Z({range:r},(c,p,_)=>{const[x,C,M]=c,j=Ko(C);if(x===this.userId&&t.path.isEqual(j))return eh(e).get(M).next(q=>{if(!q)throw ut();bt(q.userId===this.userId),a.push(Yf(this.serializer,q))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Bt);const r=[];return t.forEach(a=>{const c=rg(this.userId,a.path),p=IDBKeyRange.lowerBound(c),_=Rg(e).Z({range:p},(x,C,M)=>{const[j,q,ee]=x,me=Ko(q);j===this.userId&&a.path.isEqual(me)?i=i.add(ee):M.done()});r.push(_)}),ce.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=rg(this.userId,i),c=IDBKeyRange.lowerBound(a);let p=new In(Bt);return Rg(e).Z({range:c},(_,x,C)=>{const[M,j,q]=_,ee=Ko(j);M===this.userId&&i.isPrefixOf(ee)?ee.length===r&&(p=p.add(q)):C.done()}).next(()=>this.Tn(e,p))}Tn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(eh(e).get(a).next(c=>{if(null===c)throw ut();bt(c.userId===this.userId),i.push(Yf(this.serializer,c))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return rR(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Rg(e).Z({range:i},(a,c,p)=>{if(a[0]===this.userId){const _=Ko(a[1]);r.push(_)}else p.done()}).next(()=>{bt(0===r.length)})})}containsKey(e,t){return oR(e,this.userId,t)}An(e){return sR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oR(n,e,t){const i=rg(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return Rg(n).Z({range:a,Y:!0},(p,_,x)=>{const[C,M,j]=p;C===e&&M===r&&(c=!0),x.done()}).next(()=>c)}function eh(n){return tr(n,"mutations")}function Rg(n){return tr(n,"documentMutations")}function sR(n){return tr(n,"mutationQueues")}class Jf{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Jf(0)}static bn(){return new Jf(-1)}}class GP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new Jf(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>vt.fromTimestamp(new kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Og(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(bt(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Og(e).Z((c,p)=>{const _=tb(p);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Og(e).Z((i,r)=>{const a=tb(r);t(a)})}Pn(e){return aR(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}Vn(e,t){return aR(e).put("targetGlobalKey",t)}Sn(e,t){return Og(e).put(GM(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Cu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Og(e).Z({range:r,index:"queryTargetsIndex"},(c,p,_)=>{const x=tb(p);Du(t,x.target)&&(a=x,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=th(e);return t.forEach(c=>{const p=so(c.path);r.push(a.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(e,i,c))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=th(e);return ce.forEach(t,a=>{const c=so(a.path);return ce.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=th(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=th(e);let a=tn();return r.Z({range:i,Y:!0},(c,p,_)=>{const x=Ko(c[1]),C=new Ze(x);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=so(t.path),r=IDBKeyRange.bound([i],[mx(i)],!1,!0);let a=0;return th(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([c,p],_,x)=>{0!==c&&(a++,x.done())}).next(()=>a>0)}ne(e,t){return Og(e).get(t).next(i=>i?tb(i):null)}}function Og(n){return tr(n,"targets")}function aR(n){return tr(n,"targetGlobal")}function th(n){return tr(n,"targetDocuments")}function lR([n,e],[t,i]){const r=Bt(n,t);return 0===r?Bt(e,i):r}class WP{constructor(e){this.Cn=e,this.buffer=new In(lR),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ya(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ul(i)}yield t.$n(3e5)}))}}class ZP{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(An.ct);const i=new WP(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(iR)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iR):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,a,c,p,_,x;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,c=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,p=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(x=Date.now(),tg()<=$s.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(p-c)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(x-_)+`ms\nTotal Duration: ${x-C}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class KP{constructor(e,t){this.db=e,this.garbageCollector=new ZP(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return fE(e,i)}removeReference(e,t,i){return fE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return fE(e,t)}Kn(e,t){return function(i,r){let a=!1;return sR(i).X(c=>oR(i,c,r).next(p=>(p&&(a=!0),ce.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Un(e,(c,p)=>{if(p<=t){const _=this.Kn(e,c).next(x=>{if(!x)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,vt.min()),th(e).delete([0,so(c.path)])))});r.push(_)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return fE(e,t)}Un(e,t){const i=th(e);let r,a=An.ct;return i.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:x})=>{0===c?(a!==An.ct&&t(new Ze(Ko(r)),a),a=x,r=_):a=An.ct}).next(()=>{a!==An.ct&&t(new Ze(Ko(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fE(n,e){return th(n).put((i=n.currentSequenceNumber,{targetId:0,path:so(e.path),sequenceNumber:i}));var i}class cR{constructor(){this.changes=new Ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ep(e).put(i)}removeEntry(e,t,i){return ep(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],sE(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=Kn.newInvalidDocument(t);return ep(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(sb(t))},(r,a)=>{i=this.Qn(t,a)}).next(()=>i)}zn(e,t){let i={size:0,document:Kn.newInvalidDocument(t)};return ep(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(sb(t))},(r,a)=>{i={document:this.Qn(t,a),size:dE(a)}}).next(()=>i)}getEntries(e,t){let i=mr();return this.jn(e,t,(r,a)=>{const c=this.Qn(r,a);i=i.insert(r,c)}).next(()=>i)}Wn(e,t){let i=mr(),r=new ii(Ze.comparator);return this.jn(e,t,(a,c)=>{const p=this.Qn(a,c);i=i.insert(a,p),r=r.insert(a,dE(c))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return ce.resolve();let r=new In(fR);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(sb(r.first()),sb(r.last())),c=r.getIterator();let p=c.getNext();return ep(e).Z({index:"documentKeyIndex",range:a},(_,x,C)=>{const M=Ze.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;p&&fR(p,M)<0;)i(p,null),p=c.getNext();p&&p.isEqual(M)&&(i(p,x),p=c.hasNext()?c.getNext():null),p?C.G(sb(p)):C.done()}).next(()=>{for(;p;)i(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),sE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ep(e).j(IDBKeyRange.bound(c,p,!0)).next(_=>{let x=mr();for(const C of _){const M=this.Qn(Ze.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);M.isFoundDocument()&&(Kd(t,M)||r.has(M.key))&&(x=x.insert(M.key,M))}return x})}getAllFromCollectionGroup(e,t,i,r){let a=mr();const c=hR(t,i),p=hR(t,zr.max());return ep(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,x,C)=>{const M=this.Qn(Ze.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);a=a.insert(M.key,M),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new QP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dR(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Gn(e,t){return dR(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function FP(n,e){let t;if(e.document)t=Ft(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ze.fromSegments(e.noDocument.path),r=Kf(e.noDocument.readTime);t=Kn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const i=Ze.fromSegments(e.unknownDocument.path),r=Kf(e.unknownDocument.version);t=Kn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new kn(i[0],i[1]);return vt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return Kn.newInvalidDocument(e)}}function uR(n){return new YP(n)}class QP extends cR{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Ja(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((a,c)=>Bt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const p=this.Yn.get(a);if(t.push(this.Jn.removeEntry(e,a,p.readTime)),c.isValidDocument()){const _=HM(this.Jn.serializer,c);r=r.add(a.path.popLast());const x=dE(_);i+=x-p.size,t.push(this.Jn.addEntry(e,a,_))}else if(i-=p.size,this.trackRemovals){const _=HM(this.Jn.serializer,c.convertToNoDocument(vt.min()));t.push(this.Jn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Jn.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((a,c)=>{this.Yn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function dR(n){return tr(n,"remoteDocumentGlobal")}function ep(n){return tr(n,"remoteDocumentsV14")}function sb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hR(n,e){const t=e.documentKey.path.toArray();return[n,sE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fR(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Bt(t[a],i[a]),r)return r;return r=Bt(t.length,i.length),r||(r=Bt(t[t.length-2],i[i.length-2]),r||Bt(t[t.length-1],i[i.length-1]))}class XP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pR{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Hf(i.mutation,r,$r.empty(),kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,tn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=tn()){const r=Xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=$f();return a.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Xs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,tn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,i,r){let a=mr();const c=Eg(),p=Eg();return t.forEach((_,x)=>{const C=i.get(x.key);r.has(x.key)&&(void 0===C||C.mutation instanceof Js)?a=a.insert(x.key,x):void 0!==C?(c.set(x.key,C.mutation.getFieldMask()),Hf(C.mutation,x,C.mutation.getFieldMask(),kn.now())):c.set(x.key,$r.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((x,C)=>c.set(x,C)),t.forEach((x,C)=>{var M;return p.set(x,new XP(C,null!==(M=c.get(x))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const i=Eg();let r=new ii((c,p)=>c-p),a=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const x=t.get(_);if(null===x)return;let C=i.get(_)||$r.empty();C=p.applyToLocalView(x,C),i.set(_,C);const M=(r.get(p.batchId)||tn()).add(_);r=r.insert(p.batchId,M)})}).next(()=>{const c=[],p=r.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),x=_.key,C=_.value,M=qD();C.forEach(j=>{if(!a.has(j)){const q=Yv(t.get(j),i.get(j));null!==q&&M.set(j,q),a=a.add(j)}}),c.push(this.documentOverlayCache.saveOverlays(e,x,M))}return ce.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ce.resolve(Xs());let p=-1,_=a;return c.next(x=>ce.forEach(x,(C,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),a.get(C)?ce.resolve():this.remoteDocumentCache.getEntry(e,C).next(j=>{_=_.insert(C,j)}))).next(()=>this.populateOverlays(e,x,a)).next(()=>this.computeViews(e,_,x,tn())).next(C=>({batchId:p,changes:Yx(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=$f();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=$f();return this.indexManager.getCollectionParents(e,r).next(c=>ce.forEach(c,p=>{const _=(x=t,C=p.child(r),new Qs(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,C;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(x=>{x.forEach((C,M)=>{a=a.insert(C,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((p,_)=>{const x=_.getKey();null===a.get(x)&&(a=a.insert(x,Kn.newInvalidDocument(x)))});let c=$f();return a.forEach((p,_)=>{const x=r.get(p);void 0!==x&&Hf(x.mutation,_,$r.empty(),kn.now()),Kd(t,_)&&(c=c.insert(p,_))}),c})}}class JP{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:E(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:cT(i.bundledQuery),readTime:E(i.readTime)}),ce.resolve();var i}}class eF{constructor(){this.overlays=new ii(Ze.comparator),this.ts=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xs();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.re(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=Xs(),a=t.length+1,c=new Ze(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,x=_.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ii((x,C)=>x-C);const c=this.overlays.getIterator();for(;c.hasNext();){const x=c.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>i){let C=a.get(x.largestBatchId);null===C&&(C=Xs(),a=a.insert(x.largestBatchId,C)),C.set(x.getKey(),x)}}const p=Xs(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((x,C)=>p.set(x,C)),!(p.size()>=r)););return ce.resolve(p)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Wf(t,i));let a=this.ts.get(t);void 0===a&&(a=tn(),this.ts.set(t,a)),this.ts.set(t,a.add(i.key))}}class gT{constructor(){this.es=new In(Sr.ns),this.ss=new In(Sr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Sr(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Sr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new Ze(new pn([])),i=new Sr(t,e),r=new Sr(t,e+1),a=[];return this.ss.forEachInRange([i,r],c=>{this.us(c),a.push(c.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ze(new pn([])),i=new Sr(t,e),r=new Sr(t,e+1);let a=tn();return this.ss.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Sr(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Sr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ze.comparator(e.key,t.key)||Bt(e.ds,t.ds)}static rs(e,t){return Bt(e.ds,t.ds)||Ze.comparator(e.key,t.key)}}class tF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new In(Sr.ns)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new iE(a,t,i,r);this.mutationQueue.push(c);for(const p of r)this._s=this._s.add(new Sr(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),a=r<0?0:r;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sr(t,0),r=new Sr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([i,r],c=>{const p=this.gs(c.ds);a.push(p)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Bt);return t.forEach(r=>{const a=new Sr(r,0),c=new Sr(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,c],p=>{i=i.add(p.ds)})}),ce.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ze.isDocumentKey(a)||(a=a.child(""));const c=new Sr(new Ze(a),0);let p=new In(Bt);return this._s.forEachWhile(_=>{const x=_.key.path;return!!i.isPrefixOf(x)&&(x.length===r&&(p=p.add(_.ds)),!0)},c),ce.resolve(this.ps(p))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){bt(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return ce.forEach(t.mutations,r=>{const a=new Sr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Sr(t,0),r=this._s.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nF{constructor(e){this.Ts=e,this.docs=new ii(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let i=mr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Kn.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=mr();const c=t.path,p=new Ze(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:x,value:{document:C}}=_.getNext();if(!c.isPrefixOf(x.path))break;x.path.length>c.length+1||Nf(Cv(C),i)<=0||(r.has(C.key)||Kd(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,t,i,r){ut()}Es(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iF(this)}getSize(e){return ce.resolve(this.size)}}class iF extends cR{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class rF{constructor(e){this.persistence=e,this.As=new Ja(t=>Cu(t),Du),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new gT,this.targetCount=0,this.bs=Jf.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),ce.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Jf(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Sn(t),ce.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.As.forEach((c,p)=>{p.sequenceNumber<=t&&null===i.get(p.targetId)&&(this.As.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),r++)}),ce.waitFor(a).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.vs.containsKey(t))}}class mR{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new An(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new rF(this),this.indexManager=new $P,this.remoteDocumentCache=new nF(i=>this.referenceDelegate.Cs(i)),this.serializer=new $M(t),this.xs=new JP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new tF(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new oF(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(a=>this.referenceDelegate.ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return ce.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class oF extends vx{constructor(e){super(),this.currentSequenceNumber=e}}class pE{constructor(e){this.persistence=e,this.$s=new gT,this.Ms=null}static Fs(e){return new pE(e)}get Bs(){if(this.Ms)return this.Ms;throw ut()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ce.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Bs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Bs,i=>{const r=Ze.fromPath(i);return this.Ls(e,r).next(a=>{a||t.removeEntry(r,vt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ce.or([()=>ce.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class sF{constructor(e){this.serializer=e}M(e,t,i,r){const a=new jd("createOrUpgrade",t);var p;i<1&&r>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$d,{unique:!0}),p.createObjectStore("documentMutations"),gR(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),gR(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",x)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(p,_){return _.store("mutations").j().next(x=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$d,{unique:!0});const C=_.store("mutations"),M=x.map(j=>C.put(j));return ce.waitFor(M)})}(e,a))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.qs(a))),i<6&&r>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Us(a)))),i<7&&r>=7&&(c=c.next(()=>this.Ks(a))),i<8&&r>=8&&(c=c.next(()=>this.Gs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Qs(a))),i<11&&r>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:PD});_.createIndex("collectionPathOverlayIndex",Tx,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Hd,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:Ex});_.createIndex("documentKeyIndex",RD),_.createIndex("collectionGroupIndex",OD)}(e)).next(()=>this.zs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.js(e,a))),i<15&&r>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:sg}).createIndex("sequenceNumberIndex",Rv,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:RM}).createIndex("documentKeyIndex",Dx,{unique:!1})}(e))),c}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=dE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ce.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(p=>ce.forEach(p,_=>{bt(_.userId===a.userId);const x=Yf(this.serializer,_);return rR(e,a.userId,x).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,p)=>{const _=new pn(c),x=[0,so(_)];a.push(t.get(x).next(C=>C?ce.resolve():t.put({targetId:0,path:so(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Cx});const i=t.store("collectionParents"),r=new mT,a=c=>{if(r.add(c)){const p=c.lastSegment(),_=c.popLast();return i.put({collectionId:p,parent:so(_)})}};return t.store("remoteDocuments").Z({Y:!0},(c,p)=>{const _=new pn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([c,p,_],x)=>{const C=Ko(p);return a(C.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const a=tb(r),c=GM(this.serializer,a);return t.put(c)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const p=t.store("remoteDocumentsV14"),_=(x=c,x.document?new Ze(pn.fromString(x.document.name).popFirst(5)):x.noDocument?Ze.fromSegments(x.noDocument.path):x.unknownDocument?Ze.fromSegments(x.unknownDocument.path):ut()).path.toArray();var x;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(p.put(C))}).next(()=>ce.waitFor(r))}js(e,t){const i=t.store("mutations"),r=uR(this.serializer),a=new mR(pE.Fs,this.serializer.se);return i.j().next(c=>{const p=new Map;return c.forEach(_=>{var x;let C=null!==(x=p.get(_.userId))&&void 0!==x?x:tn();Yf(this.serializer,_).keys().forEach(M=>C=C.add(M)),p.set(_.userId,C)}),ce.forEach(p,(_,x)=>{const C=new er(x),M=aE.ie(this.serializer,C),j=a.getIndexManager(C),q=hE.ie(C,this.serializer,j,a.referenceDelegate);return new pR(r,q,M,j).recalculateAndSaveOverlaysForDocumentKeys(new Mx(t,An.ct),_).next()})})}}function gR(n){n.createObjectStore("targetDocuments",{keyPath:Mv}).createIndex("documentTargetsIndex",Ix,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kD,{unique:!0}),n.createObjectStore("targetGlobal")}const _T="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yT{constructor(e,t,i,r,a,c,p,_,x,C,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=a,this.window=c,this.document=p,this.Hs=x,this.Js=C,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=j=>Promise.resolve(),!yT.D())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KP(this,r),this.si=t+"main",this.serializer=new $M(_),this.ii=new Zo(this.si,this.Ys,new sF(this.serializer)),this.Ds=new GP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=uR(this.serializer),this.xs=new NP,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===C&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,_T);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new An(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=(0,_e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,_e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ya(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return ab(e).get("owner").next(t=>ce.resolve(this._i(t)))}mi(e){return mE(e).delete(this.clientId)}gi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=tr(i,"clientMetadata");return r.j().next(a=>{const c=e.pi(a,18e5),p=a.filter(_=>-1===c.indexOf(_));return ce.forEach(p,_=>r.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?ce.resolve(!0):ab(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,_T);return!1}}return!(!this.networkEnabled||!this.inForeground)||mE(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Mx(t,An.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>mE(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return hE.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HP(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return aE.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Ys)?ND:14===c?FD:13===c?ag:12===c?Ax:11===c?Sx:void ut();var c;let p;return this.ii.runTransaction(e,r,a,_=>(p=new Mx(_,this.Vs?this.Vs.next():An.ct),"readwrite-primary"===t?this.li(p).next(x=>!!x||this.fi(p)).next(x=>{if(!x)throw vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Re(de.FAILED_PRECONDITION,yx);return i(p)}).next(x=>this.wi(p).next(()=>x)):this.Pi(p).next(()=>i(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Pi(e){return ab(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,_T)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ab(e).put("owner",t)}static D(){return Zo.D()}di(e){const t=ab(e);return t.get("owner").next(i=>this._i(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Ht.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){vi("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ab(n){return tr(n,"owner")}function mE(n){return tr(n,"clientMetadata")}function vT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class bT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=tn(),r=tn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new bT(e,t.fromCache,i,r)}}class _R{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(a=>a||this.ki(e,t,r,i)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(Zx(t))return ce.resolve(null);let i=ao(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=wg(t,null,"F"),i=ao(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=tn(...a);return this.xi.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,i).next(_=>{const x=this.$i(t,p);return this.Mi(t,x,c,_.readTime)?this.Ni(e,wg(t,null,"F")):this.Fi(e,x,t,_)}))})))}ki(e,t,i,r){return Zx(t)||r.isEqual(vt.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(a=>{const c=this.$i(t,a);return this.Mi(t,c,i,r)?this.Oi(e,t):(tg()<=$s.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zf(t)),this.Fi(e,c,t,ig(r,-1)))})}$i(e,t){let i=new In(Hv(e));return t.forEach((r,a)=>{Kd(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return tg()<=$s.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",zf(t)),this.xi.getDocumentsMatchingQuery(e,t,zr.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class aF{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new ii(Bt),this.qi=new Ja(a=>Cu(a),Du),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pR(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function yR(n,e,t,i){return new aF(n,e,t,i)}function vR(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,_e.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],p=[];let _=tn();for(const x of r){c.push(x.batchId);for(const C of x.mutations)_=_.add(C.key)}for(const x of a){p.push(x.batchId);for(const C of x.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(i,_).next(x=>({Qi:x,removedBatchIds:c,addedBatchIds:p}))})})}),wT.apply(this,arguments)}function bR(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function wR(n,e,t){let i=tn(),r=tn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=mr();return t.forEach((p,_)=>{const x=a.get(p);_.isFoundDocument()!==x.isFoundDocument()&&(r=r.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!x.isValidDocument()||_.version.compareTo(x.version)>0||0===_.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Ve("LocalStore","Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",_.version)}),{zi:c,ji:r}})}function uF(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function kg(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(a=>a?(r=a,ce.resolve(r)):t.Ds.allocateTargetId(i).next(c=>(r=new Xd(e,c,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Pg(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=(0,_e.Z)(function*(n,e,t){const i=Qe(n),r=i.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Ya(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),xT.apply(this,arguments)}function gE(n,e,t){const i=Qe(n);let r=vt.min(),a=tn();return i.persistence.runTransaction("Execute query","readonly",c=>function(p,_,x){const C=Qe(p),M=C.qi.get(x);return void 0!==M?ce.resolve(C.Li.get(M)):C.Ds.getTargetData(_,x)}(i,c,ao(e)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(c,p.targetId).next(_=>{a=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(c,e,t?r:vt.min(),t?a:tn())).next(p=>(IR(i,$v(e),p),{documents:p,Wi:a})))}function xR(n,e){const t=Qe(n),i=Qe(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(c=>c?c.target:null))}function ER(n,e){const t=Qe(n),i=t.Ui.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,ig(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(IR(t,e,r),r))}function IR(n,e,t){let i=n.Ui.get(e)||vt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ui.set(e,i)}function ET(){return ET=(0,_e.Z)(function*(n,e,t,i){const r=Qe(n);let a=tn(),c=mr();for(const x of t){const C=e.Hi(x.metadata.name);x.document&&(a=a.add(C));const M=e.Ji(x);M.setReadTime(e.Yi(x.metadata.readTime)),c=c.insert(C,M)}const p=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield kg(r,(x=i,ao(jf(pn.fromString(`__bundle__/docs/${x}`)))));var x;return r.persistence.runTransaction("Apply bundle documents","readwrite",x=>wR(x,p,c).next(C=>(p.apply(x),C)).next(C=>r.Ds.removeMatchingKeysForTargetId(x,_.targetId).next(()=>r.Ds.addMatchingKeys(x,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(x,C.zi,C.ji)).next(()=>C.zi)))}),ET.apply(this,arguments)}function hF(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,_e.Z)(function*(n,e,t=tn()){const i=yield kg(n,ao(cT(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=E(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.xs.saveNamedQuery(a,e);const p=i.withResumeToken(ki.EMPTY_BYTE_STRING,c);return r.Li=r.Li.insert(p.targetId,p),r.Ds.updateTargetData(a,p).next(()=>r.Ds.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ds.addMatchingKeys(a,t,i.targetId)).next(()=>r.xs.saveNamedQuery(a,e))})}),IT.apply(this,arguments)}function CR(n,e){return`firestore_clients_${n}_${e}`}function DR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function CT(n,e){return`firestore_targets_${n}_${e}`}class _E{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Re(r.error.code,r.error.message))),c?new _E(e,t,r.state,a):(vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Re(i.error.code,i.error.message))),a?new lb(e,i.state,r):(vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Wv();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=xx(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new yE(e,a):(vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DT(t.clientId,t.onlineState):(vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TT{constructor(){this.activeTargetIds=Wv()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ST{constructor(e,t,i,r,a){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ii(Bt),this.started=!1,this.ur=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=CR(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new TT),this.hr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const a=e.getItem(CR(e.persistenceKey,r));if(a){const c=yE.Zi(r,a);c&&(e.rr=e.rr.insert(c.clientId,c))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(CT(this.persistenceKey,e));if(i){const r=lb.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(CT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(a){let c=An.ct;if(null!=a)try{const p=JSON.parse(a);bt("number"==typeof p),c=p}catch(p){vi("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(i.newValue);r!==An.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new _E(this.currentUser,e,t,i),a=DR(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Tr(e){const t=DR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=CT(this.persistenceKey,e),a=new lb(e,t,i);this.setItem(r,a.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return yE.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return _E.Zi(new er(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return lb.Zi(r,t)}gr(e){return DT.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),a=this.pr(i),c=[],p=[];return a.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.Fr(c,p).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Wv();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class TR{constructor(){this.Br=new TT,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new TT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fF{qr(e){}shutdown(){}}class SR{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vE=null;function AT(){return null===vE?vE=268435456+Math.round(2147483648*Math.random()):vE++,"0x"+vE.toString(16)}const pF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mF{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const lo="WebChannelConnection";class gF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,a){const c=AT(),p=this.ao(e,t);Ve("RestConnection",`Sending RPC '${e}' ${c}:`,p,i);const _={};return this.ho(_,r,a),this.lo(e,p,_,i).then(x=>(Ve("RestConnection",`Received RPC '${e}' ${c}: `,x),x),x=>{throw Ks("RestConnection",`RPC '${e}' ${c} failed with error: `,x,"url: ",p,"request:",i),x})}fo(e,t,i,r,a,c){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.ro}/v1/${t}:${pF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const a=AT();return new Promise((c,p)=>{const _=new TM;_.setWithCredentials(!0),_.listenOnce(cx.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case bv.NO_ERROR:const C=_.getResponseJson();Ve(lo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),c(C);break;case bv.TIMEOUT:Ve(lo,`RPC '${e}' ${a} timed out`),p(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case bv.HTTP_ERROR:const M=_.getStatus();if(Ve(lo,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const q=j?.error;if(q&&q.status&&q.message){const ee=function(me){const xe=me.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(xe)>=0?xe:de.UNKNOWN}(q.status);p(new Re(ee,q.message))}else p(new Re(de.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Re(de.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ve(lo,`RPC '${e}' ${a} completed.`)}});const x=JSON.stringify(r);Ve(lo,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",x,i,15)})}wo(e,t,i){const r=AT(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bD(),p=wD(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new xD({})),this.ho(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const x=a.join("");Ve(lo,`Creating RPC '${e}' stream ${r}: ${x}`,_);const C=c.createWebChannel(x,_);let M=!1,j=!1;const q=new mF({Wr:me=>{j?Ve(lo,`Not sending because RPC '${e}' stream ${r} is closed:`,me):(M||(Ve(lo,`Opening RPC '${e}' stream ${r} transport.`),C.open(),M=!0),Ve(lo,`RPC '${e}' stream ${r} sending:`,me),C.send(me))},Hr:()=>C.close()}),ee=(me,xe,mt)=>{me.listen(xe,Rt=>{try{mt(Rt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return ee(C,eg.EventType.OPEN,()=>{j||Ve(lo,`RPC '${e}' stream ${r} transport opened.`)}),ee(C,eg.EventType.CLOSE,()=>{j||(j=!0,Ve(lo,`RPC '${e}' stream ${r} transport closed`),q.so())}),ee(C,eg.EventType.ERROR,me=>{j||(j=!0,Ks(lo,`RPC '${e}' stream ${r} transport errored:`,me),q.so(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),ee(C,eg.EventType.MESSAGE,me=>{var xe;if(!j){const mt=me.data[0];bt(!!mt);const ht=mt.error||(null===(xe=mt[0])||void 0===xe?void 0:xe.error);if(ht){Ve(lo,`RPC '${e}' stream ${r} received error:`,ht);const Ct=ht.status;let Kt=function(gr){const Xo=Pi[gr];if(void 0!==Xo)return iT(Xo)}(Ct),sn=ht.message;void 0===Kt&&(Kt=de.INTERNAL,sn="Unknown error status: "+Ct+" with message "+ht.message),j=!0,q.so(new Re(Kt,sn)),C.close()}else Ve(lo,`RPC '${e}' stream ${r} received:`,mt),q.io(mt)}}),ee(p,DM.STAT_EVENT,me=>{me.stat===wv.PROXY?Ve(lo,`RPC '${e}' stream ${r} detected buffering proxy`):me.stat===wv.NOPROXY&&Ve(lo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{q.no()},0),q}}function AR(){return typeof window<"u"?window:null}function bE(){return typeof document<"u"?document:null}function cb(n){return new h(n,!0)}class MT{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class MR{constructor(e,t,i,r,a,c,p,_){this.Ws=e,this.bo=i,this.Po=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new MT(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,_e.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,_e.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,_e.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Re(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,_e.Z)(function*(){e.state=0,e.start()}))}Go(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _F extends MR{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Zt(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),r=e.targetChange.targetIds||[],a=function(_,x){return _.useProto3Json?(bt(void 0===x||"string"==typeof x),ki.fromBase64String(x||"")):(bt(void 0===x||x instanceof Uint8Array),ki.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const x=void 0===_.code?de.UNKNOWN:iT(_.code);return new Re(x,_.message||"")}(c);t=new oT(i,r,a,p||null)}else if("documentChange"in e){const i=e.documentChange,r=K(n,i.document.name),a=E(i.document.updateTime),c=i.document.createTime?E(i.document.createTime):vt.min(),p=new pr({mapValue:{fields:i.document.fields}}),_=Kn.newFoundDocument(r,a,c,p);t=new eb(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=K(n,i.document),a=i.readTime?E(i.readTime):vt.min(),c=Kn.newNoDocument(r,a);t=new eb([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=K(n,i.document);t=new eb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ut();{const i=e.filter,a=new FM(i.count||0);t=new rT(i.targetId,a)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return vt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?vt.min():a.readTime?E(a.readTime):vt.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=Be(this.serializer),t.addTarget=function(r,a){let c;const p=a.target;return c=Yo(p)?{documents:VM(r,p)}:{query:lT(r,p)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=y(r,a.resumeToken):a.snapshotVersion.compareTo(vt.min())>0&&(c.readTime=f(r,a.snapshotVersion.toTimestamp())),c}(this.serializer,e);const i=function MP(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=Be(this.serializer),t.removeTarget=e,this.Fo(t)}}class yF extends MR{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function LM(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(i,r){let a=E(i.updateTime?i.updateTime:r);return a.isEqual(vt.min())&&(a=E(r)),new kM(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=E(e.commitTime);return this.listener.Zo(i,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Be(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Sn(this.serializer,i))};this.Fo(t)}}class vF extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.fo(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class wF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(vi(t),this.ru=!1):Ve("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class xF{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(p=>{i.enqueueAndForget((0,_e.Z)(function*(){var _;Mu(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(x){const C=Qe(x);C.du.add(4),yield Fg(C),C.mu.set("Unknown"),C.du.delete(4),yield ub(C)}),function(x){return _.apply(this,arguments)})(c))}))}),this.mu=new wF(i,r)}}function ub(n){return OT.apply(this,arguments)}function OT(){return OT=(0,_e.Z)(function*(n){if(Mu(n))for(const e of n.wu)yield e(!0)}),OT.apply(this,arguments)}function Fg(n){return kT.apply(this,arguments)}function kT(){return kT=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),kT.apply(this,arguments)}function wE(n,e){const t=Qe(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),NT(t)?FT(t):Lg(t).No()&&PT(t,e))}function db(n,e){const t=Qe(n),i=Lg(t);t.fu.delete(e),i.No()&&RR(t,e),0===t.fu.size&&(i.No()?i.$o():Mu(t)&&t.mu.set("Unknown"))}function PT(n,e){n.gu.Ot(e.targetId),Lg(n).jo(e)}function RR(n,e){n.gu.Ot(e),Lg(n).Wo(e)}function FT(n){n.gu=new NM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),Lg(n).start(),n.mu.ou()}function NT(n){return Mu(n)&&!Lg(n).xo()&&n.fu.size>0}function Mu(n){return 0===Qe(n).du.size}function OR(n){n.gu=void 0}function EF(n){return LT.apply(this,arguments)}function LT(){return LT=(0,_e.Z)(function*(n){n.fu.forEach((e,t)=>{PT(n,e)})}),LT.apply(this,arguments)}function IF(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,_e.Z)(function*(n,e){OR(n),NT(n)?(n.mu.au(e),FT(n)):n.mu.set("Unknown")}),VT.apply(this,arguments)}function CF(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,_e.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof oT&&2===e.state&&e.cause)try{yield(i=(0,_e.Z)(function*(r,a){const c=a.cause;for(const p of a.targetIds)r.fu.has(p)&&(yield r.remoteSyncer.rejectListen(p,c),r.fu.delete(p),r.gu.removeTarget(p))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield xE(n,i)}else if(e instanceof eb?n.gu.Kt(e):e instanceof rT?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(vt.min()))try{const i=yield bR(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.gu.Xt(a);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const x=r.fu.get(_);x&&r.fu.set(_,x.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach(p=>{const _=r.fu.get(p);if(!_)return;r.fu.set(p,_.withResumeToken(ki.EMPTY_BYTE_STRING,_.snapshotVersion)),RR(r,p);const x=new Xd(_.target,p,1,_.sequenceNumber);PT(r,x)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield xE(n,i)}var i}),UT.apply(this,arguments)}function xE(n,e,t){return BT.apply(this,arguments)}function BT(){return BT=(0,_e.Z)(function*(n,e,t){if(!Ya(e))throw e;n.du.add(1),yield Fg(n),n.mu.set("Offline"),t||(t=()=>bR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield ub(n)}))}),BT.apply(this,arguments)}function kR(n,e){return e().catch(t=>xE(n,t,e))}function Ng(n){return jT.apply(this,arguments)}function jT(){return jT=(0,_e.Z)(function*(n){const e=Qe(n),t=nh(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;DF(e);)try{const r=yield uF(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,TF(e,r)}catch(r){yield xE(e,r)}PR(e)&&FR(e)}),jT.apply(this,arguments)}function DF(n){return Mu(n)&&n.lu.length<10}function TF(n,e){n.lu.push(e);const t=nh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function PR(n){return Mu(n)&&!nh(n).xo()&&n.lu.length>0}function FR(n){nh(n).start()}function SF(n){return zT.apply(this,arguments)}function zT(){return zT=(0,_e.Z)(function*(n){nh(n).tu()}),zT.apply(this,arguments)}function AF(n){return $T.apply(this,arguments)}function $T(){return $T=(0,_e.Z)(function*(n){const e=nh(n);for(const t of n.lu)e.Yo(t.mutations)}),$T.apply(this,arguments)}function MF(n,e,t){return HT.apply(this,arguments)}function HT(){return HT=(0,_e.Z)(function*(n,e,t){const i=n.lu.shift(),r=Sg.from(i,e,t);yield kR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ng(n)}),HT.apply(this,arguments)}function RF(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,_e.Z)(function*(n,e){var t;e&&nh(n).Jo&&(yield(t=(0,_e.Z)(function*(i,r){if(rE(a=r.code)&&a!==de.ABORTED){const c=i.lu.shift();nh(i).Oo(),yield kR(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Ng(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),PR(n)&&FR(n)}),GT.apply(this,arguments)}function NR(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,_e.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Mu(t);t.du.add(3),yield Fg(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield ub(t)}),WT.apply(this,arguments)}function qT(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,_e.Z)(function*(n,e){const t=Qe(n);e?(t.du.delete(2),yield ub(t)):e||(t.du.add(2),yield Fg(t),t.mu.set("Unknown"))}),ZT.apply(this,arguments)}function Lg(n){return n.yu||(n.yu=function(e,t,i){const r=Qe(e);return r.nu(),new _F(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:EF.bind(null,n),Zr:IF.bind(null,n),zo:CF.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.yu.Oo(),NT(n)?FT(n):n.mu.set("Unknown")):(yield n.yu.stop(),OR(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function nh(n){return n.pu||(n.pu=function(e,t,i){const r=Qe(e);return r.nu(),new yF(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:SF.bind(null,n),Zr:RF.bind(null,n),Xo:AF.bind(null,n),Zo:MF.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Oo(),yield Ng(n)):(yield n.pu.stop(),n.lu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class KT{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,p=new KT(e,t,c,r,a);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(n,e){if(vi("AsyncQueue",`${e}: ${n}`),Ya(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Ug{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=$f(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new Ug(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ug)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ug;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class LR{constructor(){this.Iu=new ii(Ze.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ut():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Bg{constructor(e,t,i,r,a,c,p,_,x){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=x}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Bg(e,t,Ug.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class OF{constructor(){this.Eu=void 0,this.listeners=[]}}class kF{constructor(){this.queries=new Ja(e=>WD(e),Zd),this.onlineState="Unknown",this.Au=new Set}}function YT(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,_e.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new OF),r)try{a.Eu=yield t.onListen(i)}catch(c){const p=Vg(c,`Initialization of query '${zf(e.query)}' failed`);return void e.onError(p)}t.queries.set(i,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&eS(t)}),QT.apply(this,arguments)}function XT(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),JT.apply(this,arguments)}function PF(n,e){const t=Qe(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const p of c.listeners)p.vu(r)&&(i=!0);c.Eu=r}}i&&eS(t)}function FF(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function eS(n){n.Au.forEach(e=>{e.next()})}class tS{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Bg(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Bg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class NF{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class VR{constructor(e){this.serializer=e}Hi(e){return K(this.serializer,e)}Ji(e){return e.metadata.exists?Ft(this.serializer,e.document,!1):Kn.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return E(e)}}class LF{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UR(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=pn.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new VR(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.Hi(r.metadata.name);for(const c of r.metadata.queries){const p=(t.get(c)||tn()).add(a);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function dF(n,e,t,i){return ET.apply(this,arguments)}(e.localStore,new VR(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield hF(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function UR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BR{constructor(e){this.key=e}}class jR{constructor(e){this.key=e}}class zR{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=tn(),this.mutatedKeys=tn(),this.Ku=Hv(e),this.Gu=new Ug(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new LR,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,p=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,x="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,M)=>{const j=r.get(C),q=Kd(this.query,M)?M:null,ee=!!j&&this.mutatedKeys.has(j.key),me=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let xe=!1;j&&q?j.data.isEqual(q.data)?ee!==me&&(i.track({type:3,doc:q}),xe=!0):this.Wu(j,q)||(i.track({type:2,doc:q}),xe=!0,(_&&this.Ku(q,_)>0||x&&this.Ku(q,x)<0)&&(p=!0)):!j&&q?(i.track({type:0,doc:q}),xe=!0):j&&!q&&(i.track({type:1,doc:j}),xe=!0,(_||x)&&(p=!0)),xe&&(q?(c=c.add(q),a=me?a.add(C):a.delete(C)):(c=c.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Gu:c,ju:i,Mi:p,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((x,C)=>function(M,j){const q=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return q(M)-q(j)}(x.type,C.type)||this.Ku(x.doc,C.doc)),this.Hu(i);const c=t?this.Ju():[],p=0===this.Uu.size&&this.current?1:0,_=p!==this.qu;return this.qu=p,0!==a.length||_?{snapshot:new Bg(this.query,e.Gu,r,a,e.mutatedKeys,0===p,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:c}:{Yu:c}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new LR,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=tn(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new jR(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new BR(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=tn();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Bg.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class VF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UF{constructor(e){this.key=e,this.ec=!1}}class BF{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Ja(p=>WD(p),Zd),this.ic=new Map,this.rc=new Set,this.oc=new ii(Ze.comparator),this.uc=new Map,this.cc=new gT,this.ac={},this.hc=new Map,this.lc=Jf.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function jF(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,_e.Z)(function*(n,e){const t=CS(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const c=yield kg(t.localStore,ao(e));t.isPrimaryClient&&wE(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield iS(t,e,i,"current"===p,c.resumeToken)}return r}),nS.apply(this,arguments)}function iS(n,e,t,i,r){return rS.apply(this,arguments)}function rS(){return rS=(0,_e.Z)(function*(n,e,t,i,r){n.dc=(M,j,q)=>{return(ee=(0,_e.Z)(function*(me,xe,mt,Rt){let ht=xe.view.zu(mt);ht.Mi&&(ht=yield gE(me.localStore,xe.query,!1).then(({documents:sn})=>xe.view.zu(sn,ht)));const Ct=Rt&&Rt.targetChanges.get(xe.targetId),Kt=xe.view.applyChanges(ht,me.isPrimaryClient,Ct);return pS(me,xe.targetId,Kt.Yu),Kt.snapshot}),function(me,xe,mt,Rt){return ee.apply(this,arguments)})(n,M,j,q);var ee};const a=yield gE(n.localStore,e,!0),c=new zR(e,a.Wi),p=c.zu(a.documents),_=qf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),x=c.applyChanges(p,n.isPrimaryClient,_);pS(n,t,x.Yu);const C=new VF(e,t,c);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),x.snapshot}),rS.apply(this,arguments)}function zF(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,_e.Z)(function*(n,e){const t=Qe(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Zd(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pg(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),db(t.remoteStore,i.targetId),jg(t,i.targetId)}).catch(Ul))):(jg(t,i.targetId),yield Pg(t.localStore,i.targetId,!0))}),oS.apply(this,arguments)}function sS(){return sS=(0,_e.Z)(function*(n,e,t){const i=DS(n);try{const r=yield function(a,c){const p=Qe(a),_=kn.now(),x=c.reduce((j,q)=>j.add(q.key),tn());let C,M;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let q=mr(),ee=tn();return p.Ki.getEntries(j,x).next(me=>{q=me,q.forEach((xe,mt)=>{mt.isValidDocument()||(ee=ee.add(xe))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,q)).next(me=>{C=me;const xe=[];for(const mt of c){const Rt=tT(mt,C.get(mt.key).overlayedDocument);null!=Rt&&xe.push(new Js(mt.key,Rt,jD(Rt.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,xe,c)}).next(me=>{M=me;const xe=me.applyToLocalDocumentSet(C,ee);return p.documentOverlayCache.saveOverlays(j,me.batchId,xe)})}).then(()=>({batchId:M.batchId,changes:Yx(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,p){let _=a.ac[a.currentUser.toKey()];_||(_=new ii(Bt)),_=_.insert(c,p),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Ru(i,r.changes),yield Ng(i.remoteStore)}catch(r){const a=Vg(r,"Failed to persist write");t.reject(a)}}),sS.apply(this,arguments)}function $R(n,e){return aS.apply(this,arguments)}function aS(){return aS=(0,_e.Z)(function*(n,e){const t=Qe(n);try{const i=yield function cF(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const p=[];e.targetChanges.forEach((C,M)=>{const j=r.get(M);if(!j)return;p.push(t.Ds.removeMatchingKeys(a,C.removedDocuments,M).next(()=>t.Ds.addMatchingKeys(a,C.addedDocuments,M)));let q=j.withSequenceNumber(a.currentSequenceNumber);var ee,me,xe;e.targetMismatches.has(M)?q=q.withResumeToken(ki.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):C.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(C.resumeToken,i)),r=r.insert(M,q),me=q,xe=C,(0===(ee=j).resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&p.push(t.Ds.updateTargetData(a,q))});let _=mr(),x=tn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),p.push(wR(a,c,e.documentUpdates).next(C=>{_=C.zi,x=C.ji})),!i.isEqual(vt.min())){const C=t.Ds.getLastRemoteSnapshotVersion(a).next(M=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,i));p.push(C)}return ce.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,x)).next(()=>_)}).then(a=>(t.Li=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.uc.get(a);c&&(bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?bt(c.ec):r.removedDocuments.size>0&&(bt(c.ec),c.ec=!1))}),yield Ru(t,i,e)}catch(i){yield Ul(i)}}),aS.apply(this,arguments)}function HR(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,c)=>{const p=c.view.Ru(e);p.snapshot&&r.push(p.snapshot)}),function(a,c){const p=Qe(a);p.onlineState=c;let _=!1;p.queries.forEach((x,C)=>{for(const M of C.listeners)M.Ru(c)&&(_=!0)}),_&&eS(p)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function HF(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,_e.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let c=new ii(Ze.comparator);c=c.insert(a,Kn.newNoDocument(a,vt.min()));const p=tn().add(a),_=new Ag(vt.min(),new Map,new In(Bt),c,p);yield $R(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),mS(i)}else yield Pg(i.localStore,e,!1).then(()=>jg(i,e,t)).catch(Ul)}),lS.apply(this,arguments)}function GF(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,_e.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield function lF(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(c,p,_,x){const C=_.batch,M=C.keys();let j=ce.resolve();return M.forEach(q=>{j=j.next(()=>x.getEntry(p,q)).next(ee=>{const me=_.docVersions.get(q);bt(null!==me),ee.version.compareTo(me)<0&&(C.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),x.addEntry(ee)))})}),j.next(()=>c.mutationQueue.removeMutationBatch(p,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let p=tn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);fS(t,i,null),hS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ru(t,r)}catch(r){yield Ul(r)}}),cS.apply(this,arguments)}function WF(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,c){const p=Qe(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let x;return p.mutationQueue.lookupMutationBatch(_,c).next(C=>(bt(null!==C),x=C.keys(),p.mutationQueue.removeMutationBatch(_,C))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,x,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x)).next(()=>p.localDocuments.getDocuments(_,x))})}(i.localStore,e);fS(i,e,t),hS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ru(i,r)}catch(r){yield Ul(r)}}),uS.apply(this,arguments)}function dS(){return dS=(0,_e.Z)(function*(n,e){const t=Qe(n);Mu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=Qe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=Vg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),dS.apply(this,arguments)}function hS(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function fS(n,e,t){const i=Qe(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function jg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||GR(n,i)})}function GR(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(db(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),mS(n))}function pS(n,e,t){for(const i of t)i instanceof BR?(n.cc.addReference(i.key,e),ZF(n,i)):i instanceof jR?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||GR(n,i.key)):ut()}function ZF(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.rc.add(i),mS(n))}function mS(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ze(pn.fromString(e)),i=n.lc.next();n.uc.set(i,new UF(t)),n.oc=n.oc.insert(t,i),wE(n.remoteStore,new Xd(ao(jf(t.path)),i,2,An.ct))}}function Ru(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,_e.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],c=[];var p;i.sc.isEmpty()||(i.sc.forEach((p,_)=>{c.push(i.dc(_,e,t).then(x=>{if((x||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,x?.fromCache?"not-current":"current"),x){r.push(x);const C=bT.Di(_.targetId,x);a.push(C)}}))}),yield Promise.all(c),i.nc.zo(r),yield(p=(0,_e.Z)(function*(_,x){const C=Qe(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ce.forEach(x,j=>ce.forEach(j.Vi,q=>C.persistence.referenceDelegate.addReference(M,j.targetId,q)).next(()=>ce.forEach(j.Si,q=>C.persistence.referenceDelegate.removeReference(M,j.targetId,q)))))}catch(M){if(!Ya(M))throw M;Ve("LocalStore","Failed to update sequence numbers: "+M)}for(const M of x){const j=M.targetId;if(!M.fromCache){const q=C.Li.get(j),me=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);C.Li=C.Li.insert(j,me)}}}),function(_,x){return p.apply(this,arguments)})(i.localStore,a))}),gS.apply(this,arguments)}function KF(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,_e.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield vR(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(p=>{p.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ru(t,i.Qi)}var r}),_S.apply(this,arguments)}function YF(n,e){const t=Qe(n),i=t.uc.get(e);if(i&&i.ec)return tn().add(i.key);{let r=tn();const a=t.ic.get(e);if(!a)return r;for(const c of a){const p=t.sc.get(c);r=r.unionWith(p.view.Qu)}return r}}function QF(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n,e){const t=Qe(n),i=yield gE(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&pS(t,e.targetId,r.Yu),r}),yS.apply(this,arguments)}function XF(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n,e){const t=Qe(n);return ER(t.localStore,e).then(i=>Ru(t,i))}),vS.apply(this,arguments)}function JF(n,e,t,i){return bS.apply(this,arguments)}function bS(){return bS=(0,_e.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(c,p){const _=Qe(c),x=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>x.In(C,p).next(M=>M?_.localDocuments.getDocuments(C,M):ce.resolve(null)))}(r.localStore,e);var p;null!==a?("pending"===t?yield Ng(r.remoteStore):"acknowledged"===t||"rejected"===t?(fS(r,e,i||null),hS(r,e),p=e,Qe(Qe(r.localStore).mutationQueue).En(p)):ut(),yield Ru(r,a)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),bS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n,e){const t=Qe(n);if(CS(t),DS(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield WR(t,i.toArray());t.fc=!0,yield qT(t.remoteStore,!0);for(const a of r)wE(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(jg(t,c),Pg(t.localStore,c,!0))),db(t.remoteStore,c)}),yield r,yield WR(t,i),function(a){const c=Qe(a);c.uc.forEach((p,_)=>{db(c.remoteStore,_)}),c.cc.ls(),c.uc=new Map,c.oc=new ii(Ze.comparator)}(t),t.fc=!1,yield qT(t.remoteStore,!1)}}),wS.apply(this,arguments)}function WR(n,e,t){return xS.apply(this,arguments)}function xS(){return xS=(0,_e.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const c of e){let p;const _=i.ic.get(c);if(_&&0!==_.length){p=yield kg(i.localStore,ao(_[0]));for(const x of _){const C=i.sc.get(x),M=yield QF(i,C);M.snapshot&&a.push(M.snapshot)}}else{const x=yield xR(i.localStore,c);p=yield kg(i.localStore,x),yield iS(i,qR(x),c,!1,p.resumeToken)}r.push(p)}return i.nc.zo(a),r}),xS.apply(this,arguments)}function qR(n){return qx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tN(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).bi()}function nN(n,e,t,i){return ES.apply(this,arguments)}function ES(){return ES=(0,_e.Z)(function*(n,e,t,i){const r=Qe(n);if(r.fc)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield ER(r.localStore,$v(a[0])),p=Ag.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ki.EMPTY_BYTE_STRING);yield Ru(r,c,p);break}case"rejected":yield Pg(r.localStore,e,!0),jg(r,e,i);break;default:ut()}}),ES.apply(this,arguments)}function iN(n,e,t){return IS.apply(this,arguments)}function IS(){return IS=(0,_e.Z)(function*(n,e,t){const i=CS(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const a=yield xR(i.localStore,r),c=yield kg(i.localStore,a);yield iS(i,qR(a),c.targetId,!1,c.resumeToken),wE(i.remoteStore,c)}for(const r of t)i.ic.has(r)&&(yield Pg(i.localStore,r,!1).then(()=>{db(i.remoteStore,r),jg(i,r)}).catch(Ul))}}),IS.apply(this,arguments)}function CS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HF.bind(null,e),e.nc.zo=PF.bind(null,e.eventManager),e.nc.wc=FF.bind(null,e.eventManager),e}function DS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WF.bind(null,e),e}class EE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=cb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yR(this.persistence,new _R,e.initialUser,this.serializer)}createPersistence(e){return new mR(pE.Fs,this.serializer)}createSharedClientState(e){return new TR}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TS extends EE{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield DS(i.mc.syncEngine),yield Ng(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yR(this.persistence,new _R,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new AD(t,this.persistence);return new wx(e.asyncQueue,i)}createPersistence(e){const t=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new yT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,AR(),bE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TR}}class ZR extends TS{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof ST&&(i.sharedClientState.syncEngine={$r:JF.bind(null,r),Mr:nN.bind(null,r),Fr:iN.bind(null,r),bi:tN.bind(null,r),Or:XF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var a=(0,_e.Z)(function*(c){yield function eN(n,e){return wS.apply(this,arguments)}(i.mc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=AR();if(!ST.D(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ST(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class zg{initialize(e,t){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>HR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=KF.bind(null,i.syncEngine),yield qT(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kF}createDatastore(e){const t=cb(e.databaseInfo.databaseId),i=new gF(e.databaseInfo);return new vF(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=p=>HR(this.syncEngine,p,0),c=SR.D()?new SR:new fF,new xF(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,p,_,x){const C=new BF(i,r,a,c,p,_);return x&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const i=Qe(t);Ve("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield Fg(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KR(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class IE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oN{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Oi,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new NF(JSON.parse(a),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,_e.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class sN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(a,c){const p=Qe(a),_=Be(p.serializer)+"/documents",x={documents:c.map(q=>B(p.serializer,q))},C=yield p.fo("BatchGetDocuments",_,x,c.length),M=new Map;C.forEach(q=>{const ee=function Le(n,e){return"found"in e?function(t,i){bt(!!i.found);const r=K(t,i.found.name),a=E(i.found.updateTime),c=i.found.createTime?E(i.found.createTime):vt.min(),p=new pr({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(r,a,c,p)}(n,e):"missing"in e?function(t,i){bt(!!i.missing),bt(!!i.readTime);const r=K(t,i.missing),a=E(i.readTime);return Kn.newNoDocument(r,a)}(n,e):ut()}(p.serializer,q);M.set(ee.key.toString(),ee)});const j=[];return c.forEach(q=>{const ee=M.get(q.toString());bt(!!ee),j.push(ee)}),j}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Au(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ze.fromPath(r);e.mutations.push(new Gf(a,e.precondition(a)))}),yield(i=(0,_e.Z)(function*(r,a){const c=Qe(r),p=Be(c.serializer)+"/documents",_={writes:a.map(x=>Sn(c.serializer,x))};yield c.co("Commit",p,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?ri.exists(!1):ri.updateTime(t):ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(t)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aN{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Vc=i.maxAttempts,this.Co=new MT(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,_e.Z)(function*(){const t=new sN(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Cc(a)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!Ys(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rE(t)}return!1}}class lN{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=er.UNAUTHENTICATED,this.clientId=px.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(p){Ve("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Vg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function CE(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(a){i.isEqual(a)||(yield vR(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),SS.apply(this,arguments)}function AS(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield RS(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>NR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>NR(e.remoteStore,a)),n._onlineComponents=e}),MS.apply(this,arguments)}function YR(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function RS(n){return OS.apply(this,arguments)}function OS(){return OS=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield CE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!YR(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),yield CE(n,new EE)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield CE(n,new EE);return n._offlineComponents}),OS.apply(this,arguments)}function DE(n){return kS.apply(this,arguments)}function kS(){return kS=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield AS(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield AS(n,new zg))),n._onlineComponents}),kS.apply(this,arguments)}function QR(n){return RS(n).then(e=>e.persistence)}function TE(n){return RS(n).then(e=>e.localStore)}function PS(n){return DE(n).then(e=>e.remoteStore)}function FS(n){return DE(n).then(e=>e.syncEngine)}function $g(n){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*(n){const e=yield DE(n),t=e.eventManager;return t.onListen=jF.bind(null,e.syncEngine),t.onUnlisten=zF.bind(null,e.syncEngine),t}),NS.apply(this,arguments)}function JR(n,e,t={}){const i=new Oi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,a,c,p,_){const x=new IE({next:M=>{a.enqueueAndForget(()=>XT(r,C));const j=M.docs.has(c);!j&&M.fromCache?_.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&M.fromCache&&p&&"server"===p.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new tS(jf(c.path),x,{includeMetadataChanges:!0,xu:!0});return YT(r,C)}(yield $g(n),n.asyncQueue,e,t,i)})),i.promise}function e1(n,e,t={}){const i=new Oi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,a,c,p,_){const x=new IE({next:M=>{a.enqueueAndForget(()=>XT(r,C)),M.fromCache&&"server"===p.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new tS(c,x,{includeMetadataChanges:!0,xu:!0});return YT(r,C)}(yield $g(n),n.asyncQueue,e,t,i)})),i.promise}const t1=new Map;function LS(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n1(n,e,t,i){if(!0===e&&!0===i)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r1(n){if(!Ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(Ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=SE(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s1(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class a1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new dx;switch(t.type){case"firstParty":return new hx(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=t1.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),t1.delete(e),t.terminate())}(this),Promise.resolve()}}function l1(n,e,t,i={}){var r;const a=(n=gn(n,hb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ks("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,p;if("string"==typeof i.mockUserToken)c=i.mockUserToken,p=er.MOCK_USER;else{c=(0,Ht.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new er(_)}n._authCredentials=new ID(new Ev(c,p))}}class si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class Hr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Zl extends Hr{constructor(e,t,i){super(e,t,jf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new Ze(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function c1(n,e,...t){if(n=(0,Ht.m9)(n),LS("collection","path",e),n instanceof hb){const i=pn.fromString(e,...t);return o1(i),new Zl(n,null,i)}{if(!(n instanceof si||n instanceof Zl))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(e,...t));return o1(i),new Zl(n.firestore,null,i)}}function AE(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=px.A()),LS("doc","path",e),n instanceof hb){const i=pn.fromString(e,...t);return r1(i),new si(n,null,new Ze(i))}{if(!(n instanceof si||n instanceof Zl))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(e,...t));return r1(i),new si(n.firestore,n instanceof Zl?n.converter:null,new Ze(i))}}function u1(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof si||n instanceof Zl)&&(e instanceof si||e instanceof Zl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VS(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof Hr&&e instanceof Hr&&n.firestore===e.firestore&&Zd(n._query,e._query)&&n.converter===e.converter}class yN{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new MT(this,"async_queue_retry"),this.qc=()=>{const t=bE();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=bE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=bE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Oi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Ya(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,vi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=KT.createAndSchedule(this,e,t,i,a=>this.Qc(a));return this.$c.push(r),r}Uc(){this.Mc&&ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function US(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class vN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ai extends hb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new yN,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||d1(this),this._firestoreClient.terminate()}}function wN(n,e){const t="object"==typeof n?n:(0,ur.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,ur._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=(0,Ht.P0)("firestore");a&&l1(r,...a)}return r}function zi(n){return n._firestoreClient||d1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function d1(n){var e,t,i;const r=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OM(n._databaseId,p,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var p,x;n._firestoreClient=new lN(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function h1(n,e,t){const i=new Oi;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield CE(n,t),yield AS(n,e),i.resolve()}catch(r){const a=r;if(!YR(a))throw a;Ks("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function f1(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(ki.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ou{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tp{constructor(e){this._methodName=e}}class ME{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const RN=/^__.*__$/;class ON{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}class p1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class RE{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new RE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return PE(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(m1(this.Yc)&&RN.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class kN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||cb(e)}ua(e,t,i,r=!1){return new RE({Yc:e,methodName:t,oa:i,path:Bn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(n){const e=n._freezeSettings(),t=cb(n._databaseId);return new kN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OE(n,e,t,i,r,a={}){const c=n.ua(a.merge||a.mergeFields?2:0,e,t,r);$S("Data must be an object, but it was:",c,i);const p=y1(i,c);let _,x;if(a.merge)_=new $r(c.fieldMask),x=c.fieldTransforms;else if(a.mergeFields){const C=[];for(const M of a.mergeFields){const j=mb(e,M,t);if(!c.contains(j))throw new Re(de.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);b1(C,j)||C.push(j)}_=new $r(C),x=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,x=c.fieldTransforms;return new ON(new pr(p),_,x)}class pb extends tp{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pb}}function g1(n,e,t){return new RE({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BS extends tp{_toFieldTransform(e){return new Tu(e.path,new Yd)}isEqual(e){return e instanceof BS}}class PN extends tp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=g1(this,e,!0),i=this.ca.map(a=>ip(a,t)),r=new Hl(i);return new Tu(e.path,r)}isEqual(e){return this===e}}class FN extends tp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=g1(this,e,!0),i=this.ca.map(a=>ip(a,t)),r=new Wl(i);return new Tu(e.path,r)}isEqual(e){return this===e}}class NN extends tp{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new ql(e.serializer,XD(e.serializer,this.aa));return new Tu(e.path,t)}isEqual(e){return this===e}}function jS(n,e,t,i){const r=n.ua(1,e,t);$S("Data must be an object, but it was:",r,i);const a=[],c=pr.empty();bu(i,(_,x)=>{const C=kE(e,_,t);x=(0,Ht.m9)(x);const M=r.na(C);if(x instanceof pb)a.push(C);else{const j=ip(x,M);null!=j&&(a.push(C),c.set(C,j))}});const p=new $r(a);return new p1(c,p,r.fieldTransforms)}function zS(n,e,t,i,r,a){const c=n.ua(1,e,t),p=[mb(e,i,t)],_=[r];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<a.length;j+=2)p.push(mb(e,a[j])),_.push(a[j+1]);const x=[],C=pr.empty();for(let j=p.length-1;j>=0;--j)if(!b1(x,p[j])){const q=p[j];let ee=_[j];ee=(0,Ht.m9)(ee);const me=c.na(q);if(ee instanceof pb)x.push(q);else{const xe=ip(ee,me);null!=xe&&(x.push(q),C.set(q,xe))}}const M=new $r(x);return new p1(C,M,c.fieldTransforms)}function _1(n,e,t,i=!1){return ip(t,n.ua(i?4:3,e))}function ip(n,e){if(v1(n=(0,Ht.m9)(n)))return $S("Unsupported field value:",e,n),y1(n,e);if(n instanceof tp)return function(t,i){if(!m1(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let p=ip(c,i.sa(a));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return XD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=kn.fromDate(t);return{timestampValue:f(i.serializer,r)}}if(t instanceof kn){const r=new kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:f(i.serializer,r)}}if(t instanceof ME)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kl)return{bytesValue:y(i.serializer,t._byteString)};if(t instanceof si){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:T(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${SE(t)}`)}(n,e)}function y1(n,e){const t={};return Ov(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bu(n,(i,r)=>{const a=ip(r,e.Xc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function v1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kn||n instanceof ME||n instanceof Kl||n instanceof si||n instanceof tp)}function $S(n,e,t){if(!v1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=SE(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function mb(n,e,t){if((e=(0,Ht.m9)(e))instanceof Ou)return e._internalPath;if("string"==typeof e)return kE(n,e);throw PE("Field path arguments must be of type string or ",n,!1,void 0,t)}const LN=new RegExp("[~\\*/\\[\\]]");function kE(n,e,t){if(e.search(LN)>=0)throw PE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ou(...e.split("."))._internalPath}catch{throw PE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function PE(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new Re(de.INVALID_ARGUMENT,p+n+_)}function b1(n,e){return n.some(t=>t.isEqual(e))}class gb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VN extends gb{data(){return super.data()}}function FE(n,e){return"string"==typeof e?kE(n,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}function w1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HS{}class _b extends HS{}function ih(n,e,...t){let i=[];e instanceof HS&&i.push(e),i=i.concat(t),function(r){const a=r.filter(p=>p instanceof Hg).length,c=r.filter(p=>p instanceof yb).length;if(a>1||a>0&&c>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class yb extends _b{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yb(e,t,i)}_apply(e){const t=this._parse(e);return C1(e._query,t),new Hr(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=np(e.firestore);return function(r,a,c,p,_,x,C){let M;if(_.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){I1(C,x);const j=[];for(const q of C)j.push(E1(p,r,q));M={arrayValue:{values:j}}}else M=E1(p,r,C)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||I1(C,x),M=_1(c,"where",C,"in"===x||"not-in"===x);return ln.create(_,x,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends HS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Tn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const p of c)C1(a,p),a=bg(a,p)}(e._query,t),new Hr(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GS extends _b{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GS(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Uf(r,a);return function(p,_){if(null===jv(p)){const x=vg(p);null!==x&&D1(0,x,_.field)}}(i,c),c}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Qs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class NE extends _b{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new NE(e,t,i)}_apply(e){return new Hr(e.firestore,e.converter,wg(e._query,this._limit,this._limitType))}}class LE extends _b{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new LE(e,t,i)}_apply(e){const t=x1(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,(r=t,new Qs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class VE extends _b{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new VE(e,t,i)}_apply(e){const t=x1(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,(r=t,new Qs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function x1(n,e,t,i){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof gb)return function(r,a,c,p,_){if(!p)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const x=[];for(const C of $l(r))if(C.field.isKeyField())x.push(jl(a,p.key));else{const M=p.data.field(C.field);if(Fx(M))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const j=C.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}x.push(M)}return new zl(x,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=np(n.firestore);return function(a,c,p,_,x,C){const M=a.explicitOrderBy;if(x.length>M.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let q=0;q<x.length;q++){const ee=x[q];if(M[q].field.isKeyField()){if("string"!=typeof ee)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ee}`);if(!zv(a)&&-1!==ee.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ee}' contains a slash.`);const me=a.path.child(pn.fromString(ee));if(!Ze.isDocumentKey(me))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const xe=new Ze(me);j.push(jl(c,xe))}else{const me=_1(p,_,ee);j.push(me)}}return new zl(j,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function E1(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pn.fromString(t));if(!Ze.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jl(n,new Ze(i))}if(t instanceof si)return jl(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${SE(t)}.`)}function I1(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C1(n,e){if(e.isInequality()){const i=vg(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=jv(n);null!==a&&D1(0,r,a)}const t=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function D1(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class WS{convertValue(e,t="none"){switch(Wd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const i={};return bu(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new ME(di(e.latitude),di(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kv(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(cg(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pn.fromString(e);bt(zM(i));const r=new xu(i.get(1),i.get(3)),a=new Ze(i.popFirst(5));return r.isEqual(t)||vi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function UE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class qN extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}class rp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends gb{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class vb extends ku{data(e={}){return super.data(e)}}class rh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new vb(this._firestore,this._userDataWriter,i.key,i,new rp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new vb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new rp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const p=new vb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new rp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,x=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),x=a.indexOf(c.doc.key)),{type:KN(c.type),doc:p,oldIndex:_,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function S1(n,e){return n instanceof ku&&e instanceof ku?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rh&&e instanceof rh&&n._firestore===e._firestore&&VS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class oh extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}function A1(n,e,t){n=gn(n,si);const i=gn(n.firestore,ai),r=UE(n.converter,e,t);return Gg(i,[OE(np(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ri.none())])}function M1(n,e,t,...i){n=gn(n,si);const r=gn(n.firestore,ai),a=np(r);let c;return c="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Ou?zS(a,"updateDoc",n._key,e,t,i):jS(a,"updateDoc",n._key,e),Gg(r,[c.toMutation(n._key,ri.exists(!0))])}function R1(n,...e){var t,i,r;n=(0,Ht.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||US(e[c])||(a=e[c],c++);const p={includeMetadataChanges:a.includeMetadataChanges};if(US(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[c+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,x,C;if(n instanceof si)x=gn(n.firestore,ai),C=jf(n._key.path),_={next:M=>{e[c]&&e[c](qS(x,n,M))},error:e[c+1],complete:e[c+2]};else{const M=gn(n,Hr);x=gn(M.firestore,ai),C=M._query;const j=new oh(x);_={next:q=>{e[c]&&e[c](new rh(x,j,M,q))},error:e[c+1],complete:e[c+2]},w1(n._query)}return function(M,j,q,ee){const me=new IE(ee),xe=new tS(j,me,q);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return YT(yield $g(M),xe)})),()=>{me.yc(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return XT(yield $g(M),xe)}))}}(zi(x),C,p,_)}function Gg(n,e){return function(t,i){const r=new Oi;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function $F(n,e,t){return sS.apply(this,arguments)}(yield FS(t),i,r)})),r.promise}(zi(n),e)}function qS(n,e,t){const i=t.docs.get(e._key),r=new oh(n);return new ku(n,r,e._key,i,new rp(t.hasPendingWrites,t.fromCache),e.converter)}const dL={maxAttempts:5};class O1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=np(e)}set(e,t,i){this._verifyNotCommitted();const r=sh(e,this._firestore),a=UE(r.converter,t,i),c=OE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ri.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=sh(e,this._firestore);let c;return c="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Ou?zS(this._dataReader,"WriteBatch.update",a._key,t,i,r):jS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sh(e,this._firestore);return this._mutations=this._mutations.concat(new Au(t._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sh(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=np(e)}get(e){const t=sh(e,this._firestore),i=new qN(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ut();const a=r[0];if(a.isFoundDocument())return new gb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new gb(this._firestore,i,t._key,null,t.converter);throw ut()})}set(e,t,i){const r=sh(e,this._firestore),a=UE(r.converter,t,i),c=OE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=sh(e,this._firestore);let c;return c="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Ou?zS(this._dataReader,"Transaction.update",a._key,t,i,r):jS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sh(e,this._firestore),i=new oh(this._firestore);return super.get(e).then(r=>new ku(this._firestore,i,t._key,r._document,new rp(!1,!1),t.converter))}}!function(n,e=!0){Ud=ur.SDK_VERSION,(0,ur._registerComponent)(new Ua.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new ai(new SM(t.getProvider("auth-internal")),new DD(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(p.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,ur.registerVersion)(ux,"3.10.0",n),(0,ur.registerVersion)(ux,"3.10.0","esm2017")}();function ZS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function P1(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function F1(){if(!function kx(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class bb{constructor(e){this._delegate=e}static fromBase64String(e){return F1(),new bb(Kl.fromBase64String(e))}static fromUint8Array(e){return P1(),new bb(Kl.fromUint8Array(e))}toBase64(){return F1(),this._delegate.toBase64()}toUint8Array(){return P1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KS(n){return function wL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class xL{enableIndexedDbPersistence(e,t){return function xN(n,e){f1(n=gn(n,ai));const t=zi(n);if(t._uninitializedComponentsProvider)throw new Re(de.FAILED_PRECONDITION,"SDK cache is already specified.");Ks("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new zg;return h1(t,r,new TS(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function EN(n){f1(n=gn(n,ai));const e=zi(n);if(e._uninitializedComponentsProvider)throw new Re(de.FAILED_PRECONDITION,"SDK cache is already specified.");Ks("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new zg;return h1(e,i,new ZR(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function IN(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!Zo.D())return Promise.resolve();const r=i+"main";yield Zo.delete(r)}),function(i){return t.apply(this,arguments)})(vT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class N1{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){l1(this._delegate,e,t,i)}enableNetwork(){return function DN(n){return function cN(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield QR(n),t=yield PS(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.du.delete(0),ub(r)}(t)}))}(zi(n=gn(n,ai)))}(this._delegate)}disableNetwork(){return function TN(n){return function uN(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield QR(n),t=yield PS(n);return e.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const a=Qe(r);a.du.add(0),yield Fg(a),a.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(zi(n=gn(n,ai)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,n1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CN(n){return function(e){const t=new Oi;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function qF(n,e){return dS.apply(this,arguments)}(yield FS(e),t)})),t.promise}(zi(n=gn(n,ai)))}(this._delegate)}onSnapshotsInSync(e){return function rL(n,e){return function fN(n,e){const t=new IE(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield $g(n),r=t,Qe(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield $g(n),r=t,void Qe(i).Au.delete(r);var i,r}))}}(zi(n=gn(n,ai)),US(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wg(this,c1(this._delegate,e))}catch(t){throw Mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,AE(this._delegate,e))}catch(t){throw Mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ro(this,function _N(n,e){if(n=gn(n,hb),LS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hr(n,null,(t=e,new Qs(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function fL(n,e,t){n=gn(n,ai);const i=Object.assign(Object.assign({},dL),t);return function(r){if(r.maxAttempts<1)throw new Re(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const p=new Oi;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const _=yield function XR(n){return DE(n).then(e=>e.datastore)}(r);new aN(r.asyncQueue,_,c,a,p).run()})),p.promise}(zi(n),r=>e(new hL(n,r)),i)}(this._delegate,t=>e(new L1(this,t)))}batch(){return zi(this._delegate),new V1(new O1(this._delegate,e=>Gg(this._delegate,e)))}loadBundle(e){return function SN(n,e){const t=zi(n=gn(n,ai)),i=new vN;return function pN(n,e,t,i){const r=function(a,c){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,x){if(_ instanceof Uint8Array)return KR(_,x);if(_ instanceof ArrayBuffer)return KR(new Uint8Array(_),x);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new oN(_,c);var _}(t,cb(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function rN(n,e,t){const i=Qe(n);var r;(r=(0,_e.Z)(function*(a,c,p){try{const _=yield c.getMetadata();if(yield function(j,q){const ee=Qe(j),me=E(q.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",xe=>ee.xs.getBundleMetadata(xe,q.id)).then(xe=>!!xe&&xe.createTime.compareTo(me)>=0)}(a.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);p._updateProgress(UR(_));const x=new LF(_,a.localStore,c.serializer);let C=yield c._c();for(;C;){const j=yield x.$u(C);j&&p._updateProgress(j),C=yield c._c()}const M=yield x.complete();return yield Ru(a,M.Bu,void 0),yield function(j,q){const ee=Qe(j);return ee.persistence.runTransaction("Save bundle","readwrite",me=>ee.xs.saveBundleMetadata(me,q))}(a.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Ks("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var j}),function(a,c,p){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FS(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function AN(n,e){return function mN(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.xs.getNamedQuery(a,i))}(yield TE(n),e)}))}(zi(n=gn(n,ai)),e).then(t=>t?new Hr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ro(this,t):null)}}class BE extends WS{constructor(e){super(),this.firestore=e}convertBytes(e){return new bb(new Kl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class L1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}get(e){const t=sp(e);return this._delegate.get(t).then(i=>new wb(this._firestore,new ku(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=sp(e);return i?(ZS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}}class V1{constructor(e){this._delegate=e}set(e,t,i){const r=sp(e);return i?(ZS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class op{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new vb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=op.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new op(e,new BE(e),t),r.set(t,a)),a}}op.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new si(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new ea(t,new si(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Wg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wg(this.firestore,c1(this._delegate,e))}catch(t){throw Mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof si&&u1(this._delegate,e)}set(e,t){t=ZS("DocumentReference.set",t);try{return t?A1(this._delegate,e,t):A1(this._delegate,e)}catch(i){throw Mo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?M1(this._delegate,e):M1(this._delegate,e,t,...i)}catch(r){throw Mo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function nL(n){return Gg(gn(n.firestore,ai),[new Au(n._key,ri.none())])}(this._delegate)}onSnapshot(...e){const t=U1(e),i=B1(e,r=>new wb(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return R1(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function QN(n){n=gn(n,si);const e=gn(n.firestore,ai),t=zi(e),i=new oh(e);return function dN(n,e){const t=new Oi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,a,c){try{const p=yield function(_,x){const C=Qe(_);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,x))}(r,a);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Vg(p,`Failed to get document '${a} from cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield TE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ku(e,i,n._key,r,new rp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function XN(n){n=gn(n,si);const e=gn(n.firestore,ai);return JR(zi(e),n._key,{source:"server"}).then(t=>qS(e,n,t))}(this._delegate):function YN(n){n=gn(n,si);const e=gn(n.firestore,ai);return JR(zi(e),n._key).then(t=>qS(e,n,t))}(this._delegate),t.then(i=>new wb(this.firestore,new ku(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}function Mo(n,e,t){return n.message=n.message.replace(e,t),n}function U1(n){for(const e of n)if("object"==typeof e&&!KS(e))return e;return{}}function B1(n,e){var t,i;let r;return r=KS(n[0])?n[0]:KS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class wb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return S1(this._delegate,e._delegate)}}class xb extends wb{data(e){const t=this._delegate.data(e);return function kf(n,e){n||ut()}(void 0!==t),t}}class Ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BE(e)}where(e,t,i){try{return new Ro(this.firestore,ih(this._delegate,function UN(n,e,t){const i=e,r=FE("where",n);return yb._create(r,i,t)}(e,t,i)))}catch(r){throw Mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ro(this.firestore,ih(this._delegate,function BN(n,e="asc"){const t=e,i=FE("orderBy",n);return GS._create(i,t)}(e,t)))}catch(i){throw Mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ro(this.firestore,ih(this._delegate,function jN(n){return s1("limit",n),NE._create("limit",n,"F")}(e)))}catch(t){throw Mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ro(this.firestore,ih(this._delegate,function zN(n){return s1("limitToLast",n),NE._create("limitToLast",n,"L")}(e)))}catch(t){throw Mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ro(this.firestore,ih(this._delegate,function $N(...n){return LE._create("startAt",n,!0)}(...e)))}catch(t){throw Mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ro(this.firestore,ih(this._delegate,function HN(...n){return LE._create("startAfter",n,!1)}(...e)))}catch(t){throw Mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ro(this.firestore,ih(this._delegate,function GN(...n){return VE._create("endBefore",n,!1)}(...e)))}catch(t){throw Mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ro(this.firestore,ih(this._delegate,function WN(...n){return VE._create("endAt",n,!0)}(...e)))}catch(t){throw Mo(t,"endAt()","Query.endAt()")}}isEqual(e){return VS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function eL(n){n=gn(n,Hr);const e=gn(n.firestore,ai),t=zi(e),i=new oh(e);return function hN(n,e){const t=new Oi;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,a,c){try{const p=yield gE(r,a,!0),_=new zR(a,p.Wi),x=_.zu(p.documents),C=_.applyChanges(x,!1);c.resolve(C.snapshot)}catch(p){const _=Vg(p,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield TE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new rh(e,i,n,r))}(this._delegate):"server"===e?.source?function tL(n){n=gn(n,Hr);const e=gn(n.firestore,ai),t=zi(e),i=new oh(e);return e1(t,n._query,{source:"server"}).then(r=>new rh(e,i,n,r))}(this._delegate):function JN(n){n=gn(n,Hr);const e=gn(n.firestore,ai),t=zi(e),i=new oh(e);return w1(n._query),e1(t,n._query).then(r=>new rh(e,i,n,r))}(this._delegate),t.then(i=>new YS(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=U1(e),i=B1(e,r=>new YS(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return R1(this._delegate,t,i)}withConverter(e){return new Ro(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}class IL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new xb(this._firestore,i))})}isEqual(e){return S1(this._delegate,e._delegate)}}class Wg extends Ro{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?AE(this._delegate):AE(this._delegate,e))}catch(t){throw Mo(t,"doc()","CollectionReference.doc()")}}add(e){return function iL(n,e){const t=gn(n.firestore,ai),i=AE(n),r=UE(n.converter,e);return Gg(t,[OE(np(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return u1(this._delegate,e._delegate)}withConverter(e){return new Wg(this.firestore,this._delegate.withConverter(e?op.getInstance(this.firestore,e):null))}}function sp(n){return gn(n,si)}class QS{constructor(...e){this._delegate=new Ou(...e)}static documentId(){return new QS(Bn.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Ou&&this._delegate._internalPath.isEqual(e._internalPath)}}class ap{constructor(e){this._delegate=e}static serverTimestamp(){const e=function mL(){return new BS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ap(e)}static delete(){const e=function pL(){return new pb("deleteField")}();return e._methodName="FieldValue.delete",new ap(e)}static arrayUnion(...e){const t=function gL(...n){return new PN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ap(t)}static arrayRemove(...e){const t=function _L(...n){return new FN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ap(t)}static increment(e){const t=function yL(n){return new NN("increment",n)}(e);return t._methodName="FieldValue.increment",new ap(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CL={Firestore:N1,GeoPoint:ME,Timestamp:kn,Blob:bb,Transaction:L1,WriteBatch:V1,DocumentReference:ea,DocumentSnapshot:wb,Query:Ro,QueryDocumentSnapshot:xb,QuerySnapshot:YS,CollectionReference:Wg,FieldPath:QS,FieldValue:ap,setLogLevel:function EL(n){!function ED(n){Ka.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function j1(n,e){return function SL(n,e=Id.z){return new Ti.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function XS(n,e){return j1(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function jE(n,e){return XS(n,e).pipe(Sa(void 0),xm(),(0,Dt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,p)=>{const _=r.find(C=>C.doc.ref.isEqual(c.ref)),x=t?.payload.docs.find(C=>C.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&x&&JSON.stringify(x.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),a}))}function z1(n,e,t){return jE(n,t).pipe(id((i,r)=>function ML(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function RL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function gw(n,e=to.y){return n=n??_w,(0,bn.e)((t,i)=>{let r,a=!0;t.subscribe((0,U.x)(i,c=>{const p=e(c);(a||!n(r,p))&&(a=!1,r=p,i.next(c))}))})}(),(0,Dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function JS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function $1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function TL(n){(function DL(n,e){n.INTERNAL.registerComponent(new Ua.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},CL)))})(n,(e,t)=>new N1(e,t,new xL)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(My.Z);class H1{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=jE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Sa(void 0),xm(),xr(([i,r])=>r.length>0||!i),(0,Dt.U)(([i,r])=>r),un.iC)}auditTrail(e){return this.stateChanges(e).pipe(id((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$1(e);return z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),un.iC)}get(e){return(0,zt.D)(this.query.get(e)).pipe(un.iC)}add(e){return this.ref.add(e)}doc(e){return new G1(this.ref.doc(e),this.afs)}}class G1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=W1(i,t);return new H1(r,a,this.afs)}snapshotChanges(){return function AL(n,e){return j1(n,e).pipe(Sa(void 0),xm(),(0,Dt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,zt.D)(this.ref.get(e)).pipe(un.iC)}}class OL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),xr(t=>t.length>0),un.iC):jE(this.query,this.afs.schedulers.outsideAngular).pipe(un.iC)}auditTrail(e){return this.stateChanges(e).pipe(id((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=$1(e);return z1(this.query,t,this.afs.schedulers.outsideAngular).pipe(un.iC)}valueChanges(e={}){return XS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),un.iC)}get(e){return(0,zt.D)(this.query.get(e)).pipe(un.iC)}}const kL=new u.OlP("angularfire2.enableFirestorePersistence"),PL=new u.OlP("angularfire2.firestore.persistenceSettings"),FL=new u.OlP("angularfire2.firestore.settings"),NL=new u.OlP("angularfire2.firestore.use-emulator");function W1(n,e=(t=>t)){return{query:e(n),ref:n}}let q1=(()=>{class n{constructor(t,i,r,a,c,p,_,x,C,M,j,q,ee,me,xe,mt,Rt){this.schedulers=_;const ht=(0,Vr.on)(t,p,i),Ct=C;M&&mw(ht,p,j,ee,me,xe,q,mt),[this.firestore,this.persistenceEnabled$]=(0,Vr.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const Kt=p.runOutsideAngular(()=>ht.firestore());if(a&&Kt.settings(a),Ct&&Kt.useEmulator(...Ct),r&&!Bu(c)){const sn=()=>{try{return(0,zt.D)(Kt.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(gr){return typeof console<"u"&&console.warn(gr),at(!1)}};return[Kt,p.runOutsideAngular(sn)]}return[Kt,at(!1)]},[a,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=W1(r,i),p=this.schedulers.ngZone.run(()=>a);return new H1(p,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new OL(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new G1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vr.Dh),u.LFG(Vr.xv,8),u.LFG(kL,8),u.LFG(FL,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(un.HU),u.LFG(PL,8),u.LFG(NL,8),u.LFG(wm,8),u.LFG(Cy,8),u.LFG(pw,8),u.LFG(Dy,8),u.LFG(Ty,8),u.LFG(Sy,8),u.LFG(Ay,8),u.LFG(cu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Z1=(()=>{class n{constructor(t){this.afs=t}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/Students").add(t)}getAllStudents(){return this.afs.collection("/Students").snapshotChanges()}deleteStudent(t){this.afs.doc("/Students/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(q1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K1=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),lp=(()=>{class n extends K1{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Yl=new u.OlP("NgValueAccessor"),UL={provide:Yl,useExisting:(0,u.Gpc)(()=>cp),multi:!0},jL=new u.OlP("CompositionEventMode");let cp=(()=>{class n extends K1{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BL(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(jL,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([UL]),u.qOj]}),n})();const zL=!1;function ah(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Q1(n){return null!=n&&"number"==typeof n.length}const co=new u.OlP("NgValidators"),lh=new u.OlP("NgAsyncValidators"),$L=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zE{static min(e){return function X1(n){return e=>{if(ah(e.value)||ah(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function J1(n){return e=>{if(ah(e.value)||ah(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function eO(n){return ah(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nO(n){return ah(n.value)||$L.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iO(n){return e=>ah(e.value)||!Q1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rO(n){return e=>Q1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oO(n){if(!n)return $E;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ah(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return dO(e)}static composeAsync(e){return hO(e)}}function $E(n){return null}function sO(n){return null!=n}function aO(n){const e=(0,u.QGY)(n)?(0,zt.D)(n):n;if(zL&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function lO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cO(n,e){return e.map(t=>t(n))}function uO(n){return n.map(e=>function HL(n){return!n.validate}(e)?e:t=>e.validate(t))}function dO(n){if(!n)return null;const e=n.filter(sO);return 0==e.length?null:function(t){return lO(cO(t,e))}}function eA(n){return null!=n?dO(uO(n)):null}function hO(n){if(!n)return null;const e=n.filter(sO);return 0==e.length?null:function(t){return function LL(...n){const e=(0,fs.jO)(n),{args:t,keys:i}=Da(n),r=new Ti.y(a=>{const{length:c}=t;if(!c)return void a.complete();const p=new Array(c);let _=c,x=c;for(let C=0;C<c;C++){let M=!1;(0,It.Xf)(t[C]).subscribe((0,U.x)(a,j=>{M||(M=!0,x--),p[C]=j},()=>_--,void 0,()=>{(!_||!M)&&(x||a.next(i?R(i,p):p),a.complete())}))}});return e?r.pipe(D(e)):r}(cO(t,e).map(aO)).pipe((0,Dt.U)(lO))}}function tA(n){return null!=n?hO(uO(n)):null}function fO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pO(n){return n._rawValidators}function mO(n){return n._rawAsyncValidators}function nA(n){return n?Array.isArray(n)?n:[n]:[]}function HE(n,e){return Array.isArray(n)?n.includes(e):n===e}function gO(n,e){const t=nA(e);return nA(n).forEach(r=>{HE(t,r)||t.push(r)}),t}function _O(n,e){return nA(e).filter(t=>!HE(n,t))}class yO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oo extends yO{get formDirective(){return null}get path(){return null}}class ch extends yO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Eb=(()=>{class n extends vO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ch,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),qg=(()=>{class n extends vO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oo,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();function bO(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const oA=!1,Ib="VALID",WE="INVALID",Zg="PENDING",Cb="DISABLED";function sA(n){return(qE(n)?n.validators:n)||null}function aA(n,e){return(qE(e)?e.asyncValidators:n)||null}function qE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function wO(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,oA?function ZL(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new u.vHH(1001,oA?function KL(n,e){return`Cannot find form control ${bO(n,e)}`}(e,t):"")}function xO(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,oA?function YL(n,e){return`Must supply a value for form control ${bO(n,e)}`}(e,r):"")})}class ZE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ib}get invalid(){return this.status===WE}get pending(){return this.status==Zg}get disabled(){return this.status===Cb}get enabled(){return this.status!==Cb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_O(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_O(e,this._rawAsyncValidators))}hasValidator(e){return HE(this._rawValidators,e)}hasAsyncValidator(e){return HE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cb,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ib,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ib||this.status===Zg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cb:Ib}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zg,this._hasOwnPendingAsyncValidator=!0;const t=aO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Cb:this.errors?WE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zg)?Zg:this._anyControlsHaveStatus(WE)?WE:Ib}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function QL(n){return Array.isArray(n)?eA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function XL(n){return Array.isArray(n)?tA(n):n||null}(this._rawAsyncValidators)}}class Db extends ZE{constructor(e,t,i){super(sA(t),aA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xO(this,!0,e),Object.keys(e).forEach(i=>{wO(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class EO extends Db{}const up=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tb}),Tb="always";function KE(n,e){return[...e.path,n]}function Sb(n,e,t=Tb){lA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function e2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&IO(n,e)})}(n,e),function n2(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function t2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&IO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JL(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function YE(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),XE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function QE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lA(n,e){const t=pO(n);null!==e.validator?n.setValidators(fO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=mO(n);null!==e.asyncValidator?n.setAsyncValidators(fO(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();QE(e._rawValidators,r),QE(e._rawAsyncValidators,r)}function XE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=pO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=mO(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return QE(e._rawValidators,i),QE(e._rawAsyncValidators,i),t}function IO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CO(n,e){lA(n,e)}function uA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function DO(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===cp?t=a:function s2(n){return Object.getPrototypeOf(n.constructor)===lp}(a)?i=a:r=a}),r||i||t||null}const l2={provide:Oo,useExisting:(0,u.Gpc)(()=>dp)},Ab=(()=>Promise.resolve())();let dp=(()=>{class n extends Oo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Db({},eA(t),tA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ab.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ab.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ab.then(()=>{const i=this._findContainer(t.path),r=new Db({});CO(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ab.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ab.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,DO(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(co,10),u.Y36(lh,10),u.Y36(up,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([l2]),u.qOj]}),n})();function TO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mb=class extends ZE{constructor(e=null,t,i){super(sA(t),aA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},d2={provide:ch,useExisting:(0,u.Gpc)(()=>Rb)},RO=(()=>Promise.resolve())();let Rb=(()=>{class n extends ch{constructor(t,i,r,a,c,p){super(),this._changeDetectorRef=c,this.callSetDisabledState=p,this.control=new Mb,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){RO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);RO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?KE(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oo,9),u.Y36(co,10),u.Y36(lh,10),u.Y36(Yl,10),u.Y36(u.sBO,8),u.Y36(up,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([d2]),u.qOj,u.TTD]}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const hA=new u.OlP("NgModelWithFormControlWarning"),_2={provide:Oo,useExisting:(0,u.Gpc)(()=>JE)};let JE=(()=>{class n extends Oo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Sb(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){YE(t.control||null,t,!1),function a2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,DO(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(YE(i||null,t),(n=>n instanceof Mb)(r)&&(Sb(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);CO(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function r2(n,e){return XE(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lA(this.form,this),this._oldForm&&XE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(co,10),u.Y36(lh,10),u.Y36(up,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([_2]),u.qOj,u.TTD]}),n})();const b2={provide:ch,useExisting:(0,u.Gpc)(()=>mA)};let mA=(()=>{class n extends ch{set isDisabled(t){}constructor(t,i,r,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dA(0,a)}ngOnChanges(t){this._added||this._setUpControl(),uA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return KE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Oo,13),u.Y36(co,10),u.Y36(lh,10),u.Y36(Yl,10),u.Y36(hA,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([b2]),u.qOj,u.TTD]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[kO]}),n})();class YO extends ZE{constructor(e,t,i){super(sA(t),aA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xO(this,!1,e),e.forEach((i,r)=>{wO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function QO(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let F2=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return QO(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Db(r,a)}record(t,i=null){const r=this._reduceControls(t);return new EO(r,i)}control(t,i,r){let a={};return this.useNonNullable?(QO(i)?a=i:(a.validators=i,a.asyncValidators=r),new Mb(t,{...a,nonNullable:!0})):new Mb(t,i,r)}array(t,i,r){const a=t.map(c=>this._createControl(c));return new YO(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Mb||t instanceof ZE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:up,useValue:t.callSetDisabledState??Tb}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[KO]}),n})(),L2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:up,useValue:t.callSetDisabledState??Tb}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[KO]}),n})();function V2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(t),u.oxw(3);const r=u.MAs(1);return u.KtG(r.previous())})("click",function(){u.CHM(t),u.oxw(3);const r=u.MAs(1);return u.KtG(r.previous())}),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()}if(2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.previousLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function U2(n,e){if(1&n&&(u.TgZ(0,"span",14),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()),2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.previousLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function B2(n,e){if(1&n&&(u.TgZ(0,"li",9),u.YNc(1,V2,4,2,"a",10),u.YNc(2,U2,4,2,"span",11),u.qZA()),2&n){u.oxw(2);const t=u.MAs(1);u.ekj("disabled",t.isFirstPage()),u.xp6(1),u.Q6J("ngIf",1<t.getCurrent()),u.xp6(1),u.Q6J("ngIf",t.isFirstPage())}}function j2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(t);const r=u.oxw().$implicit;u.oxw(2);const a=u.MAs(1);return u.KtG(a.setCurrent(r.value))})("click",function(){u.CHM(t);const r=u.oxw().$implicit;u.oxw(2);const a=u.MAs(1);return u.KtG(a.setCurrent(r.value))}),u.TgZ(1,"span",13),u._uU(2),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.ALo(5,"number"),u.qZA()()}if(2&n){const t=u.oxw().$implicit,i=u.oxw(2);u.xp6(2),u.hij("",i.screenReaderPageLabel," "),u.xp6(2),u.Oqu("..."===t.label?t.label:u.xi3(5,2,t.label,""))}}function z2(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"span",16)(2,"span",13),u._uU(3),u.qZA(),u.TgZ(4,"span"),u._uU(5),u.ALo(6,"number"),u.qZA()(),u.BQk()),2&n){const t=u.oxw().$implicit,i=u.oxw(2);u.xp6(3),u.hij("",i.screenReaderCurrentLabel," "),u.xp6(2),u.Oqu("..."===t.label?t.label:u.xi3(6,2,t.label,""))}}function $2(n,e){if(1&n&&(u.TgZ(0,"li"),u.YNc(1,j2,6,5,"a",10),u.YNc(2,z2,7,5,"ng-container",15),u.qZA()),2&n){const t=e.$implicit;u.oxw(2);const i=u.MAs(1);u.ekj("current",i.getCurrent()===t.value)("ellipsis","..."===t.label),u.xp6(1),u.Q6J("ngIf",i.getCurrent()!==t.value),u.xp6(1),u.Q6J("ngIf",i.getCurrent()===t.value)}}function H2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(t),u.oxw(3);const r=u.MAs(1);return u.KtG(r.next())})("click",function(){u.CHM(t),u.oxw(3);const r=u.MAs(1);return u.KtG(r.next())}),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()}if(2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.nextLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function G2(n,e){if(1&n&&(u.TgZ(0,"span",14),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()),2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.nextLabel," "),u.xp6(2),u.Oqu(t.screenReaderPageLabel)}}function W2(n,e){if(1&n&&(u.TgZ(0,"li",17),u.YNc(1,H2,4,2,"a",10),u.YNc(2,G2,4,2,"span",11),u.qZA()),2&n){u.oxw(2);const t=u.MAs(1);u.ekj("disabled",t.isLastPage()),u.xp6(1),u.Q6J("ngIf",!t.isLastPage()),u.xp6(1),u.Q6J("ngIf",t.isLastPage())}}function q2(n,e){if(1&n&&(u.TgZ(0,"ul",4),u.YNc(1,B2,3,4,"li",5),u.TgZ(2,"li",6),u._uU(3),u.qZA(),u.YNc(4,$2,3,6,"li",7),u.YNc(5,W2,3,4,"li",8),u.qZA()),2&n){const t=u.oxw(),i=u.MAs(1);u.ekj("responsive",t.responsive),u.xp6(1),u.Q6J("ngIf",t.directionLinks),u.xp6(2),u.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),u.xp6(1),u.Q6J("ngForOf",i.pages)("ngForTrackBy",t.trackByIndex),u.xp6(1),u.Q6J("ngIf",t.directionLinks)}}class vA{constructor(){this.change=new u.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let i in this.instances[e.id])e[i]!==this.instances[e.id][i]&&(this.instances[e.id][i]=e[i],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let i=this.instances[e];t<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}}const Z2=Number.MAX_SAFE_INTEGER;let K2=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,i){if(!(t instanceof Array)){let M=i.id||this.service.defaultId();return this.state[M]?this.state[M].slice:t}let p,_,r=i.totalItems&&i.totalItems!==t.length,a=this.createInstance(t,i),c=a.id,x=a.itemsPerPage,C=this.service.register(a);if(!r&&t instanceof Array){if(x=+x||Z2,p=(a.currentPage-1)*x,_=p+x,this.stateIsIdentical(c,t,p,_))return this.state[c].slice;{let j=t.slice(p,_);return this.saveState(c,t,j,p,_),this.service.change.emit(c),j}}return C&&this.service.change.emit(c),this.saveState(c,t,t,p,_),t}createInstance(t,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||t.length}}checkConfig(t){const r=["itemsPerPage","currentPage"].filter(a=>!(a in t));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(t,i,r,a,c){this.state[t]={collection:i,size:i.length,slice:r,start:a,end:c}}stateIsIdentical(t,i,r,a){let c=this.state[t];return!(!c||c.size!==i.length||c.start!==r||c.end!==a)&&c.slice.every((_,x)=>_===i[r+x])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vA,16))},n.\u0275pipe=u.Yjl({name:"paginate",type:n,pure:!1}),n})(),Y2=(()=>{class n{constructor(t,i){this.service=t,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(t);i!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const i=Math.ceil(t.totalItems/t.itemsPerPage);return i<t.currentPage&&0<i?i:t.currentPage<1?1:t.currentPage}createPageArray(t,i,r,a){a=+a;let c=[];const p=Math.max(Math.ceil(r/i),1),_=Math.ceil(a/2),x=t<=_,C=p-_<t,M=!x&&!C;let j=a<p,q=1;for(;q<=p&&q<=a;){let ee,me=this.calculatePageNumber(q,t,a,p);ee=j&&(2===q&&(M||C)||q===a-1&&(M||x))?"...":me,c.push({label:ee,value:me}),q++}return c}calculatePageNumber(t,i,r,a){let c=Math.ceil(r/2);return t===r?a:1===t?t:r<a?a-c<i?a-r+t:c<i?i-c+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vA),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[u.TTD]}),n})();function bA(n){return!!n&&"false"!==n}let Q2=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=bA(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=bA(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=bA(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,i){if(1&t&&(u.TgZ(0,"pagination-template",0,1),u.NdJ("pageChange",function(a){return i.pageChange.emit(a)})("pageBoundsCorrection",function(a){return i.pageBoundsCorrection.emit(a)}),u.TgZ(2,"nav",2),u.YNc(3,q2,6,8,"ul",3),u.qZA()()),2&t){const r=u.MAs(1);u.Q6J("id",i.id)("maxSize",i.maxSize),u.xp6(2),u.uIk("aria-label",i.screenReaderPaginationLabel),u.xp6(1),u.Q6J("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[Y2,Rr,Fn,fh],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vA],imports:[[Xr]]}),n})(),J2=(()=>{class n{transform(t,i){return i&&t?n.filter(t,i):t}static filter(t,i){const r=i.toLowerCase();function a(c,p){for(let _ in c)if(null!==c[_]&&null!=c[_]&&("object"==typeof c[_]&&a(c[_],p)||c[_].toString().toLowerCase().includes(r)))return!0;return!1}return t.filter(function(c){return a(c,i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function tV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td")(10,"button",29),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.deleteStudent(a))}),u._uU(11,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.first_name),u.xp6(2),u.Oqu(t.last_name),u.xp6(2),u.Oqu(t.email),u.xp6(2),u.Oqu(t.mobile)}}const nV=function(n,e){return{itemsPerPage:n,currentPage:e}};let iV=(()=>{class n{constructor(t,i){this.auth=t,this.data=i,this.p=1,this.intemsPerPage=8,this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",email:"",mobile:""},this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}ngOnInit(){this.getAllStudents(),this.totalStudent=this.data.getAllStudents}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r})},t=>{alert("Error while fetching student data")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}addStudent(){""!=this.first_name&&""!=this.last_name&&""!=this.mobile&&""!=this.email?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.mobile=this.mobile,this.data.addStudent(this.studentObj),this.resetForm()):alert("Fill all input fields")}updateStudent(){}deleteStudent(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ed),u.Y36(Z1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:53,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","mobile","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","mobile"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-md-8","mt-2"],[1,"col-md-4","offset-md-8"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","align-self-center"],[1,"col"],[3,"pageChange"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),u._uU(6,"Add Employee"),u.qZA()(),u.TgZ(7,"div",6)(8,"input",7),u.NdJ("ngModelChange",function(a){return i.first_name=a}),u.qZA(),u.TgZ(9,"label",8),u._uU(10,"First name"),u.qZA()(),u.TgZ(11,"div",6)(12,"input",9),u.NdJ("ngModelChange",function(a){return i.last_name=a}),u.qZA(),u.TgZ(13,"label",10),u._uU(14,"Last name"),u.qZA()(),u.TgZ(15,"div",6)(16,"input",11),u.NdJ("ngModelChange",function(a){return i.email=a}),u.qZA(),u.TgZ(17,"label",12),u._uU(18,"Email address"),u.qZA()(),u.TgZ(19,"div",6)(20,"input",13),u.NdJ("ngModelChange",function(a){return i.mobile=a}),u.qZA(),u.TgZ(21,"label",14),u._uU(22,"Mobile"),u.qZA()(),u.TgZ(23,"button",15),u.NdJ("click",function(){return i.addStudent()}),u._uU(24,"Add Employee"),u.qZA()()(),u.TgZ(25,"div",16)(26,"div",17)(27,"form",18)(28,"input",19),u.NdJ("ngModelChange",function(a){return i.searchText=a}),u.qZA()()(),u.TgZ(29,"h5",20),u._uU(30," Employee List"),u.qZA(),u.TgZ(31,"div",21)(32,"div",22)(33,"table",23)(34,"thead")(35,"tr")(36,"th",24),u._uU(37,"First name"),u.qZA(),u.TgZ(38,"th",24),u._uU(39,"Last name"),u.qZA(),u.TgZ(40,"th",24),u._uU(41,"Email"),u.qZA(),u.TgZ(42,"th",24),u._uU(43,"Mobile"),u.qZA(),u.TgZ(44,"th",24),u._uU(45,"Action"),u.qZA()()(),u.TgZ(46,"tbody"),u.YNc(47,tV,12,4,"tr",25),u.ALo(48,"paginate"),u.ALo(49,"filter"),u.qZA()()()()()()(),u.TgZ(50,"div",26)(51,"div",27)(52,"pagination-controls",28),u.NdJ("pageChange",function(a){return i.p=a}),u.qZA()()()),2&t&&(u.xp6(8),u.Q6J("ngModel",i.first_name),u.xp6(4),u.Q6J("ngModel",i.last_name),u.xp6(4),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.mobile),u.xp6(8),u.Q6J("ngModel",i.searchText),u.xp6(19),u.Q6J("ngForOf",u.xi3(48,6,u.xi3(49,9,i.studentsList,i.searchText),u.WLB(12,nV,i.intemsPerPage,i.p))))},dependencies:[Kg,cp,Eb,qg,Q2,Fn,Rb,dp,J2,K2],styles:["i[_ngcontent-%COMP%]{position:absolute;padding-top:10px;margin-left:50%}.ngx-pagination[_ngcontent-%COMP%]{margin-left:100px;margin-bottom:1rem;padding-left:200px}"]}),n})();class rV{constructor(e){this.id="",this.name="",this.size=0,this.url="",this.file=e}}function XO(n,e=Id.z){return(0,bn.e)((t,i)=>{let r=null,a=null,c=null;const p=()=>{if(r){r.unsubscribe(),r=null;const x=a;a=null,i.next(x)}};function _(){const x=c+n,C=e.now();if(C<x)return r=this.schedule(void 0,x-C),void i.add(r);p()}t.subscribe((0,U.x)(i,x=>{a=x,c=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{a=r=null}))})}const JO="firebasestorage.googleapis.com",ek="storageBucket";class bi extends Ht.ZR{constructor(e,t,i=0){super(wA(e),`Firebase Storage: ${t} (${wA(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Yn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Yn||(Yn={})),Yn))();function wA(n){return"storage/"+n}function xA(){return new bi(Yn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tk(){return new bi(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nk(){return new bi(Yn.CANCELED,"User canceled the upload/download.")}function ik(){return new bi(Yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Yg(n){return new bi(Yn.INVALID_ARGUMENT,n)}function rk(){return new bi(Yn.APP_DELETED,"The Firebase app was deleted.")}function ok(n){return new bi(Yn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ob(n,e){return new bi(Yn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function kb(n){throw new bi(Yn.INTERNAL_ERROR,"Internal error: "+n)}class uo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=uo.makeFromUrl(e,t)}catch{return new uo(e,"")}if(""===i.path)return i;throw function pV(n){return new bi(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+r+"(/(.*))?$","i");function x(Ct){Ct.path_=decodeURIComponent(Ct.path)}const M=t.replace(/[.]/g,"\\."),ht=[{regex:p,indices:{bucket:1,path:3},postModify:function a(Ct){"/"===Ct.path.charAt(Ct.path.length-1)&&(Ct.path_=Ct.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${t===JO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Ct=0;Ct<ht.length;Ct++){const Kt=ht[Ct],sn=Kt.regex.exec(e);if(sn){let Xo=sn[Kt.indices.path];Xo||(Xo=""),i=new uo(sn[Kt.indices.bucket],Xo),Kt.postModify(i);break}}if(null==i)throw function fV(n){return new bi(Yn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class vV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eI(n){return"string"==typeof n||n instanceof String}function sk(n){return EA()&&n instanceof Blob}function EA(){return typeof Blob<"u"&&!(0,Ht.UG)()}function IA(n,e,t,i){if(i<e)throw Yg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Yg(`Invalid value for '${n}'. Expected ${t} or less.`)}function Pu(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function ak(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var uh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(uh||(uh={})),uh))();function lk(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||r||a}class CV{constructor(e,t,i,r,a,c,p,_,x,C,M,j=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=_,this.timeout_=x,this.progressCallback_=C,this.connectionFactory_=M,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,ee)=>{this.resolve_=q,this.reject_=ee,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,c=this.reject_,p=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());!function xV(n){return void 0!==n}(_)?a():a(_)}catch(_){c(_)}else if(null!==p){const _=xA();_.serverResponse=p.getErrorText(),c(this.errorCallback_?this.errorCallback_(p,_):_)}else c(r.canceled?this.appDelete_?rk():nk():tk())};this.canceled_?t(0,new tI(!1,null,!0)):this.backoffId_=function bV(n,e,t){let i=1,r=null,a=null,c=!1,p=0;function _(){return 2===p}let x=!1;function C(...xe){x||(x=!0,e.apply(null,xe))}function M(xe){r=setTimeout(()=>{r=null,n(q,_())},xe)}function j(){a&&clearTimeout(a)}function q(xe,...mt){if(x)return void j();if(xe)return j(),void C.call(null,xe,...mt);if(_()||c)return j(),void C.call(null,xe,...mt);let ht;i<64&&(i*=2),1===p?(p=2,ht=0):ht=1e3*(i+Math.random()),M(ht)}let ee=!1;function me(xe){ee||(ee=!0,j(),!x&&(null!==r?(xe||(p=2),clearTimeout(r),M(0)):xe||(p=1)))}return M(0),a=setTimeout(()=>{c=!0,me(!0)},t),me}((i,r)=>{if(r)return void i(!1,new tI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const p=a.getErrorCode()===uh.NO_ERROR,_=a.getStatus();if(!p||lk(_,this.additionalRetryCodes_)&&this.retry){const C=a.getErrorCode()===uh.ABORT;return void i(!1,new tI(!1,null,C))}const x=-1!==this.successCodes_.indexOf(_);i(!0,new tI(x,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function wV(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tI{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function OV(...n){const e=function RV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(EA())return new Blob(n);throw new bi(Yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const _s={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CA{constructor(e,t){this.data=e,this.contentType=t||null}}function DA(n,e){switch(n){case _s.RAW:return new CA(ck(e));case _s.BASE64:case _s.BASE64URL:return new CA(uk(n,e));case _s.DATA_URL:return new CA(function NV(n){const e=new dk(n);return e.base64?uk(_s.BASE64,e.rest):function FV(n){let e;try{e=decodeURIComponent(n)}catch{throw Ob(_s.DATA_URL,"Malformed data URL.")}return ck(e)}(e.rest)}(e),function LV(n){return new dk(n).contentType}(e))}throw xA()}function ck(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function uk(n,e){switch(n){case _s.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw Ob(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case _s.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw Ob(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function PV(n){if(typeof atob>"u")throw function yV(n){return new bi(Yn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Ob(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class dk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ob(_s.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function VV(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ql{constructor(e,t){let i=0,r="";sk(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(sk(this.data_)){const r=function kV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ql(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ql(i,!0)}}static getBlob(...e){if(EA()){const t=e.map(i=>i instanceof Ql?i.data_:i);return new Ql(OV.apply(null,t))}{const t=e.map(c=>eI(c)?DA(_s.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let p=0;p<c.length;p++)r[a++]=c[p]}),new Ql(r,!0)}}uploadData(){return this.data_}}function TA(n){let e;try{e=JSON.parse(n)}catch{return null}return function IV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function hk(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function jV(n,e){return e}class ko{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||jV}}let nI=null;function Pb(){if(nI)return nI;const n=[];n.push(new ko("bucket")),n.push(new ko("generation")),n.push(new ko("metageneration")),n.push(new ko("name","fullPath",!0));const t=new ko("name");t.xform=function e(a,c){return function zV(n){return!eI(n)||n.length<2?n:hk(n)}(c)},n.push(t);const r=new ko("size");return r.xform=function i(a,c){return void 0!==c?Number(c):c},n.push(r),n.push(new ko("timeCreated")),n.push(new ko("updated")),n.push(new ko("md5Hash",null,!0)),n.push(new ko("cacheControl",null,!0)),n.push(new ko("contentDisposition",null,!0)),n.push(new ko("contentEncoding",null,!0)),n.push(new ko("contentLanguage",null,!0)),n.push(new ko("contentType",null,!0)),n.push(new ko("metadata","customMetadata",!0)),nI=n,nI}function fk(n,e,t){const i=TA(e);return null===i?null:function HV(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return function $V(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new uo(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function SA(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const pk="prefixes",mk="items";class Xl{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jl(n){if(!n)throw xA()}function iI(n,e){return function t(i,r){const a=fk(n,r,e);return Jl(null!==a),a}}function Qg(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function dV(){return new bi(Yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function uV(){return new bi(Yn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function cV(n){return new bi(Yn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function hV(n){return new bi(Yn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function Fb(n){const e=Qg(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function lV(n){return new bi(Yn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function gk(n,e,t){const r=Pu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Xl(r,"GET",iI(n,t),c);return p.errorHandler=Fb(e),p}function YV(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const p=Pu(e.bucketOnlyServerUrl(),n.host,n._protocol),x=n.maxOperationRetryTime,C=new Xl(p,"GET",function ZV(n,e){return function t(i,r){const a=function qV(n,e,t){const i=TA(t);return null===i?null:function WV(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pk])for(const r of t[pk]){const a=r.replace(/\/$/,""),c=n._makeStorageReference(new uo(e,a));i.prefixes.push(c)}if(t[mk])for(const r of t[mk]){const a=n._makeStorageReference(new uo(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Jl(null!==a),a}}(n,e.bucket),x);return C.urlParams=a,C.errorHandler=Qg(e),C}function yk(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function eU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class rI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function AA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Jl(!1)}return Jl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const rU={STATE_CHANGED:"state_changed"},Po={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MA(n){switch(n){case"running":case"pausing":case"canceling":return Po.RUNNING;case"paused":return Po.PAUSED;case"success":return Po.SUCCESS;case"canceled":return Po.CANCELED;default:return Po.ERROR}}class oU{constructor(e,t,i){if(function EV(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Xg(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let wk=null;class sU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw kb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class aU extends sU{initXhr(){this.xhr_.responseType="text"}}function el(){return wk?wk():new aU}class xk{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Pb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Yn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(lk(r.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=tk()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Yn.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function tU(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),c=yk(e,i,r),p={name:c.fullPath},_=Pu(a,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},M=SA(c,t),ee=new Xl(_,"POST",function q(me){let xe;AA(me);try{xe=me.getResponseHeader("X-Goog-Upload-URL")}catch{Jl(!1)}return Jl(eI(xe)),xe},n.maxUploadRetryTime);return ee.urlParams=p,ee.headers=C,ee.body=M,ee.errorHandler=Qg(e),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,el,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function nU(n,e,t,i){const _=new Xl(t,"POST",function a(x){const C=AA(x,["active","final"]);let M=null;try{M=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Jl(!1)}M||Jl(!1);const j=Number(M);return Jl(!isNaN(j)),new rI(j,i.size(),"final"===C)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Qg(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,el,t,i);this._request=a,a.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new rI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let c;try{c=function iU(n,e,t,i,r,a,c,p){const _=new rI(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function gV(){return new bi(Yn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const x=_.total-_.current;let C=x;r>0&&(C=Math.min(C,r));const M=_.current;let q="";q=0===C?"finalize":x===C?"upload, finalize":"upload";const ee={"X-Goog-Upload-Command":q,"X-Goog-Upload-Offset":`${_.current}`},me=i.slice(M,M+C);if(null===me)throw ik();const ht=new Xl(t,"POST",function xe(Ct,Kt){const sn=AA(Ct,["active","final"]),gr=_.current+C,Xo=i.size();let YA;return YA="final"===sn?iI(e,a)(Ct,Kt):null,new rI(gr,Xo,"final"===sn,YA)},e.maxUploadRetryTime);return ht.headers=ee,ht.body=me.uploadData(),ht.progressCallback=p||null,ht.errorHandler=Qg(n),ht}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const p=this._ref.storage._makeRequest(c,el,r,a,!1);this._request=p,p.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=gk(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,el,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function vk(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function p(){let ht="";for(let Ct=0;Ct<2;Ct++)ht+=Math.random().toString().slice(2);return ht}();c["Content-Type"]="multipart/related; boundary="+_;const x=yk(e,i,r),C=SA(x,t),q=Ql.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+_+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===q)throw ik();const ee={name:x.fullPath},me=Pu(a,n.host,n._protocol),mt=n.maxUploadRetryTime,Rt=new Xl(me,"POST",iI(n,t),mt);return Rt.urlParams=ee,Rt.headers=c,Rt.body=q.uploadData(),Rt.errorHandler=Qg(e),Rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,el,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nk(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=MA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new oU(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(MA(this._state)){case Po.SUCCESS:Xg(this._resolve.bind(null,this.snapshot))();break;case Po.CANCELED:case Po.ERROR:Xg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(MA(this._state)){case Po.RUNNING:case Po.PAUSED:e.next&&Xg(e.next.bind(e,this.snapshot))();break;case Po.SUCCESS:e.complete&&Xg(e.complete.bind(e))();break;default:e.error&&Xg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class fp{constructor(e,t){this._service=e,this._location=t instanceof uo?t:uo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fp(e,t)}get root(){const e=new uo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hk(this._location.path)}get storage(){return this._service}get parent(){const e=function UV(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new uo(this._location.bucket,e);return new fp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw ok(e)}}function Ik(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,_e.Z)(function*(n,e,t){const r=yield Ck(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Ik(n,e,r.nextPageToken))}),RA.apply(this,arguments)}function Ck(n,e){null!=e&&"number"==typeof e.maxResults&&IA("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=YV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,el)}function vU(n){n._throwIfRoot("getDownloadURL");const e=function QV(n,e,t){const r=Pu(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Xl(r,"GET",function KV(n,e){return function t(i,r){const a=fk(n,r,e);return Jl(null!==a),function GV(n,e,t,i){const r=TA(e);if(null===r||!eI(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(x=>{const M=n.fullPath;return Pu("/b/"+c(n.bucket)+"/o/"+c(M),t,i)+ak({alt:"media",token:x})})[0]}(a,r,n.host,n._protocol)}}(n,t),c);return p.errorHandler=Fb(e),p}(n.storage,n._location,Pb());return n.storage.makeRequestWithTokens(e,el).then(t=>{if(null===t)throw function _V(){return new bi(Yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Dk(n,e){const t=function BV(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new uo(n._location.bucket,t);return new fp(n.storage,i)}function Tk(n,e){if(n instanceof OA){const t=n;if(null==t._bucket)throw function mV(){return new bi(Yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ek+"' property when initializing the app?")}();const i=new fp(t,t._bucket);return null!=e?Tk(i,e):i}return void 0!==e?Dk(n,e):n}function EU(n,e){if(e&&function wU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof OA)return function xU(n,e){return new fp(n,e)}(n,e);throw Yg("To use ref(service, url), the first argument must be a Storage instance.")}return Tk(n,e)}function Sk(n,e){const t=e?.[ek];return null==t?null:uo.makeFromBucketSpec(t,n)}class OA{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=JO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?uo.makeFromBucketSpec(r,this._host):Sk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?uo.makeFromBucketSpec(this._url,e):Sk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fp(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new vV(rk());{const c=function MV(n,e,t,i,r,a,c=!0){const p=ak(n.urlParams),_=n.url+p,x=Object.assign({},n.headers);return function SV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(x,e),function DV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(x,t),function TV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(x,a),function AV(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(x,i),new CV(_,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,_e.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const Ak="@firebase/storage";function Ok(n,e){return EU(n=(0,Ht.m9)(n),e)}function kU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new OA(t,i,r,e,ur.SDK_VERSION)}!function PU(){(0,ur._registerComponent)(new Ua.wA("storage",kU,"PUBLIC").setMultipleInstances(!0)),(0,ur.registerVersion)(Ak,"0.11.2",""),(0,ur.registerVersion)(Ak,"0.11.2","esm2017")}();class oI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Pk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new oI(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?c=>t(new oI(c,this,this._ref)):{next:t.next?c=>t.next(new oI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class Fk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Fu(e,this._service))}get items(){return this._delegate.items.map(e=>new Fu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function OU(n,e){return Dk(n,e)}(this._delegate,e);return new Fu(t,this.storage)}get root(){return new Fu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Fu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Pk(function CU(n,e,t){return function pU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new xk(n,new Ql(e),t)}(n=(0,Ht.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=_s.RAW,i){this._throwIfRoot("putString");const r=DA(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new Pk(new xk(this._delegate,new Ql(r.data,!0),a),this)}listAll(){return function AU(n){return function gU(n){const e={prefixes:[],items:[]};return Ik(n,e).then(()=>e)}(n=(0,Ht.m9)(n))}(this._delegate).then(e=>new Fk(e,this.storage))}list(e){return function SU(n,e){return Ck(n=(0,Ht.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Fk(t,this.storage))}getMetadata(){return function DU(n){return function _U(n){n._throwIfRoot("getMetadata");const e=gk(n.storage,n._location,Pb());return n.storage.makeRequestWithTokens(e,el)}(n=(0,Ht.m9)(n))}(this._delegate)}updateMetadata(e){return function TU(n,e){return function yU(n,e){n._throwIfRoot("updateMetadata");const t=function XV(n,e,t,i){const a=Pu(e.fullServerUrl(),n.host,n._protocol),p=SA(t,i),x=n.maxOperationRetryTime,C=new Xl(a,"PATCH",iI(n,i),x);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=p,C.errorHandler=Fb(e),C}(n.storage,n._location,e,Pb());return n.storage.makeRequestWithTokens(t,el)}(n=(0,Ht.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function MU(n){return vU(n=(0,Ht.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function RU(n){return function bU(n){n._throwIfRoot("deleteObject");const e=function JV(n,e){const i=Pu(e.fullServerUrl(),n.host,n._protocol),p=new Xl(i,"DELETE",function c(_,x){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=Fb(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,el)}(n=(0,Ht.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw ok(e)}}class Nk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Lk(e))throw Yg("ref() expected a child path but got a URL, use refFromURL instead.");return new Fu(Ok(this._delegate,e),this)}refFromURL(e){if(!Lk(e))throw Yg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{uo.makeFromUrl(e,this._delegate.host)}catch{throw Yg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fu(Ok(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function kk(n,e,t,i={}){!function IU(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Ht.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Lk(n){return/^[A-Za-z]+:\/\//.test(n)}function VU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Nk(t,i)}function Vk(n){const e=function BU(n){return new Ti.y(e=>{const t=c=>e.next(c);t(n.snapshot);const a=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){a()}}).pipe(XO(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function sI(n){return{getDownloadURL:()=>at(void 0).pipe(un.fc,yi(()=>n.getDownloadURL()),un.iC),getMetadata:()=>at(void 0).pipe(un.fc,yi(()=>n.getMetadata()),un.iC),delete:()=>(0,zt.D)(n.delete()),child:e=>sI(n.child(e)),updateMetadata:e=>(0,zt.D)(n.updateMetadata(e)),put:(e,t)=>Vk(n.put(e,t)),putString:(e,t,i)=>Vk(n.putString(e,t,i)),list:e=>(0,zt.D)(n.list(e)),listAll:()=>(0,zt.D)(n.listAll())}}!function UU(n){const e={TaskState:Po,TaskEvent:rU,StringFormat:_s,Storage:Nk,Reference:Fu};n.INTERNAL.registerComponent(new Ua.wA("storage-compat",VU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(My.Z);const jU=new u.OlP("angularfire2.storageBucket"),zU=new u.OlP("angularfire2.storage.maxUploadRetryTime"),$U=new u.OlP("angularfire2.storage.maxOperationRetryTime"),HU=new u.OlP("angularfire2.storage.use-emulator");let Uk=(()=>{class n{constructor(t,i,r,a,c,p,_,x,C,M){const j=(0,Vr.on)(t,c,i);this.storage=(0,Vr.cc)(`${j.name}.storage.${r}`,"AngularFireStorage",j.name,()=>{const q=c.runOutsideAngular(()=>j.storage(r||void 0)),ee=C;return ee&&q.useEmulator(...ee),_&&q.setMaxUploadRetryTime(_),x&&q.setMaxOperationRetryTime(x),q},[_,x])}ref(t){return sI(this.storage.ref(t))}refFromURL(t){return sI(this.storage.refFromURL(t))}upload(t,i,r){return sI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vr.Dh),u.LFG(Vr.xv,8),u.LFG(jU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(un.HU),u.LFG(zU,8),u.LFG($U,8),u.LFG(HU,8),u.LFG(cu,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GU=(()=>{class n{constructor(t,i){this.fireStore=t,this.fireStorage=i}saveMetaDataOfFile(t){const i={id:"",name:t.name,url:t.url,size:t.size};i.id=this.fireStore.createId(),this.fireStore.collection("/Upload").add(i)}getAllFiles(){return this.fireStore.collection("/Upload").snapshotChanges()}deleteFile(t){this.fireStore.collection("/Upload").doc(t.id).delete(),this.fireStorage.ref("/Uploads/"+t.name).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(q1),u.LFG(Uk))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",15)(1,"h5"),u._uU(2,"Preview"),u.qZA(),u._UZ(3,"video",16)(4,"br"),u.TgZ(5,"button",17),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.uploadFile())}),u._uU(6,"Upload"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("src",t.fileUrl,u.LSH),u.xp6(2),u.Q6J("hidden",!t.selectedFiles)}}function qU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"th"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td")(6,"a",18),u._uU(7,"Download"),u.qZA(),u.TgZ(8,"a",19),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.deleteFile(a))}),u._uU(9,"Delete"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name),u.xp6(2),u.Oqu(t.size),u.xp6(2),u.s9C("href",t.url,u.LSH)}}const ZU=function(n){return{width:n}};let KU=(()=>{class n{constructor(t,i,r){this.fileService=t,this.fireStorage=i,this.dataService=r,this.percentage=0,this.listOfFiles=[],this.preview=!1,this.file=null,this.fileUrl=null}ngOnInit(){this.getAllFiles()}selectFile(t){if(this.preview=!0,this.selectedFiles=t.target.files,"video/mp4"===this.file?.type?alert("The file is an MP4 file"):alert("The file is not an MP4 file"),this.file=t.target.files[0],this.file){const i=new FileReader;i.onload=r=>{this.fileUrl=r.target.result},i.readAsDataURL(this.file)}}uploadFile(){this.preview=!1,this.currentFileUpload=new rV(this.selectedFiles[0]);const i=this.fireStorage.ref("Uploads/"+this.currentFileUpload.file.name);i.put(this.selectedFiles[0]).snapshotChanges().pipe(Uc(()=>{i.getDownloadURL().subscribe(a=>{this.currentFileUpload.id="",this.currentFileUpload.url=a,this.currentFileUpload.size=this.currentFileUpload.file.size,this.currentFileUpload.name=this.currentFileUpload.file.name,this.fileService.saveMetaDataOfFile(this.currentFileUpload)}),this.ngOnInit()})).subscribe(a=>{this.percentage=100*a.bytesTransferred/a.totalBytes},a=>{console.log("Error occured")})}getAllFiles(){this.fileService.getAllFiles().subscribe(t=>{this.listOfFiles=t.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r})},t=>{console.log("Error occured while fetching file meta data")})}deleteFile(t){window.confirm("Are you sure you want to delete "+t.name+"?")&&(this.fileService.deleteFile(t),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(GU),u.Y36(Uk),u.Y36(Z1))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fileupload"]],decls:28,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","mt-5"],[1,"card","border-0","shadow"],[1,"card-body"],["type","file","id","fUpload",1,"text-nowrap","text-truncate","file",3,"change"],["class","card","style","width: 25rem ;",4,"ngIf"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"col-md-8"],[1,"mb-3","mt-3"],[1,"text-primary"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card",2,"width","25rem"],["width","399","height","400","controls","",3,"src"],["type","button",1,"btn","btn-outline-warning",3,"hidden","click"],["type","button","download","",1,"btn","btn-outline-info",3,"href"],["type","button",1,"btn","btn-outline-danger","ms-2",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"input",5),u.NdJ("change",function(a){return i.selectFile(a)}),u.qZA(),u._UZ(7,"br")(8,"br"),u.YNc(9,WU,7,2,"div",6),u.qZA(),u.TgZ(10,"div",7)(11,"div",8),u._uU(12),u.qZA()()()()(),u.TgZ(13,"div",9)(14,"div",10)(15,"h4",11),u._uU(16,"File list"),u.qZA()(),u.TgZ(17,"table",12)(18,"thead")(19,"tr")(20,"th",13),u._uU(21,"File name"),u.qZA(),u.TgZ(22,"th",13),u._uU(23,"File size"),u.qZA(),u.TgZ(24,"th",13),u._uU(25,"Action"),u.qZA()()(),u.TgZ(26,"tbody"),u.YNc(27,qU,10,3,"tr",14),u.qZA()()()()()),2&t&&(u.xp6(9),u.Q6J("ngIf",i.preview),u.xp6(2),u.Q6J("ngStyle",u.VKq(5,ZU,i.percentage+"%")),u.uIk("aria-valuenow",i.percentage),u.xp6(1),u.hij(" ",i.percentage,"% "),u.xp6(15),u.Q6J("ngForOf",i.listOfFiles))},dependencies:[Fn,Rr,Jn],styles:["button[_ngcontent-%COMP%]{float:right}"]}),n})(),YU=(()=>{class n{constructor(t){this.auth=t,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ed))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"Forgot password"),u.qZA()(),u.TgZ(10,"div",6)(11,"label",8),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(a){return i.email=a}),u.qZA()(),u.TgZ(14,"button",10),u.NdJ("click",function(){return i.forgotPassword()}),u._uU(15,"Send Link"),u.qZA(),u.TgZ(16,"div",11)(17,"div",12)(18,"a",13),u._uU(19,"Back to "),u.TgZ(20,"span",14),u._uU(21,"Login"),u.qZA()()()()()()()(),u._UZ(22,"div",2),u.qZA()()),2&t&&(u.xp6(13),u.Q6J("ngModel",i.email))},dependencies:[Kg,cp,Eb,qg,Rb,dp]}),n})(),QU=(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ed))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:2,consts:[[1,"back",2,"background-image","url('https://img.freepik.com/premium-vector/circuit-technology-background-with-hi-tech-digital-data-connection-system-computer-electronic-desing_29971-648.jpg?w=900')","height","36em"],[1,"container"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/register",2,"text-decoration","none"],[1,"text-danger"],["href","/forgot-password",1,"text-dark",2,"text-decoration","none"],[1,"row","mt-2"],[2,"color","blue","cursor","pointer",3,"click"],[1,"card","shadow","text-center"],["src","/assets/download.jpg","alt","chrome","height","24px","width","24px"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"form")(8,"div",7)(9,"h4",8),u._uU(10,"Login"),u.qZA()(),u.TgZ(11,"div",7)(12,"label",9),u._uU(13,"Email"),u.qZA(),u.TgZ(14,"input",10),u.NdJ("ngModelChange",function(a){return i.email=a}),u.qZA()(),u.TgZ(15,"div",7)(16,"label",11),u._uU(17,"Password"),u.qZA(),u.TgZ(18,"input",12),u.NdJ("ngModelChange",function(a){return i.password=a}),u.qZA()(),u.TgZ(19,"button",13),u.NdJ("click",function(){return i.login()}),u._uU(20,"Login"),u.qZA(),u.TgZ(21,"div",14)(22,"div",15)(23,"a",16),u._uU(24,"Need Account ? "),u.TgZ(25,"span",17),u._uU(26,"Register"),u.qZA()()(),u.TgZ(27,"div",15)(28,"a",18),u._uU(29," Forgot Password ? "),u.qZA()()(),u.TgZ(30,"div",19)(31,"a",20),u.NdJ("click",function(){return i.signInWithGoogle()}),u.TgZ(32,"div",21)(33,"div",6),u._UZ(34,"img",22),u._uU(35," Sign In with Google "),u.qZA()()()()()()()(),u._UZ(36,"div",3),u.qZA()()()),2&t&&(u.xp6(14),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.password))},dependencies:[Kg,cp,Eb,qg,Rb,dp],styles:[".back[_ngcontent-%COMP%]{position:relative;margin-top:0%;padding-top:10px}"]}),n})();function XU(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Email Address is required "),u.qZA())}function JU(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Email Address is not Valid "),u.qZA())}function eB(n,e){if(1&n&&(u.TgZ(0,"div",20),u.YNc(1,XU,2,0,"div",22),u.YNc(2,JU,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.submitted&&t.registerForm.controls.email.errors.required),u.xp6(1),u.Q6J("ngIf",t.submitted&&t.registerForm.controls.email.errors.email)}}function tB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Password is required "),u.qZA())}function nB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1," Password should be atleast 6 characters "),u.qZA())}function iB(n,e){if(1&n&&(u.TgZ(0,"div",20),u.YNc(1,tB,2,0,"div",22),u.YNc(2,nB,2,0,"div",22),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.submitted&&t.registerForm.controls.password.errors.required),u.xp6(1),u.Q6J("ngIf",t.submitted&&t.registerForm.controls.password.errors.minlength)}}const Bk=function(n){return{"is-invalid":n}},rB=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:QU},{path:"dashboard",component:iV},{path:"home",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:19,vars:0,consts:[["id","v-controls","playsInline","playsInline","autoplay","autoplay","muted","muted","loop","loop",1,"back"],["src","/assets/back.mp4","type","video/mp4"],["id","carouselExampleSlidesOnly","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"carousel-item"]],template:function(t,i){1&t&&(u.TgZ(0,"video",0),u._UZ(1,"source",1),u.qZA(),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),u._uU(6,"Bezohminds"),u.qZA(),u.TgZ(7,"p"),u._uU(8,"Bezohminds is a forward thinking software services company that combines the best of science, design, and value. Our team is a dedicated and committed team of highly skilled and marketable software development professionals that has chosen to stop traveling and enjoy the benefits offered at Bezohminds"),u.qZA()(),u.TgZ(9,"div",5)(10,"h1"),u._uU(11,"Our Services"),u.qZA(),u.TgZ(12,"p"),u._uU(13,"Bezohminds is an eCommerce software technology company made possible by our highly sought after, highly skilled and highly experienced eCommerce web developers."),u.qZA()(),u.TgZ(14,"div",5)(15,"h1"),u._uU(16,"We are Ready to Go "),u.qZA(),u.TgZ(17,"p"),u._uU(18,"The best software solutions are built to satisfy the needs of the business stakeholders. Bezohminds will invest the time to understand client needs. Our proven methodology leverages our CST (Customer Satisfaction Triangle) Methodology comprised of the User Experience (UX), User Stories, and the Solution Architecture."),u.qZA()()()())},styles:["video[_ngcontent-%COMP%]{position:fixed;top:10%;right:0;bottom:0;min-width:100%;min-height:100%}h1[_ngcontent-%COMP%]{color:#fff;align-content:center;text-align:center;margin-top:20%;font-size:500%}p[_ngcontent-%COMP%]{color:#fff;margin-left:21%;margin-right:19%;text-align:justify}.back[_ngcontent-%COMP%]{z-index:-100}"]}),n})()},{path:"register",component:(()=>{class n{constructor(t,i){this.formBuilder=t,this.auth=i,this.email1="",this.password1="",this.submitted=!1}ngOnInit(){this.registerForm=this.formBuilder.group({email:["",[zE.required,zE.email]],password:["",[zE.required,zE.minLength(6)]]})}onSubmit(){this.submitted=!0,!this.registerForm.invalid&&(alert("Success"),console.log(this.registerForm.value.email),console.log(this.registerForm.value.password),this.auth.register(this.email1,this.password1),this.email1="",this.password1="")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(F2),u.Y36(Ed))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:11,consts:[[1,"back",2,"background-image","url('https://img.freepik.com/premium-vector/circuit-board-technology-background-with-hi-tech-digital-data-connection-system-computer-electronic_29971-475.jpg?w=740')","height","36em"],[1,"container"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[3,"formGroup","submit"],[1,"mb-3"],[1,"text-dark","text-muted"],[1,"form-group"],["for","email"],["formControlName","email","type","email",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["for","password"],["formControlName","password","type","password",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"btn","btn-warning","btn-block"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"],[1,"bg-image",2,"background-image","url('https://img.freepik.com/premium-vector/circuit-board-technology-background-with-hi-tech-digital-data-connection-system-computer-electronic_29971-475.jpg?w=740')"],[4,"ngIf"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7),u.NdJ("submit",function(){return i.onSubmit()}),u.TgZ(8,"div",8)(9,"h4",9),u._uU(10,"Register"),u.qZA()(),u.TgZ(11,"div",8)(12,"div",10)(13,"label",11),u._uU(14,"Email Address"),u.qZA(),u.TgZ(15,"input",12),u.NdJ("ngModelChange",function(a){return i.email1=a}),u.qZA(),u.YNc(16,eB,3,2,"div",13),u.qZA()(),u.TgZ(17,"div",8)(18,"div",10)(19,"label",14),u._uU(20,"Password"),u.qZA(),u.TgZ(21,"input",15),u.NdJ("ngModelChange",function(a){return i.password1=a}),u.qZA(),u.YNc(22,iB,3,2,"div",13),u.qZA()(),u.TgZ(23,"div",10)(24,"button",16),u._uU(25,"Register"),u.qZA()(),u.TgZ(26,"div",17)(27,"div",18)(28,"a",19),u._uU(29,"Have an account ? "),u.TgZ(30,"span",20),u._uU(31,"Login"),u.qZA()()()(),u._UZ(32,"div",21),u.qZA()()()(),u._UZ(33,"div",3),u.qZA()()()),2&t&&(u.xp6(7),u.Q6J("formGroup",i.registerForm),u.xp6(8),u.Q6J("ngClass",u.VKq(7,Bk,i.submitted&&i.registerForm.controls.email.errors))("ngModel",i.email1),u.xp6(1),u.Q6J("ngIf",i.submitted&&i.registerForm.controls.email.errors),u.xp6(5),u.Q6J("ngClass",u.VKq(9,Bk,i.submitted&&i.registerForm.controls.password.errors))("ngModel",i.password1),u.xp6(1),u.Q6J("ngIf",i.submitted&&i.registerForm.controls.password.errors))},dependencies:[Kg,cp,Eb,qg,JE,mA,Je,Rr],styles:[".back[_ngcontent-%COMP%]{position:relative;margin-top:0%;padding-top:10px}"]}),n})()},{path:"varify-email",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-varify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"Welcome"),u.qZA()(),u.TgZ(10,"div",6)(11,"p",8),u._uU(12,"Link has sent on your registered email. Please varify it."),u.qZA()()()()()(),u._UZ(13,"div",2),u.qZA()())},dependencies:[Kg,qg,dp]}),n})()},{path:"forgot-password",component:YU},{path:"fileupload",component:KU}];let oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[j0.forRoot(rB),j0]}),n})(),sB=(()=>{class n{constructor(){this.title="firebase"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:40,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand",2,"color","red"],[1,"fa","fa-sharp","fa-solid","fa-heart","fa-fadeIn"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/home","routerLinkActive","active",1,"nav-link","active"],[1,"fa","fa-home"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-dashboard"],["routerLink","/fileupload","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-address-card"],[1,"d-flex","list-unstyled"],["routerLink","/login",1,"nav-link"],[1,"fa","fa-user"],["routerLink","/register",1,"nav-link"],[1,"fa","fa-sign-in"],["href","https://twitter.com",1,"nav-link"],[1,"fa","fa-twitter"],["href","https://facebook.com",1,"nav-link"],[1,"fa","fa-facebook"],["href","https://github.com",1,"nav-link"],[1,"fa","fa-github"]],template:function(t,i){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"i",3),u._uU(4,"Bezohminds"),u.qZA(),u.TgZ(5,"button",4),u._UZ(6,"span",5),u.qZA(),u.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),u._UZ(11,"i",10),u._uU(12," Home"),u.qZA()(),u.TgZ(13,"li",8)(14,"a",11),u._UZ(15,"i",12),u._uU(16," Dashboard"),u.qZA()(),u.TgZ(17,"li",8)(18,"a",13),u._UZ(19,"i",14),u._uU(20," File Upload"),u.qZA()()(),u.TgZ(21,"ul",15)(22,"li",8)(23,"a",16),u._UZ(24,"span",17),u._uU(25," Login"),u.qZA()(),u.TgZ(26,"li",8)(27,"a",18),u._UZ(28,"span",19),u._uU(29," Register"),u.qZA()(),u.TgZ(30,"li",8)(31,"a",20),u._UZ(32,"span",21),u.qZA()(),u.TgZ(33,"li",8)(34,"a",22),u._UZ(35,"span",23),u.qZA()(),u.TgZ(36,"li",8)(37,"a",24),u._UZ(38,"span",25),u.qZA()()()()()(),u._UZ(39,"router-outlet"))},dependencies:[$p,em,N0]}),n})();const kA={production:!1,firebase:{apiKey:"AIzaSyB5DguCtBcvp2L12DMYhHn3Y75CoV2kGfY",authDomain:"login-4b0ed.firebaseapp.com",projectId:"login-4b0ed",storageBucket:"login-4b0ed.appspot.com",messagingSenderId:"472992881796",appId:"1:472992881796:web:6159cb2df6f84b1623f6d1",measurementId:"G-4YXX909D42"}};class PA{constructor(e){return e}}class zk{constructor(){return(0,un.vb)("auth")}}const FA=new u.OlP("angularfire2.auth-instances");function lB(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new PA(i)}}const cB={provide:zk,deps:[[new u.FiY,FA]]},uB={provide:PA,useFactory:function aB(n,e){const t=(0,un.JM)("auth",n,e);return t&&new PA(t)},deps:[[new u.FiY,FA],Jc]};let dB=(()=>{class n{constructor(){(0,Ba.KN)("angularfire",un.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[uB,cB]}),n})();function hB(n,...e){return{ngModule:dB,providers:[{provide:FA,useFactory:lB(n),multi:!0,deps:[u.R0b,u.zs3,un.HU,iy,[new u.FiY,cu],...e]}]}}const fB=(0,un.u3)(Xc.o,!0);class NA{constructor(e){return e}}const $k="firestore",LA=new u.OlP("angularfire2.firestore-instances");function gB(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new NA(i)}}const _B={provide:class pB{constructor(){return(0,un.vb)($k)}},deps:[[new u.FiY,LA]]},yB={provide:NA,useFactory:function mB(n,e){const t=(0,un.JM)($k,n,e);return t&&new NA(t)},deps:[[new u.FiY,LA],Jc]};let vB=(()=>{class n{constructor(){(0,Ba.KN)("angularfire",un.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yB,_B]}),n})();function bB(n,...e){return{ngModule:vB,providers:[{provide:LA,useFactory:gB(n),multi:!0,deps:[u.R0b,u.zs3,un.HU,iy,[new u.FiY,zk],[new u.FiY,cu],...e]}]}}const wB=(0,un.u3)(wN,!0);let VA,IB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[IB]}),n})();try{VA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{VA=!1}let Lb,cI,mp,dh=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ac(n){return n===vr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!VA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vb(n){return function CB(){if(null==Lb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lb=!0}))}finally{Lb=Lb||!1}return Lb}()?n:!!n.capture}function qk(){if(null==mp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mp=!1,mp;if("scrollBehavior"in document.documentElement.style)mp=!0;else{const n=Element.prototype.scrollTo;mp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return mp}function Ub(){if("object"!=typeof document||!document)return 0;if(null==cI){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),cI=0,0===n.scrollLeft&&(n.scrollLeft=1,cI=0===n.scrollLeft?1:2),n.remove()}return cI}function BA(n){return n.composedPath?n.composedPath()[0]:n.target}function jA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function uI(n){return Array.isArray(n)?n:[n]}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function zA(n){return n instanceof u.SBq?n.nativeElement:n}var FB=V(5032);function dI(n){return(0,bn.e)((e,t)=>{(0,It.Xf)(n).subscribe((0,U.x)(t,()=>t.complete(),FB.Z)),!t.closed&&e.subscribe(t)})}const Zk=new Set;let t_,NB=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):VB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function LB(n){if(!Zk.has(n))try{t_||(t_=document.createElement("style"),t_.setAttribute("type","text/css"),document.head.appendChild(t_)),t_.sheet&&(t_.sheet.insertRule(`@media ${n} {body{ }}`,0),Zk.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VB(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let UB=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Mn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Kk(uI(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=oe(Kk(uI(t)).map(c=>this._registerQuery(c).observable));return a=Yt(a.pipe(Ps(1)),a.pipe(function PB(n){return xr((e,t)=>n<=t)}(1),XO(0))),a.pipe((0,Dt.U)(c=>{const p={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:x})=>{p.matches=p.matches||_,p.breakpoints[x]=_}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Ti.y(c=>{const p=_=>this._zone.run(()=>c.next(_));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Sa(i),(0,Dt.U)(({matches:c})=>({query:t,matches:c})),dI(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(NB),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Jk="cdk-high-contrast-black-on-white",eP="cdk-high-contrast-white-on-black",$A="cdk-high-contrast-active";let tP=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(UB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($A,Jk,eP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add($A,Jk):2===i&&t.add($A,eP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dh),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YB=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tP))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Gk]}),n})();const QB=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function XB(){return(0,u.f3M)(re)}}),JB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hI=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function ej(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?JB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QB,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const nj=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function tj(){return!0}});let ta=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!jA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tP),u.LFG(nj,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bb,Bb]}),n})();class rj{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rP=Vb({passive:!0,capture:!0});class oj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=BA(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const c=a.get(i);c?c.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,rP)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rP)))}}const oP={enterDuration:225,exitDuration:150},sP=Vb({passive:!0,capture:!0}),aP=["mousedown","touchstart"],lP=["mouseup","mouseleave","touchend","touchcancel"];class fI{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=zA(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...oP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function aj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),p=e-r.left,_=t-r.top,x=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=p-c+"px",C.style.top=_-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),q=M.transitionDuration,ee="none"===M.transitionProperty||"0s"===q||"0s, 0s"===q||0===r.width&&0===r.height,me=new rj(this,C,i,ee);C.style.transform="scale3d(1, 1, 1)",me.state=0,i.persistent||(this._mostRecentTransientRipple=me);let xe=null;return!ee&&(x||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const mt=()=>this._finishRippleTransition(me),Rt=()=>this._destroyRipple(me);C.addEventListener("transitionend",mt),C.addEventListener("transitioncancel",Rt),xe={onTransitionEnd:mt,onTransitionCancel:Rt}}),this._activeRipples.set(me,xe),(ee||!x)&&this._finishRippleTransition(me),me}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...oP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=zA(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,aP.forEach(i=>{fI._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lP.forEach(t=>{this._triggerElement.addEventListener(t,this,sP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function qB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function ZB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(aP.forEach(t=>fI._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&lP.forEach(t=>e.removeEventListener(t,this,sP)))}}fI._eventManager=new oj;let cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ta,ta]}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ta]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[cP,Xr,ta,lj]}),n})(),dP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ta,Xr,Gk,ta]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ta,cP,ta]}),n})();var yj=V(1144);const vj=["addListener","removeListener"],bj=["addEventListener","removeEventListener"],wj=["on","off"];function pI(n,e,t,i){if((0,Qi.m)(t)&&(i=t,t=void 0),i)return pI(n,e,t).pipe(D(i));const[r,a]=function Ij(n){return(0,Qi.m)(n.addEventListener)&&(0,Qi.m)(n.removeEventListener)}(n)?bj.map(c=>p=>n[c](e,p,t)):function xj(n){return(0,Qi.m)(n.addListener)&&(0,Qi.m)(n.removeListener)}(n)?vj.map(hP(n,e)):function Ej(n){return(0,Qi.m)(n.on)&&(0,Qi.m)(n.off)}(n)?wj.map(hP(n,e)):[];if(!r&&(0,yj.z)(n))return(0,Xi.z)(c=>pI(c,e,t))((0,It.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ti.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return r(p),()=>a(p)})}function hP(n,e){return t=>i=>n[t](e,i)}var fP=V(4408);const zb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=zb;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new ti.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=zb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=zb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var pP=V(7565);const Tj=new class Dj extends pP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Cj extends fP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=zb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(zb.cancelAnimationFrame(t),e._scheduled=void 0)}});let HA,Sj=1;const mI={};function mP(n){return n in mI&&(delete mI[n],!0)}const Aj={setImmediate(n){const e=Sj++;return mI[e]=!0,HA||(HA=Promise.resolve()),HA.then(()=>mP(e)&&n()),e},clearImmediate(n){mP(n)}},{setImmediate:Mj,clearImmediate:Rj}=Aj,gI={setImmediate(...n){const{delegate:e}=gI;return(e?.setImmediate||Mj)(...n)},clearImmediate(n){const{delegate:e}=gI;return(e?.clearImmediate||Rj)(n)},delegate:void 0},Pj=new class kj extends pP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Oj extends fP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=gI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(gI.clearImmediate(t),e._scheduled=void 0)}});var Nj=V(3532);function GA(n,e=Id.z){return function Fj(n){return(0,bn.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const p=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const x=r;r=null,t.next(x)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,U.x)(t,x=>{i=!0,r=x,a||(0,It.Xf)(n(x)).subscribe(a=(0,U.x)(t,p,_))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Vj(n=0,e,t=Id.P){let i=-1;return null!=e&&((0,Nj.K)(e)?t=e:i=e),new Ti.y(r=>{let a=function Lj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}const Uj=["contentWrapper"],Bj=["*"],jj=new u.OlP("VIRTUAL_SCROLL_STRATEGY");let _I=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Mn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ti.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(GA(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(xr(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=zA(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(dh),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gP=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Mn.x,this._elementScrolled=new Ti.y(c=>this.ngZone.runOutsideAngular(()=>pI(this.elementRef.nativeElement,"scroll").pipe(dI(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Ub()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ub()?t.left=t.right:1==Ub()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;qk()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?r:i:"end"==t&&(t=c?i:r),c&&2==Ub()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==Ub()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_I),u.Y36(u.R0b),u.Y36(hI,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),WA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Mn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(GA(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dh),u.LFG(u.R0b),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _P=new u.OlP("VIRTUAL_SCROLLABLE");let Hj=(()=>{class n extends gP{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_I),u.Y36(u.R0b),u.Y36(hI,8))},n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Wj=typeof requestAnimationFrame<"u"?Tj:Pj;let qj=(()=>{class n extends Hj{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function OB(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,i,r,a,c,p,_,x){super(t,p,r,c),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=x,this._platform=(0,u.f3M)(dh),this._detachedSubject=new Mn.x,this._renderedRangeSubject=new Mn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ti.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ti.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Sa(null),GA(0,Wj)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(dI(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Gj(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,c=a?"X":"Y";let _=`translate${c}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(_+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",c="rtl"==this.dir?.value;i="start"==t?c?a:r:"end"==t?c?r:a:t||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-p}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(jj,8),u.Y36(hI,8),u.Y36(_I),u.Y36(WA),u.Y36(_P,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&u.Gf(Uj,7),2&t){let r;u.iGM(r=u.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[u._Bn([{provide:gP,useFactory:(e,t)=>e||t,deps:[[new u.FiY,new u.tBr(_P)],n]}]),u.qOj,u.jDz],ngContentSelectors:Bj,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(3),u.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Bb,yI,qj,Bb,yI]}),n})();class qA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Zj extends qA{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class Kj extends qA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Yj extends qA{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Qj{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Zj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Kj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Yj?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xj extends Qj{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const p=c.element,_=this._document.createComment("dom-portal");p.parentNode.insertBefore(_,p),this.outletElement.appendChild(p),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(p,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const vP=qk();class ez{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ir(-this._previousScrollPosition.left),e.style.top=ir(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vP&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vP&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class tz{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(xr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bP{enable(){}disable(){}attach(){}}function ZA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function wP(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ZA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iz=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bP,this.close=c=>new tz(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new ez(this._viewportRuler,this._document),this.reposition=c=>new nz(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_I),u.LFG(WA),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rz{constructor(e){if(this.scrollStrategy=new bP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class oz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let xP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sz=(()=>{class n extends xP{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const p=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),az=(()=>{class n extends xP{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=BA(a)},this._clickListener=a=>{const c=BA(a),p="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let x=_.length-1;x>-1;x--){const C=_[x];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(c)||C.overlayElement.contains(p))break;const M=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(dh),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EP=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jA()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),jA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(dh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lz{constructor(e,t,i,r,a,c,p,_,x,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=p,this._location=_,this._outsideClickDispatcher=x,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Mn.x,this._attachments=new Mn.x,this._detachments=new Mn.x,this._locationChanges=ti.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Mn.x,this._outsidePointerEvents=new Mn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ps(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ir(this._config.width),e.height=ir(this._config.height),e.minWidth=ir(this._config.minWidth),e.minHeight=ir(this._config.minHeight),e.maxWidth=ir(this._config.maxWidth),e.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=uI(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(dI((0,J_.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IP="cdk-overlay-connected-position-bounding-box",cz=/([A-Za-z%]+)$/;class uz{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mn.x,this._resizeSubscription=ti.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(IP),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let p of this._preferredPositions){let _=this._getOriginPoint(e,r,p),x=this._getOverlayPoint(_,t,p),C=this._getOverlayFit(x,t,i,p);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,_);this._canFitWithFlexibleDimensions(C,x,i)?a.push({position:p,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,p)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:x,originPoint:_,position:p,overlayRect:t})}if(a.length){let p=null,_=-1;for(const x of a){const C=x.boundingBoxRect.width*x.boundingBoxRect.height*(x.position.weight||1);C>_&&(_=C,p=x)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,p=this._isRtl()?e.left:e.right;r="start"==i.originX?c:p}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=DP(t);let{x:c,y:p}=e,_=this._getOffset(r,"x"),x=this._getOffset(r,"y");_&&(c+=_),x&&(p+=x);let j=0-p,q=p+a.height-i.height,ee=this._subtractOverflows(a.width,0-c,c+a.width-i.width),me=this._subtractOverflows(a.height,j,q),xe=ee*me;return{visibleArea:xe,isCompletelyWithinViewport:a.width*a.height===xe,fitsInViewportVertically:me===a.height,fitsInViewportHorizontally:ee==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=CP(this._overlayRef.getConfig().minHeight),p=CP(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=p&&p<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=DP(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),p=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),x=Math.max(a.left-i.left-e.x,0);let C=0,M=0;return C=r.width<=a.width?x||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-p:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:C,y:M},{x:e.x+C,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new oz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,p,C,M,j;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)p=i.height-e.y+2*this._viewportMargin,a=i.height-p+this._viewportMargin;else{const q=Math.min(i.bottom-e.y+i.top,e.y),ee=this._lastBoundingBoxSize.height;a=2*q,c=e.y-q,a>ee&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-ee/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)j=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,C=i.right-e.x;else{const q=Math.min(i.right-e.x+i.left,e.x),ee=this._lastBoundingBoxSize.width;C=2*q,M=e.x-q,C>ee&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-ee/2)}return{top:c,left:M,bottom:p,right:j,width:C,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=ir(i.height),r.top=ir(i.top),r.bottom=ir(i.bottom),r.width=ir(i.width),r.left=ir(i.left),r.right=ir(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ir(a)),c&&(r.maxWidth=ir(c))}this._lastBoundingBoxSize=i,gp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();gp(i,this._getExactOverlayY(t,e,C)),gp(i,this._getExactOverlayX(t,e,C))}else i.position="static";let p="",_=this._getOffset(t,"x"),x=this._getOffset(t,"y");_&&(p+=`translateX(${_}px) `),x&&(p+=`translateY(${x}px)`),i.transform=p.trim(),c.maxHeight&&(r?i.maxHeight=ir(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=ir(c.maxWidth):a&&(i.maxWidth="")),gp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ir(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ir(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wP(e,i),isOriginOutsideView:ZA(e,i),isOverlayClipped:wP(t,i),isOverlayOutsideView:ZA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&uI(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function gp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(cz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function DP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TP="cdk-global-overlay-wrapper";class dz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:p}=i,_=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),x=!("100%"!==a&&"100vh"!==a||p&&"100%"!==p&&"100vh"!==p),C=this._xPosition,M=this._xOffset,j="rtl"===this._overlayRef.getConfig().direction;let q="",ee="",me="";_?me="flex-start":"center"===C?(me="center",j?ee=M:q=M):j?"left"===C||"end"===C?(me="flex-end",q=M):("right"===C||"start"===C)&&(me="flex-start",ee=M):"left"===C||"start"===C?(me="flex-start",q=M):("right"===C||"end"===C)&&(me="flex-end",ee=M),e.position=this._cssPosition,e.marginLeft=_?"0":q,e.marginTop=x?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":ee,t.justifyContent=me,t.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(TP),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let hz=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new dz}flexibleConnectedTo(t){return new uz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WA),u.LFG(re),u.LFG(dh),u.LFG(EP))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fz=0,vI=(()=>{class n{constructor(t,i,r,a,c,p,_,x,C,M,j,q){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=p,this._ngZone=_,this._document=x,this._directionality=C,this._location=M,this._outsideClickDispatcher=j,this._animationsModuleType=q}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new rz(t);return c.direction=c.direction||this._directionality.value,new lz(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+fz++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new Xj(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(iz),u.LFG(EP),u.LFG(u._Vd),u.LFG(hz),u.LFG(sz),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(re),u.LFG(hI),u.LFG(Pe),u.LFG(az),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gz={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[vI],useFactory:function mz(n){return()=>n.scrollStrategies.reposition()}};let SP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vI,gz],imports:[Bb,Jj,yP,yP]}),n})();const wz={provide:new u.OlP("mat-select-scroll-strategy"),deps:[vI],useFactory:function bz(n){return()=>n.scrollStrategies.reposition()}};let xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wz],imports:[Xr,SP,uP,ta,yI,dP,uP,ta]}),n})();const Dz={provide:new u.OlP("mat-tooltip-scroll-strategy"),deps:[vI],useFactory:function Cz(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let Sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Dz],imports:[YB,Xr,SP,ta,ta,yI]}),n})(),KA=(()=>{class n{constructor(){this.changes=new Mn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const a=t*i;return`${a+1} \u2013 ${a<(r=Math.max(r,0))?Math.min(a+i,r):a+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kz={provide:KA,deps:[[new u.FiY,new u.tp0,KA]],useFactory:function Oz(n){return n||new KA}};let Pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kz],imports:[Xr,_j,xz,Sz]}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[sB]}),n.\u0275inj=u.cJS({imports:[dP,Pz,L2,eV,X2,Ms,oB,Vr.hO.initializeApp(kA.firebase),N2,_C(()=>vC(kA.firebase)),hB(()=>fB()),bB(()=>wB())]}),n})();kA&&(0,u.G48)(),Mc().bootstrapModule(Fz).catch(n=>console.error(n))},9751:(ft,Ce,V)=>{V.d(Ce,{y:()=>he});var u=V(930),z=V(727),P=V(8822),ie=V(9635),se=V(2416),re=V(576),ye=V(2806);let he=(()=>{class Y{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new Y;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,lt){const ge=function W(Y){return Y&&Y instanceof u.Lv||function G(Y){return Y&&(0,re.m)(Y.next)&&(0,re.m)(Y.error)&&(0,re.m)(Y.complete)}(Y)&&(0,z.Nn)(Y)}(Ae)?Ae:new u.Hp(Ae,We,lt);return(0,ye.x)(()=>{const{operator:De,source:Ie}=this;ge.add(De?De.call(ge,Ie):Ie?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=pe(We))((lt,ge)=>{const De=new u.Hp({next:Ie=>{try{Ae(Ie)}catch(Pe){ge(Pe),De.unsubscribe()}},error:ge,complete:lt});this.subscribe(De)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,ie.U)(Ae)(this)}toPromise(Ae){return new(Ae=pe(Ae))((We,lt)=>{let ge;this.subscribe(De=>ge=De,De=>lt(De),()=>We(ge))})}}return Y.create=ze=>new Y(ze),Y})();function pe(Y){var ze;return null!==(ze=Y??se.v.Promise)&&void 0!==ze?ze:Promise}},7579:(ft,Ce,V)=>{V.d(Ce,{x:()=>ye});var u=V(9751),z=V(727);const ie=(0,V(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=V(8737),re=V(2806);let ye=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Y=new he(this,this);return Y.operator=W,Y}_throwIfClosed(){if(this.closed)throw new ie}next(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(W)}})}error(W){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Y}=this;for(;Y.length;)Y.shift().error(W)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Y,isStopped:ze,observers:Ae}=this;return Y||ze?z.Lc:(this.currentObservers=null,Ae.push(W),new z.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,W)}))}_checkFinalizedStatuses(W){const{hasError:Y,thrownError:ze,isStopped:Ae}=this;Y?W.error(ze):Ae&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return pe.create=(G,W)=>new he(G,W),pe})();class he extends ye{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,Y;null===(Y=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Y||Y.call(W,G)}error(G){var W,Y;null===(Y=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Y||Y.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,Y;return null!==(Y=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==Y?Y:z.Lc}}},930:(ft,Ce,V)=>{V.d(Ce,{Hp:()=>lt,Lv:()=>Y});var u=V(576),z=V(727),P=V(2416),ie=V(7849),se=V(5032);const re=pe("C",void 0,void 0);function pe(Me,Fe,Te){return{kind:Me,value:Fe,error:Te}}var G=V(3410),W=V(2806);class Y extends z.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,z.Nn)(Fe)&&Fe.add(this)):this.destination=Pe}static create(Fe,Te,Ge){return new lt(Fe,Te,Ge)}next(Fe){this.isStopped?Ie(function he(Me){return pe("N",Me,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Ie(function ye(Me){return pe("E",void 0,Me)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Ie(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ae(Me,Fe){return ze.call(Me,Fe)}class We{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Fe)}catch(Ge){ge(Ge)}}error(Fe){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Fe)}catch(Ge){ge(Ge)}else ge(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Te){ge(Te)}}}class lt extends Y{constructor(Fe,Te,Ge){let X;if(super(),(0,u.m)(Fe)||!Fe)X={next:Fe??void 0,error:Te??void 0,complete:Ge??void 0};else{let le;this&&P.v.useDeprecatedNextContext?(le=Object.create(Fe),le.unsubscribe=()=>this.unsubscribe(),X={next:Fe.next&&Ae(Fe.next,le),error:Fe.error&&Ae(Fe.error,le),complete:Fe.complete&&Ae(Fe.complete,le)}):X=Fe}this.destination=new We(X)}}function ge(Me){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Me):(0,ie.h)(Me)}function Ie(Me,Fe){const{onStoppedNotification:Te}=P.v;Te&&G.z.setTimeout(()=>Te(Me,Fe))}const Pe={closed:!0,next:se.Z,error:function De(Me){throw Me},complete:se.Z}},727:(ft,Ce,V)=>{V.d(Ce,{Lc:()=>re,w0:()=>se,Nn:()=>ye});var u=V(576);const P=(0,V(3888).d)(pe=>function(W){pe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Y,ze)=>`${ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ie=V(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ae of W)Ae.remove(this);else W.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Ae){G=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ae of ze)try{he(Ae)}catch(We){G=G??[],We instanceof P?G=[...G,...We.errors]:G.push(We)}}if(G)throw new P(G)}}add(G){var W;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,ie.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,ie.P)(W,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const re=se.EMPTY;function ye(pe){return pe instanceof se||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function he(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(ft,Ce,V)=>{V.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ce,V)=>{V.d(Ce,{E:()=>z});const z=new(V(9751).y)(se=>se.complete())},8996:(ft,Ce,V)=>{V.d(Ce,{D:()=>Fe});var u=V(8421),z=V(5363),P=V(9468),re=V(9751),he=V(2202),pe=V(576),G=V(9672);function Y(Te,Ge){if(!Te)throw new Error("Iterable cannot be null");return new re.y(X=>{(0,G.f)(X,Ge,()=>{const le=Te[Symbol.asyncIterator]();(0,G.f)(X,Ge,()=>{le.next().then(ve=>{ve.done?X.complete():X.next(ve.value)})},0,!0)})})}var ze=V(3670),Ae=V(8239),We=V(1144),lt=V(6495),ge=V(2206),De=V(4532),Ie=V(3260);function Fe(Te,Ge){return Ge?function Me(Te,Ge){if(null!=Te){if((0,ze.c)(Te))return function ie(Te,Ge){return(0,u.Xf)(Te).pipe((0,P.R)(Ge),(0,z.Q)(Ge))}(Te,Ge);if((0,We.z)(Te))return function ye(Te,Ge){return new re.y(X=>{let le=0;return Ge.schedule(function(){le===Te.length?X.complete():(X.next(Te[le++]),X.closed||this.schedule())})})}(Te,Ge);if((0,Ae.t)(Te))return function se(Te,Ge){return(0,u.Xf)(Te).pipe((0,P.R)(Ge),(0,z.Q)(Ge))}(Te,Ge);if((0,ge.D)(Te))return Y(Te,Ge);if((0,lt.T)(Te))return function W(Te,Ge){return new re.y(X=>{let le;return(0,G.f)(X,Ge,()=>{le=Te[he.h](),(0,G.f)(X,Ge,()=>{let ve,qe;try{({value:ve,done:qe}=le.next())}catch(He){return void X.error(He)}qe?X.complete():X.next(ve)},0,!0)}),()=>(0,pe.m)(le?.return)&&le.return()})}(Te,Ge);if((0,Ie.L)(Te))return function Pe(Te,Ge){return Y((0,Ie.Q)(Te),Ge)}(Te,Ge)}throw(0,De.z)(Te)}(Te,Ge):(0,u.Xf)(Te)}},8421:(ft,Ce,V)=>{V.d(Ce,{Xf:()=>ze});var u=V(655),z=V(1144),P=V(8239),ie=V(9751),se=V(3670),re=V(2206),ye=V(4532),he=V(6495),pe=V(3260),G=V(576),W=V(7849),Y=V(8822);function ze(Me){if(Me instanceof ie.y)return Me;if(null!=Me){if((0,se.c)(Me))return function Ae(Me){return new ie.y(Fe=>{const Te=Me[Y.L]();if((0,G.m)(Te.subscribe))return Te.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,z.z)(Me))return function We(Me){return new ie.y(Fe=>{for(let Te=0;Te<Me.length&&!Fe.closed;Te++)Fe.next(Me[Te]);Fe.complete()})}(Me);if((0,P.t)(Me))return function lt(Me){return new ie.y(Fe=>{Me.then(Te=>{Fe.closed||(Fe.next(Te),Fe.complete())},Te=>Fe.error(Te)).then(null,W.h)})}(Me);if((0,re.D)(Me))return De(Me);if((0,he.T)(Me))return function ge(Me){return new ie.y(Fe=>{for(const Te of Me)if(Fe.next(Te),Fe.closed)return;Fe.complete()})}(Me);if((0,pe.L)(Me))return function Ie(Me){return De((0,pe.Q)(Me))}(Me)}throw(0,ye.z)(Me)}function De(Me){return new ie.y(Fe=>{(function Pe(Me,Fe){var Te,Ge,X,le;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Te=(0,u.KL)(Me);!(Ge=yield Te.next()).done;)if(Fe.next(Ge.value),Fe.closed)return}catch(ve){X={error:ve}}finally{try{Ge&&!Ge.done&&(le=Te.return)&&(yield le.call(Te))}finally{if(X)throw X.error}}Fe.complete()})})(Me,Fe).catch(Te=>Fe.error(Te))})}},6451:(ft,Ce,V)=>{V.d(Ce,{T:()=>re});var u=V(8189),z=V(8421),P=V(515),ie=V(3269),se=V(8996);function re(...ye){const he=(0,ie.yG)(ye),pe=(0,ie._6)(ye,1/0),G=ye;return G.length?1===G.length?(0,z.Xf)(G[0]):(0,u.J)(pe)((0,se.D)(G,he)):P.E}},5403:(ft,Ce,V)=>{V.d(Ce,{x:()=>z});var u=V(930);function z(ie,se,re,ye,he){return new P(ie,se,re,ye,he)}class P extends u.Lv{constructor(se,re,ye,he,pe,G){super(se),this.onFinalize=pe,this.shouldUnsubscribe=G,this._next=re?function(W){try{re(W)}catch(Y){se.error(Y)}}:super._next,this._error=he?function(W){try{he(W)}catch(Y){se.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(W){se.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ft,Ce,V)=>{V.d(Ce,{U:()=>P});var u=V(4482),z=V(5403);function P(ie,se){return(0,u.e)((re,ye)=>{let he=0;re.subscribe((0,z.x)(ye,pe=>{ye.next(ie.call(se,pe,he++))}))})}},8189:(ft,Ce,V)=>{V.d(Ce,{J:()=>P});var u=V(5577),z=V(4671);function P(ie=1/0){return(0,u.z)(z.y,ie)}},5577:(ft,Ce,V)=>{V.d(Ce,{z:()=>he});var u=V(4004),z=V(8421),P=V(4482),ie=V(9672),se=V(5403),ye=V(576);function he(pe,G,W=1/0){return(0,ye.m)(G)?he((Y,ze)=>(0,u.U)((Ae,We)=>G(Y,Ae,ze,We))((0,z.Xf)(pe(Y,ze))),W):("number"==typeof G&&(W=G),(0,P.e)((Y,ze)=>function re(pe,G,W,Y,ze,Ae,We,lt){const ge=[];let De=0,Ie=0,Pe=!1;const Me=()=>{Pe&&!ge.length&&!De&&G.complete()},Fe=Ge=>De<Y?Te(Ge):ge.push(Ge),Te=Ge=>{Ae&&G.next(Ge),De++;let X=!1;(0,z.Xf)(W(Ge,Ie++)).subscribe((0,se.x)(G,le=>{ze?.(le),Ae?Fe(le):G.next(le)},()=>{X=!0},void 0,()=>{if(X)try{for(De--;ge.length&&De<Y;){const le=ge.shift();We?(0,ie.f)(G,We,()=>Te(le)):Te(le)}Me()}catch(le){G.error(le)}}))};return pe.subscribe((0,se.x)(G,Fe,()=>{Pe=!0,Me()})),()=>{lt?.()}}(Y,ze,pe,W)))}},5363:(ft,Ce,V)=>{V.d(Ce,{Q:()=>ie});var u=V(9672),z=V(4482),P=V(5403);function ie(se,re=0){return(0,z.e)((ye,he)=>{ye.subscribe((0,P.x)(he,pe=>(0,u.f)(he,se,()=>he.next(pe),re),()=>(0,u.f)(he,se,()=>he.complete(),re),pe=>(0,u.f)(he,se,()=>he.error(pe),re)))})}},3099:(ft,Ce,V)=>{V.d(Ce,{B:()=>se});var u=V(8421),z=V(7579),P=V(930),ie=V(4482);function se(ye={}){const{connector:he=(()=>new z.x),resetOnError:pe=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=ye;return Y=>{let ze,Ae,We,lt=0,ge=!1,De=!1;const Ie=()=>{Ae?.unsubscribe(),Ae=void 0},Pe=()=>{Ie(),ze=We=void 0,ge=De=!1},Me=()=>{const Fe=ze;Pe(),Fe?.unsubscribe()};return(0,ie.e)((Fe,Te)=>{lt++,!De&&!ge&&Ie();const Ge=We=We??he();Te.add(()=>{lt--,0===lt&&!De&&!ge&&(Ae=re(Me,W))}),Ge.subscribe(Te),!ze&&lt>0&&(ze=new P.Hp({next:X=>Ge.next(X),error:X=>{De=!0,Ie(),Ae=re(Pe,pe,X),Ge.error(X)},complete:()=>{ge=!0,Ie(),Ae=re(Pe,G),Ge.complete()}}),(0,u.Xf)(Fe).subscribe(ze))})(Y)}}function re(ye,he,...pe){if(!0===he)return void ye();if(!1===he)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ye()}});return(0,u.Xf)(he(...pe)).subscribe(G)}},9468:(ft,Ce,V)=>{V.d(Ce,{R:()=>z});var u=V(4482);function z(P,ie=0){return(0,u.e)((se,re)=>{re.add(P.schedule(()=>se.subscribe(re),ie))})}},8505:(ft,Ce,V)=>{V.d(Ce,{b:()=>se});var u=V(576),z=V(4482),P=V(5403),ie=V(4671);function se(re,ye,he){const pe=(0,u.m)(re)||ye||he?{next:re,error:ye,complete:he}:re;return pe?(0,z.e)((G,W)=>{var Y;null===(Y=pe.subscribe)||void 0===Y||Y.call(pe);let ze=!0;G.subscribe((0,P.x)(W,Ae=>{var We;null===(We=pe.next)||void 0===We||We.call(pe,Ae),W.next(Ae)},()=>{var Ae;ze=!1,null===(Ae=pe.complete)||void 0===Ae||Ae.call(pe),W.complete()},Ae=>{var We;ze=!1,null===(We=pe.error)||void 0===We||We.call(pe,Ae),W.error(Ae)},()=>{var Ae,We;ze&&(null===(Ae=pe.unsubscribe)||void 0===Ae||Ae.call(pe)),null===(We=pe.finalize)||void 0===We||We.call(pe)}))}):ie.y}},4408:(ft,Ce,V)=>{V.d(Ce,{o:()=>se});var u=V(727);class z extends u.w0{constructor(ye,he){super()}schedule(ye,he=0){return this}}const P={setInterval(re,ye,...he){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(re,ye,...he):setInterval(re,ye,...he)},clearInterval(re){const{delegate:ye}=P;return(ye?.clearInterval||clearInterval)(re)},delegate:void 0};var ie=V(8737);class se extends z{constructor(ye,he){super(ye,he),this.scheduler=ye,this.work=he,this.pending=!1}schedule(ye,he=0){var pe;if(this.closed)return this;this.state=ye;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,he)),this.pending=!0,this.delay=he,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(W,this.id,he),this}requestAsyncId(ye,he,pe=0){return P.setInterval(ye.flush.bind(ye,this),pe)}recycleAsyncId(ye,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;null!=he&&P.clearInterval(he)}execute(ye,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ye,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,he){let G,pe=!1;try{this.work(ye)}catch(W){pe=!0,G=W||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ye,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(pe,this),null!=ye&&(this.id=this.recycleAsyncId(he,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ce,V)=>{V.d(Ce,{v:()=>P});var u=V(6063);class z{constructor(se,re=z.now){this.schedulerActionCtor=se,this.now=re}schedule(se,re=0,ye){return new this.schedulerActionCtor(this,se).schedule(ye,re)}}z.now=u.l.now;class P extends z{constructor(se,re=z.now){super(se,re),this.actions=[],this._active=!1}flush(se){const{actions:re}=this;if(this._active)return void re.push(se);let ye;this._active=!0;do{if(ye=se.execute(se.state,se.delay))break}while(se=re.shift());if(this._active=!1,ye){for(;se=re.shift();)se.unsubscribe();throw ye}}}},4986:(ft,Ce,V)=>{V.d(Ce,{P:()=>ie,z:()=>P});var u=V(4408);const P=new(V(7565).v)(u.o),ie=P},6063:(ft,Ce,V)=>{V.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ft,Ce,V)=>{V.d(Ce,{z:()=>u});const u={setTimeout(z,P,...ie){const{delegate:se}=u;return se?.setTimeout?se.setTimeout(z,P,...ie):setTimeout(z,P,...ie)},clearTimeout(z){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(ft,Ce,V)=>{V.d(Ce,{h:()=>z});const z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ce,V)=>{V.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Ce,V)=>{V.d(Ce,{_6:()=>re,jO:()=>ie,yG:()=>se});var u=V(576),z=V(3532);function P(ye){return ye[ye.length-1]}function ie(ye){return(0,u.m)(P(ye))?ye.pop():void 0}function se(ye){return(0,z.K)(P(ye))?ye.pop():void 0}function re(ye,he){return"number"==typeof P(ye)?ye.pop():he}},8737:(ft,Ce,V)=>{function u(z,P){if(z){const ie=z.indexOf(P);0<=ie&&z.splice(ie,1)}}V.d(Ce,{P:()=>u})},3888:(ft,Ce,V)=>{function u(z){const ie=z(se=>{Error.call(se),se.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}V.d(Ce,{d:()=>u})},2806:(ft,Ce,V)=>{V.d(Ce,{O:()=>ie,x:()=>P});var u=V(2416);let z=null;function P(se){if(u.v.useDeprecatedSynchronousErrorHandling){const re=!z;if(re&&(z={errorThrown:!1,error:null}),se(),re){const{errorThrown:ye,error:he}=z;if(z=null,ye)throw he}}else se()}function ie(se){u.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=se)}},9672:(ft,Ce,V)=>{function u(z,P,ie,se=0,re=!1){const ye=P.schedule(function(){ie(),re?z.add(this.schedule(null,se)):this.unsubscribe()},se);if(z.add(ye),!re)return ye}V.d(Ce,{f:()=>u})},4671:(ft,Ce,V)=>{function u(z){return z}V.d(Ce,{y:()=>u})},1144:(ft,Ce,V)=>{V.d(Ce,{z:()=>u});const u=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(ft,Ce,V)=>{V.d(Ce,{D:()=>z});var u=V(576);function z(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(ft,Ce,V)=>{function u(z){return"function"==typeof z}V.d(Ce,{m:()=>u})},3670:(ft,Ce,V)=>{V.d(Ce,{c:()=>P});var u=V(8822),z=V(576);function P(ie){return(0,z.m)(ie[u.L])}},6495:(ft,Ce,V)=>{V.d(Ce,{T:()=>P});var u=V(2202),z=V(576);function P(ie){return(0,z.m)(ie?.[u.h])}},8239:(ft,Ce,V)=>{V.d(Ce,{t:()=>z});var u=V(576);function z(P){return(0,u.m)(P?.then)}},3260:(ft,Ce,V)=>{V.d(Ce,{L:()=>ie,Q:()=>P});var u=V(655),z=V(576);function P(se){return(0,u.FC)(this,arguments,function*(){const ye=se.getReader();try{for(;;){const{value:he,done:pe}=yield(0,u.qq)(ye.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{ye.releaseLock()}})}function ie(se){return(0,z.m)(se?.getReader)}},3532:(ft,Ce,V)=>{V.d(Ce,{K:()=>z});var u=V(576);function z(P){return P&&(0,u.m)(P.schedule)}},4482:(ft,Ce,V)=>{V.d(Ce,{A:()=>z,e:()=>P});var u=V(576);function z(ie){return(0,u.m)(ie?.lift)}function P(ie){return se=>{if(z(se))return se.lift(function(re){try{return ie(re,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Ce,V)=>{function u(){}V.d(Ce,{Z:()=>u})},9635:(ft,Ce,V)=>{V.d(Ce,{U:()=>P,z:()=>z});var u=V(4671);function z(...ie){return P(ie)}function P(ie){return 0===ie.length?u.y:1===ie.length?ie[0]:function(re){return ie.reduce((ye,he)=>he(ye),re)}}},7849:(ft,Ce,V)=>{V.d(Ce,{h:()=>P});var u=V(2416),z=V(3410);function P(ie){z.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw ie;se(ie)})}},4532:(ft,Ce,V)=>{function u(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ce,{z:()=>u})},655:(ft,Ce,V)=>{function ie(ae,fe){var we={};for(var ke in ae)Object.prototype.hasOwnProperty.call(ae,ke)&&fe.indexOf(ke)<0&&(we[ke]=ae[ke]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ke=Object.getOwnPropertySymbols(ae);Ue<ke.length;Ue++)fe.indexOf(ke[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ae,ke[Ue])&&(we[ke[Ue]]=ae[ke[Ue]])}return we}function Y(ae,fe,we,ke){return new(we||(we=Promise))(function(je,tt){function Ye(pt){try{wt(ke.next(pt))}catch(nt){tt(nt)}}function dn(pt){try{wt(ke.throw(pt))}catch(nt){tt(nt)}}function wt(pt){pt.done?je(pt.value):function Ue(je){return je instanceof we?je:new we(function(tt){tt(je)})}(pt.value).then(Ye,dn)}wt((ke=ke.apply(ae,fe||[])).next())})}function Me(ae){return this instanceof Me?(this.v=ae,this):new Me(ae)}function Fe(ae,fe,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ke=we.apply(ae,fe||[]),je=[];return Ue={},tt("next"),tt("throw"),tt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function tt(an){ke[an]&&(Ue[an]=function(jn){return new Promise(function(_n,hn){je.push([an,jn,_n,hn])>1||Ye(an,jn)})})}function Ye(an,jn){try{!function dn(an){an.value instanceof Me?Promise.resolve(an.value.v).then(wt,pt):nt(je[0][2],an)}(ke[an](jn))}catch(_n){nt(je[0][3],_n)}}function wt(an){Ye("next",an)}function pt(an){Ye("throw",an)}function nt(an,jn){an(jn),je.shift(),je.length&&Ye(je[0][0],je[0][1])}}function Ge(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function lt(ae){var fe="function"==typeof Symbol&&Symbol.iterator,we=fe&&ae[fe],ke=0;if(we)return we.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ke>=ae.length&&(ae=void 0),{value:ae&&ae[ke++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),we={},ke("next"),ke("throw"),ke("return"),we[Symbol.asyncIterator]=function(){return this},we);function ke(je){we[je]=ae[je]&&function(tt){return new Promise(function(Ye,dn){!function Ue(je,tt,Ye,dn){Promise.resolve(dn).then(function(wt){je({value:wt,done:Ye})},tt)}(Ye,dn,(tt=ae[je](tt)).done,tt.value)})}}}V.d(Ce,{FC:()=>Fe,KL:()=>Ge,_T:()=>ie,mG:()=>Y,qq:()=>Me})},4650:(ft,Ce,V)=>{V.d(Ce,{$8M:()=>As,$WT:()=>or,$Z:()=>z0,AFp:()=>jl,ALo:()=>dx,AaK:()=>he,AsE:()=>gf,BQk:()=>Ey,CHM:()=>$u,CRH:()=>Ya,CZH:()=>qd,CqO:()=>GC,D6c:()=>rE,EJc:()=>Lx,EpF:()=>$C,F$t:()=>wm,F4k:()=>HC,FYo:()=>x0,FiY:()=>to,G48:()=>Xs,Gf:()=>bx,GfV:()=>E0,Gpc:()=>W,Hsn:()=>WC,JOm:()=>Er,KtG:()=>mh,LFG:()=>$e,LSH:()=>Wh,Lbi:()=>pg,Lck:()=>ax,MAs:()=>_m,MMx:()=>Xm,NdJ:()=>Iy,OlP:()=>En,Oqu:()=>mf,P3R:()=>k_,PXZ:()=>jv,Q6J:()=>dw,QGY:()=>fw,QbO:()=>Nx,Qsj:()=>HI,R0b:()=>Ao,RDi:()=>EI,Rgc:()=>vt,SBq:()=>La,Sil:()=>Vx,Suo:()=>zd,TTD:()=>ts,TgZ:()=>ym,Udp:()=>df,VKq:()=>Ka,WLB:()=>tg,X6Q:()=>Yx,XFs:()=>ot,Xpm:()=>Gi,Xts:()=>Al,Y36:()=>_d,YKP:()=>Ym,YNc:()=>cu,Yjl:()=>ic,Yz7:()=>nt,Z0I:()=>hn,ZZ4:()=>Gf,_Bn:()=>pv,_UZ:()=>hw,_Vd:()=>Rl,_c5:()=>Pi,_uU:()=>km,aQg:()=>Wf,c2e:()=>UD,cJS:()=>jn,cg1:()=>Ga,dDg:()=>GD,dqk:()=>Lt,eFA:()=>bg,eJc:()=>Ko,ekj:()=>Am,eoX:()=>_g,f3M:()=>it,g9A:()=>Fv,h0i:()=>Ll,hGG:()=>mn,hij:()=>Dd,iGM:()=>Zo,ifc:()=>k,ip1:()=>Iu,jDz:()=>_v,kL8:()=>vf,kYT:()=>fi,lG2:()=>nc,lqb:()=>Zc,lri:()=>Gx,n5z:()=>Ea,oAB:()=>nl,oxw:()=>Ay,q4F:()=>z_,qLn:()=>Qh,qOj:()=>lf,qZA:()=>vm,rWj:()=>Wx,s9C:()=>Ed,sBO:()=>ZD,s_b:()=>Ze,soG:()=>Vf,tBr:()=>Os,tb:()=>Qs,tp0:()=>Ta,uIk:()=>mm,vHH:()=>ge,vpe:()=>jr,wAp:()=>Mt,xi3:()=>hx,xp6:()=>O0,ynx:()=>bm,z2F:()=>xg,zSh:()=>L_,zs3:()=>md});var u=V(7579),z=V(727),P=V(9751),ie=V(6451),se=V(3099);function re(o){for(let s in o)if(o[s]===re)return s;throw Error("Could not find renamed property on target object.")}function ye(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function pe(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const G=re({__forward_ref__:re});function W(o){return o.__forward_ref__=W,o.toString=function(){return he(this())},o}function Y(o){return ze(o)?o():o}function ze(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===W}function Ae(o){return o&&!!o.\u0275providers}const lt="https://g.co/ng/security#xss";class ge extends Error{constructor(s,l){super(De(s,l)),this.code=s}}function De(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function Ge(o,s){throw new ge(-201,!1)}function tt(o,s){null==o&&function Ye(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function nt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function jn(o){return{providers:o.providers||[],imports:o.imports||[]}}function _n(o){return li(o,_r)||li(o,wn)}function hn(o){return null!==_n(o)}function li(o,s){return o.hasOwnProperty(s)?o[s]:null}function zn(o){return o&&(o.hasOwnProperty(yr)||o.hasOwnProperty(hi))?o[yr]:null}const _r=re({\u0275prov:re}),yr=re({\u0275inj:re}),wn=re({ngInjectableDef:re}),hi=re({ngInjectorDef:re});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let wi;function Qn(o){const s=wi;return wi=o,s}function $n(o,s,l){const d=_n(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&ot.Optional?null:void 0!==s?s:void Ge(he(o))}const Lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pn={},Xn="__NG_DI_FLAG__",Ei="ngTempTokenPath",ci="ngTokenPath",Ar=/\n/gm,Gt="\u0275",Mr="__source";let Jt;function Hi(o){const s=Jt;return Jt=o,s}function Hn(o,s=ot.Default){if(void 0===Jt)throw new ge(-203,!1);return null===Jt?$n(o,void 0,s):Jt.get(o,s&ot.Optional?null:void 0,s)}function $e(o,s=ot.Default){return(function xi(){return wi}()||Hn)(Y(o),s)}function it(o,s=ot.Default){return $e(o,xt(s))}function xt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ot(o){const s=[];for(let l=0;l<o.length;l++){const d=Y(o[l]);if(Array.isArray(d)){if(0===d.length)throw new ge(900,!1);let h,f=ot.Default;for(let y=0;y<d.length;y++){const w=d[y],E=Gn(w);"number"==typeof E?-1===E?h=w.token:f|=E:h=w}s.push($e(h,f))}else s.push($e(d))}return s}function rn(o,s){return o[Xn]=s,o.prototype[Xn]=s,o}function Gn(o){return o[Xn]}function F(o){return{toString:o}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),k=(()=>{return(o=k||(k={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",k;var o})();const J={},ue=[],st=re({\u0275cmp:re}),Tt=re({\u0275dir:re}),kt=re({\u0275pipe:re}),en=re({\u0275mod:re}),St=re({\u0275fac:re}),xn=re({__NG_ELEMENT_ID__:re});let Wt=0;function Gi(o){return F(()=>{const s=Ci(o),l={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||k.Emulated,id:"c"+Wt++,styles:o.styles||ue,_:null,schemas:o.schemas||null,tView:null};rc(l);const d=o.dependencies;return l.directiveDefs=Fo(d,!1),l.pipeDefs=Fo(d,!0),l})}function tl(o){return cn(o)||Wn(o)}function tc(o){return null!==o}function nl(o){return F(()=>({type:o.type,bootstrap:o.bootstrap||ue,declarations:o.declarations||ue,imports:o.imports||ue,exports:o.exports||ue,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function fi(o,s){return F(()=>{const l=Wi(o,!0);l.declarations=s.declarations||ue,l.imports=s.imports||ue,l.exports=s.exports||ue})}function na(o,s){if(null==o)return J;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),l[h]=d,s&&(s[h]=f)}return l}function nc(o){return F(()=>{const s=Ci(o);return rc(s),s})}function ic(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function cn(o){return o[st]||null}function Wn(o){return o[Tt]||null}function Ii(o){return o[kt]||null}function or(o){const s=cn(o)||Wn(o)||Ii(o);return null!==s&&s.standalone}function Wi(o,s){const l=o[en]||null;if(!l&&!0===s)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return l}function Ci(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||ue,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:na(o.inputs,s),outputs:na(o.outputs)}}function rc(o){o.features?.forEach(s=>s(o))}function Fo(o,s){if(!o)return null;const l=s?Ii:tl;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(tc)}const Wr=0,Je=1,qt=2,vn=3,qi=4,ho=5,Fn=6,fo=7,Nn=8,Rr=9,oc=10,jt=11,il=12,No=13,ia=14,Jo=15,Fi=16,Lo=17,qr=18,Jn=19,ys=20,hh=21,Ut=22,ra=1,Nu=2,po=7,Zr=8,Vo=9,Ni=10;function Li(o){return Array.isArray(o)&&"object"==typeof o[ra]}function pi(o){return Array.isArray(o)&&!0===o[ra]}function sc(o){return 0!=(4&o.flags)}function rl(o){return o.componentOffset>-1}function Kr(o){return 1==(1&o.flags)}function Yr(o){return!!o.template}function oa(o){return 0!=(256&o[qt])}function br(o,s){return o.hasOwnProperty(St)?o[St]:null}class ol{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ts(){return aa}function aa(o){return o.type.prototype.ngOnChanges&&(o.setInput=la),ns}function ns(){const o=al(this),s=o?.current;if(s){const l=o.previous;if(l===J)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function la(o,s,l,d){const h=this.declaredInputs[l],f=al(o)||function lc(o,s){return o[sl]=s}(o,{previous:J,current:null}),y=f.current||(f.current={}),w=f.previous,E=w[h];y[h]=new ol(E&&E.currentValue,s,w===J),o[d]=s}ts.ngInherit=!0;const sl="__ngSimpleChanges__";function al(o){return o[sl]||null}const fn=function(o,s,l){};function Ln(o){for(;Array.isArray(o);)o=o[Wr];return o}function Bo(o,s){return Ln(s[o])}function mi(o,s){return Ln(s[o.index])}function ua(o,s){return o.data[s]}function wr(o,s){return o[s]}function Di(o,s){const l=s[o];return Li(l)?l:l[Wr]}function is(o){return 64==(64&o[qt])}function Or(o,s){return null==s?null:o[s]}function ll(o){o[qr]=0}function da(o,s){o[ho]+=s;let l=o,d=o[vn];for(;null!==d&&(1===s&&1===l[ho]||-1===s&&0===l[ho]);)d[ho]+=s,l=d,d=d[vn]}const Vt={lFrame:Ip(null),bindingsEnabled:!0};function zu(){return Vt.bindingsEnabled}function Oe(){return Vt.lFrame.lView}function on(){return Vt.lFrame.tView}function $u(o){return Vt.lFrame.contextLView=o,o[Nn]}function mh(o){return Vt.lFrame.contextLView=null,o}function qn(){let o=gh();for(;null!==o&&64===o.type;)o=o.parent;return o}function gh(){return Vt.lFrame.currentTNode}function kr(o,s){const l=Vt.lFrame;l.currentTNode=o,l.isParent=s}function ul(){return Vt.lFrame.isParent}function dl(){Vt.lFrame.isParent=!1}function ei(){const o=Vt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function rs(){return Vt.lFrame.bindingIndex++}function Jr(o){const s=Vt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}function bc(o,s){const l=Vt.lFrame;l.bindingIndex=l.bindingRootIndex=o,go(s)}function go(o){Vt.lFrame.currentDirectiveIndex=o}function Gu(){return Vt.lFrame.currentQueryIndex}function pl(o){Vt.lFrame.currentQueryIndex=o}function Ep(o){const s=o[Je];return 2===s.type?s.declTNode:1===s.type?o[Fn]:null}function xc(o,s,l){if(l&ot.SkipSelf){let h=s,f=o;for(;!(h=h.parent,null!==h||l&ot.Host||(h=Ep(f),null===h||(f=f[Jo],10&h.type))););if(null===h)return!1;s=h,o=f}const d=Vt.lFrame=n_();return d.currentTNode=s,d.lView=o,!0}function Wu(o){const s=n_(),l=o[Je];Vt.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function n_(){const o=Vt.lFrame,s=null===o?null:o.child;return null===s?Ip(o):s}function Ip(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Ec(){const o=Vt.lFrame;return Vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const i_=Ec;function yh(){const o=Ec();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Zi(){return Vt.lFrame.selectedIndex}function zo(o){Vt.lFrame.selectedIndex=o}function yn(){const o=Vt.lFrame;return ua(o.tView,o.selectedIndex)}function Ic(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const f=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:O}=f;y&&(o.contentHooks||(o.contentHooks=[])).push(-l,y),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),E&&(o.viewHooks||(o.viewHooks=[])).push(-l,E),T&&((o.viewHooks||(o.viewHooks=[])).push(l,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,T)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(l,O)}}function fa(o,s,l){Pr(o,s,3,l)}function Es(o,s,l,d){(3&o[qt])===l&&Pr(o,s,l,d)}function pa(o,s){let l=o[qt];(3&l)===s&&(l&=2047,l+=1,o[qt]=l)}function Pr(o,s,l,d){const f=d??-1,y=s.length-1;let w=0;for(let E=void 0!==d?65535&o[qr]:0;E<y;E++)if("number"==typeof s[E+1]){if(w=s[E],null!=d&&w>=d)break}else s[E]<0&&(o[qr]+=65536),(w<f||-1==f)&&(Zu(o,l,s,E),o[qr]=(4294901760&o[qr])+E+2),E++}function Zu(o,s,l,d){const h=l[d]<0,f=l[d+1],w=o[h?-l[d]:l[d]];if(h){if(o[qt]>>11<o[qr]>>16&&(3&o[qt])===s){o[qt]+=2048,fn(4,w,f);try{f.call(w)}finally{fn(5,w,f)}}}else{fn(4,w,f);try{f.call(w)}finally{fn(5,w,f)}}}const Fr=-1;class ma{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Is(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const f=l[d++],y=l[d++],w=l[d++];o.setAttribute(s,y,w,f)}else{const f=h,y=l[++d];Cs(f)?o.setProperty(s,f,y):o.setAttribute(s,f,y),d++}}return d}function Dn(o){return 3===o||4===o||6===o}function Cs(o){return 64===o.charCodeAt(0)}function eo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||ya(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function ya(o,s,l,d,h){let f=0,y=o.length;if(-1===s)y=-1;else for(;f<o.length;){const w=o[f++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=f-1;break}}}for(;f<o.length;){const w=o[f];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(o[f+1]=h));if(d===o[f+1])return void(o[f+2]=h)}f++,null!==d&&f++,null!==h&&f++}-1!==y&&(o.splice(y,0,s),f=y+1),o.splice(f++,0,l),null!==d&&o.splice(f++,0,d),null!==h&&o.splice(f++,0,h)}function va(o){return o!==Fr}function _l(o){return 32767&o}function os(o,s){let l=function bh(o){return o>>16}(o),d=s;for(;l>0;)d=d[Jo],l--;return d}let yl=!0;function _o(o){const s=yl;return yl=o,s}const yo=255,Ds=5;let ba=0;const Ki={};function ss(o,s){const l=Ss(o,s);if(-1!==l)return l;const d=s[Je];d.firstCreatePass&&(o.injectorIndex=s.length,Ts(d.data,o),Ts(s,null),Ts(d.blueprint,null));const h=as(o,s),f=o.injectorIndex;if(va(h)){const y=_l(h),w=os(h,s),E=w[Je].data;for(let T=0;T<8;T++)s[f+T]=w[y+T]|E[y+T]}return s[f+8]=h,f}function Ts(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Ss(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function as(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=Xu(h),null===d)return Fr;if(l++,h=h[Jo],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Fr}function wa(o,s,l){!function vl(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(xn)&&(d=l[xn]),null==d&&(d=l[xn]=ba++);const h=d&yo;s.data[o+(h>>Ds)]|=1<<h}(o,s,l)}function bl(o,s,l){if(l&ot.Optional||void 0!==o)return o;Ge()}function Tc(o,s,l,d){if(l&ot.Optional&&void 0===d&&(d=null),!(l&(ot.Self|ot.Host))){const h=o[Rr],f=Qn(void 0);try{return h?h.get(s,d,l&ot.Optional):$n(s,d,l&ot.Optional)}finally{Qn(f)}}return bl(d,0,l)}function wl(o,s,l,d=ot.Default,h){if(null!==o){if(1024&s[qt]){const y=function Qu(o,s,l,d,h){let f=o,y=s;for(;null!==f&&null!==y&&1024&y[qt]&&!(256&y[qt]);){const w=Yu(f,y,l,d|ot.Self,Ki);if(w!==Ki)return w;let E=f.parent;if(!E){const T=y[hh];if(T){const O=T.get(l,Ki,d);if(O!==Ki)return O}E=Xu(y),y=y[Jo]}f=E}return h}(o,s,l,d,Ki);if(y!==Ki)return y}const f=Yu(o,s,l,d,Ki);if(f!==Ki)return f}return Tc(s,l,d,h)}function Yu(o,s,l,d,h){const f=function xa(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(xn)?o[xn]:void 0;return"number"==typeof s?s>=0?s&yo:Ac:s}(l);if("function"==typeof f){if(!xc(s,o,d))return d&ot.Host?bl(h,0,d):Tc(s,l,d,h);try{const y=f(d);if(null!=y||d&ot.Optional)return y;Ge()}finally{i_()}}else if("number"==typeof f){let y=null,w=Ss(o,s),E=Fr,T=d&ot.Host?s[Fi][Fn]:null;for((-1===w||d&ot.SkipSelf)&&(E=-1===w?as(o,s):s[w+8],E!==Fr&&El(d,!1)?(y=s[Je],w=_l(E),s=os(E,s)):w=-1);-1!==w;){const O=s[Je];if(Sc(f,w,O.data)){const B=Nr(w,s,l,y,d,T);if(B!==Ki)return B}E=s[w+8],E!==Fr&&El(d,s[Je].data[w+8]===T)&&Sc(f,w,s)?(y=O,w=_l(E),s=os(E,s)):w=-1}}return h}function Nr(o,s,l,d,h,f){const y=s[Je],w=y.data[o+8],O=xl(w,y,l,null==d?rl(w)&&yl:d!=y&&0!=(3&w.type),h&ot.Host&&f===w);return null!==O?vo(s,y,O,w):Ki}function xl(o,s,l,d,h){const f=o.providerIndexes,y=s.data,w=1048575&f,E=o.directiveStart,O=f>>20,K=h?w+O:o.directiveEnd;for(let ne=d?w:w+O;ne<K;ne++){const be=y[ne];if(ne<E&&l===be||ne>=E&&be.type===l)return ne}if(h){const ne=y[E];if(ne&&Yr(ne)&&ne.type===l)return E}return null}function vo(o,s,l,d){let h=o[l];const f=s.data;if(function Ku(o){return o instanceof ma}(h)){const y=h;y.resolving&&function Me(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(f[l]));const w=_o(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Qn(y.injectImpl):null;xc(o,d,ot.Default);try{h=o[l]=y.factory(void 0,f,o,d),s.firstCreatePass&&l>=d.directiveStart&&function vh(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(d){const y=aa(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,f))}(l,f[l],s)}finally{null!==E&&Qn(E),_o(w),y.resolving=!1,i_()}}return h}function Sc(o,s,l){return!!(l[s+(o>>Ds)]&1<<o)}function El(o,s){return!(o&ot.Self||o&ot.Host&&s)}class Yi{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return wl(this._tNode,this._lView,s,xt(d),l)}}function Ac(){return new Yi(qn(),Oe())}function Ea(o){return F(()=>{const s=o.prototype.constructor,l=s[St]||Mc(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const f=h[St]||Mc(h);if(f&&f!==l)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function Mc(o){return ze(o)?()=>{const s=Mc(Y(o));return s&&s()}:br(o)}function Xu(o){const s=o[Je],l=s.type;return 2===l?s.declTNode:1===l?o[Fn]:null}function As(o){return function xh(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const f=l[h];if(Dn(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(f===s)return l[h+1];h+=2}}}return null}(qn(),o)}const ls="__parameters__";function cs(o,s,l){return F(()=>{const d=function Ju(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...f){if(this instanceof h)return d.apply(this,f),this;const y=new h(...f);return w.annotation=y,w;function w(E,T,O){const B=E.hasOwnProperty(ls)?E[ls]:Object.defineProperty(E,ls,{value:[]})[ls];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class En{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ho(o,s){o.forEach(l=>Array.isArray(l)?Ho(l,s):s(l))}function Fc(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function ds(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function hs(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function zt(o,s,l){let d=at(o,s);return d>=0?o[1|d]=l:(d=~d,function Ca(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function fs(o,s){const l=at(o,s);if(l>=0)return o[1|l]}function at(o,s){return function _i(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const f=d+(h-d>>1),y=o[f<<l];if(s===y)return f<<l;y>s?h=f:d=f+1}return~(h<<l)}(o,s,1)}const Os=rn(cs("Inject",o=>({token:o})),-1),to=rn(cs("Optional"),8),Ta=rn(cs("SkipSelf"),4);var Er=(()=>((Er=Er||{})[Er.Important=1]="Important",Er[Er.DashCase=2]="DashCase",Er))();const no=new Map;let Op=0;const Rh="__ngContext__";function Ai(o,s){Li(s)?(o[Rh]=s[ys],function kp(o){no.set(o[ys],o)}(s)):o[Rh]=s}let ka;function v(o,s){return ka(o,s)}function g(o){const s=o[vn];return pi(s)?s[vn]:s}function N(o){return Se(o[No])}function te(o){return Se(o[qi])}function Se(o){for(;null!==o&&!pi(o);)o=o[qi];return o}function Ke(o,s,l,d,h){if(null!=d){let f,y=!1;pi(d)?f=d:Li(d)&&(y=!0,d=d[Wr]);const w=Ln(d);0===o&&null!==l?null==h?Gb(s,l,w):Sl(s,l,w,h||null,!0):1===o&&null!==l?Sl(s,l,w,h||null,!0):2===o?function Bh(o,s,l){const d=Uh(o,s);d&&function Lh(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,w,y):3===o&&s.destroyNode(w),null!=f&&function Us(o,s,l,d,h){const f=l[po];f!==Ln(l)&&Ke(s,o,d,f,h);for(let w=Ni;w<l.length;w++){const E=l[w];cd(E[Je],E,o,s,d,f)}}(s,o,f,l,h)}}function io(o,s,l){return o.createElement(s,l)}function sd(o,s){const l=o[Vo],d=l.indexOf(s),h=s[vn];512&s[qt]&&(s[qt]&=-513,da(h,-1)),l.splice(d,1)}function Dl(o,s){if(o.length<=Ni)return;const l=Ni+s,d=o[l];if(d){const h=d[Lo];null!==h&&h!==o&&sd(h,d),s>0&&(o[l-1][qi]=d[qi]);const f=ds(o,Ni+s);!function Ls(o,s){cd(o,s,s[jt],2,null,null),s[Wr]=null,s[Fn]=null}(d[Je],d);const y=f[Jn];null!==y&&y.detachView(f[Je]),d[vn]=null,d[qi]=null,d[qt]&=-65}return d}function Tl(o,s){if(!(128&s[qt])){const l=s[jt];l.destroyNode&&cd(o,s,l,3,null,null),function kh(o){let s=o[No];if(!s)return Hc(o[Je],o);for(;s;){let l=null;if(Li(s))l=s[No];else{const d=s[Ni];d&&(l=d)}if(!l){for(;s&&!s[qi]&&s!==o;)Li(s)&&Hc(s[Je],s),s=s[vn];null===s&&(s=o),Li(s)&&Hc(s[Je],s),l=s&&s[qi]}s=l}}(s)}}function Hc(o,s){if(!(128&s[qt])){s[qt]&=-65,s[qt]|=128,function Ph(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof ma)){const f=l[d+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=h[f[y]],E=f[y+1];fn(4,w,E);try{E.call(w)}finally{fn(5,w,E)}}else{fn(4,h,f);try{f.call(h)}finally{fn(5,h,f)}}}}}(o,s),function Vs(o,s){const l=o.cleanup,d=s[fo];let h=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const y=l[f+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),f+=2}else{const y=d[h=l[f+1]];l[f].call(y)}if(null!==d){for(let f=h+1;f<d.length;f++)(0,d[f])();s[fo]=null}}(o,s),1===s[Je].type&&s[jt].destroy();const l=s[Lo];if(null!==l&&pi(s[vn])){l!==s[vn]&&sd(l,s);const d=s[Jn];null!==d&&d.detachView(o)}!function Bi(o){no.delete(o[ys])}(s)}}function Fh(o,s,l){return function Nh(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[Wr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:f}=o.data[d.directiveStart+h];if(f===k.None||f===k.Emulated)return null}return mi(d,l)}}(o,s.parent,l)}function Sl(o,s,l,d,h){o.insertBefore(s,l,d,h)}function Gb(o,s,l){o.appendChild(s,l)}function ad(o,s,l,d,h){null!==d?Sl(o,s,l,d,h):Gb(o,s,l)}function Uh(o,s){return o.parentNode(s)}function p_(o,s,l){return qb(o,s,l)}let m_,w_,Up,qb=function Gc(o,s,l){return 40&o.type?mi(o,l):null};function Vp(o,s,l,d){const h=Fh(o,d,s),f=s[jt],w=p_(d.parent||s[Fn],d,s);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)ad(f,h,l[E],w,!1);else ad(f,h,l,w,!1);void 0!==m_&&m_(f,d,s,l,h)}function ld(o,s){if(null!==s){const l=s.type;if(3&l)return mi(s,o);if(4&l)return __(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return ld(o,d);{const h=o[s.index];return pi(h)?__(-1,h):Ln(h)}}if(32&l)return v(s,o)()||Ln(o[s.index]);{const d=Wc(o,s);return null!==d?Array.isArray(d)?d[0]:ld(g(o[Fi]),d):ld(o,s.next)}}return null}function Wc(o,s){return null!==s?o[Fi][Fn].projection[s.projection]:null}function __(o,s){const l=Ni+o+1;if(l<s.length){const d=s[l],h=d[Je].firstChild;if(null!==h)return ld(d,h)}return s[po]}function y_(o,s,l,d,h,f,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===s&&(w&&Ai(Ln(w),d),l.flags|=2),32!=(32&l.flags))if(8&E)y_(o,s,l.child,d,h,f,!1),Ke(s,o,h,w,f);else if(32&E){const T=v(l,d);let O;for(;O=T();)Ke(s,o,h,O,f);Ke(s,o,h,w,f)}else 16&E?ud(o,s,d,l,h,f):Ke(s,o,h,w,f);l=y?l.projectionNext:l.next}}function cd(o,s,l,d,h,f){y_(l,d,o.firstChild,s,h,f,!1)}function ud(o,s,l,d,h,f){const y=l[Fi],E=y[Fn].projection[d.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Ke(s,o,h,E[T],f);else y_(o,s,E,y[vn],h,f,!0)}function jh(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function zh(o,s,l){const{mergedAttrs:d,classes:h,styles:f}=l;null!==d&&Is(o,s,d),null!==h&&jh(o,s,h),null!==f&&function qc(o,s,l){o.setAttribute(s,"style",l)}(o,s,f)}function EI(o){w_=o}function Qb(o){return function x_(){if(void 0===Up&&(Up=null,Lt.trustedTypes))try{Up=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Up}()?.createScriptURL(o)||o}class Xb{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Ir(o){return o instanceof Xb?o.changingThisBreaksApplicationSecurity:o}function Bs(o,s){const l=function e0(o){return o instanceof Xb&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${lt})`)}return l===s}const T_=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Mi=(()=>((Mi=Mi||{})[Mi.NONE=0]="NONE",Mi[Mi.HTML=1]="HTML",Mi[Mi.STYLE=2]="STYLE",Mi[Mi.SCRIPT=3]="SCRIPT",Mi[Mi.URL=4]="URL",Mi[Mi.RESOURCE_URL=5]="RESOURCE_URL",Mi))();function Wh(o){const s=Zh();return s?s.sanitize(Mi.URL,o)||"":Bs(o,"URL")?Ir(o):function Gh(o){return(o=String(o)).match(T_)?o:"unsafe:"+o}(Ie(o))}function Eo(o){const s=Zh();if(s)return Qb(s.sanitize(Mi.RESOURCE_URL,o)||"");if(Bs(o,"ResourceURL"))return Qb(Ir(o));throw new ge(904,!1)}function k_(o,s,l){return function LI(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Eo:Wh}(s,l)(o)}function Zh(){const o=Oe();return o&&o[il]}const Al=new En("ENVIRONMENT_INITIALIZER"),fd=new En("INJECTOR",-1),c0=new En("INJECTOR_DEF_TYPES");class u0{get(s,l=Pn){if(l===Pn){const d=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw d.name="NullInjectorError",d}return l}}function Kh(...o){return{\u0275providers:d0(0,o),\u0275fromNgModule:!0}}function d0(o,...s){const l=[],d=new Set;let h;return Ho(s,f=>{const y=f;F_(y,l,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&h0(h,l),l}function h0(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];N_(h,f=>{s.push(f)})}}function F_(o,s,l,d){if(!(o=Y(o)))return!1;let h=null,f=zn(o);const y=!f&&cn(o);if(f||y){if(y&&!y.standalone)return!1;h=o}else{const E=o.ngModule;if(f=zn(E),!f)return!1;h=E}const w=d.has(h);if(y){if(w)return!1;if(d.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of E)F_(T,s,l,d)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let T;d.add(h);try{Ho(f.imports,O=>{F_(O,s,l,d)&&(T||(T=[]),T.push(O))})}finally{}void 0!==T&&h0(T,s)}if(!w){const T=br(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:ue},{provide:c0,useValue:h,multi:!0},{provide:Al,useValue:()=>$e(h),multi:!0})}const E=f.providers;null==E||w||N_(E,O=>{s.push(O)})}}return h!==o&&void 0!==o.providers}function N_(o,s){for(let l of o)Ae(l)&&(l=l.\u0275providers),Array.isArray(l)?N_(l,s):s(l)}const VI=re({provide:String,useValue:re});function f0(o){return null!==o&&"object"==typeof o&&VI in o}function js(o){return"function"==typeof o}const L_=new En("Set Injector scope."),Wp={},UI={};let V_;function qp(){return void 0===V_&&(V_=new u0),V_}class Zc{}class m0 extends Zc{get destroyed(){return this._destroyed}constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,j_(s,y=>this.processProvider(y)),this.records.set(fd,Ml(void 0,this)),h.has("environment")&&this.records.set(Zc,Ml(void 0,this));const f=this.records.get(L_);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(c0.multi,ue,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=Hi(this),d=Qn(void 0);try{return s()}finally{Hi(l),Qn(d)}}get(s,l=Pn,d=ot.Default){this.assertNotDestroyed(),d=xt(d);const h=Hi(this),f=Qn(void 0);try{if(!(d&ot.SkipSelf)){let w=this.records.get(s);if(void 0===w){const E=function Zp(o){return"function"==typeof o||"object"==typeof o&&o instanceof En}(s)&&_n(s);w=E&&this.injectableDefInScope(E)?Ml(U_(s),Wp):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(d&ot.Self?qp():this.parent).get(s,l=d&ot.Optional&&l===Pn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Ei]=y[Ei]||[]).unshift(he(s)),h)throw y;return function H(o,s,l,d){const h=o[Ei];throw s[Mr]&&h.unshift(s[Mr]),o.message=function $(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Gt?o.slice(2):o;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):he(w)))}h=`{${f.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ar,"\n  ")}`}("\n"+o.message,h,l,d),o[ci]=h,o[Ei]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{Qn(f),Hi(h)}}resolveInjectorInitializers(){const s=Hi(this),l=Qn(void 0);try{const d=this.get(Al.multi,ue,ot.Self);for(const h of d)h()}finally{Hi(s),Qn(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(he(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(s){let l=js(s=Y(s))?s:Y(s&&s.provide);const d=function g0(o){return f0(o)?Ml(void 0,o.useValue):Ml(_0(o),Wp)}(s);if(js(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ml(void 0,Wp,!0),h.factory=()=>Ot(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Wp&&(l.value=UI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function B_(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Y(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function U_(o){const s=_n(o),l=null!==s?s.factory:br(o);if(null!==l)return l;if(o instanceof En)throw new ge(204,!1);if(o instanceof Function)return function BI(o){const s=o.length;if(s>0)throw hs(s,"?"),new ge(204,!1);const l=function $i(o){const s=o&&(o[_r]||o[wn]);return s?(function Gr(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),s):null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ge(204,!1)}function _0(o,s,l){let d;if(js(o)){const h=Y(o);return br(h)||U_(h)}if(f0(o))d=()=>Y(o.useValue);else if(function Gp(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Ot(o.deps||[]));else if(function p0(o){return!(!o||!o.useExisting)}(o))d=()=>$e(Y(o.useExisting));else{const h=Y(o&&(o.useClass||o.provide));if(!function y0(o){return!!o.deps}(o))return br(h)||U_(h);d=()=>new h(...Ot(o.deps))}return d}function Ml(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function j_(o,s){for(const l of o)Array.isArray(l)?j_(l,s):l&&Ae(l)?j_(l.\u0275providers,s):s(l)}class jI{}class v0{}class b0{resolveComponentFactory(s){throw function zI(o){const s=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Rl=(()=>{class o{}return o.NULL=new b0,o})();function Kp(){return Kc(qn(),Oe())}function Kc(o,s){return new La(mi(o,s))}let La=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Kp,o})();function w0(o){return o instanceof La?o.nativeElement:o}class x0{}let HI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function GI(){const o=Oe(),l=Di(qn().index,o);return(Li(l)?l:o)[jt]}(),o})(),WI=(()=>{class o{}return o.\u0275prov=nt({token:o,providedIn:"root",factory:()=>null}),o})();class E0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const z_=new E0("15.2.5"),$_={},H_="ngOriginalError";function G_(o){return o[H_]}class Qh{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&G_(s);for(;l&&G_(l);)l=G_(l);return l||null}}function zs(o){return o instanceof Function?o():o}function W_(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const f=s.length;if(h+f===d||o.charCodeAt(h+f)<=32)return h}l=h+1}}const Yp="ng-template";function S0(o,s,l){let d=0,h=!0;for(;d<o.length;){let f=o[d++];if("string"==typeof f&&h){const y=o[d++];if(l&&"class"===f&&-1!==W_(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function Qc(o){return 4===o.type&&o.value!==Yp}function q_(o,s,l){return s===(4!==o.type||l?o.value:Yp)}function JI(o,s,l){let d=4;const h=o.attrs||[],f=function M0(o){for(let s=0;s<o.length;s++)if(Dn(o[s]))return s;return o.length}(h);let y=!1;for(let w=0;w<s.length;w++){const E=s[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!q_(o,E,l)||""===E&&1===s.length){if(Wo(d))return!1;y=!0}}else{const T=8&d?E:s[++w];if(8&d&&null!==o.attrs){if(!S0(o.attrs,T,l)){if(Wo(d))return!1;y=!0}continue}const B=Qp(8&d?"class":E,h,Qc(o),l);if(-1===B){if(Wo(d))return!1;y=!0;continue}if(""!==T){let K;K=B>f?"":h[B+1].toLowerCase();const ne=8&d?K:null;if(ne&&-1!==W_(ne,T,0)||2&d&&T!==K){if(Wo(d))return!1;y=!0}}}}else{if(!y&&!Wo(d)&&!Wo(E))return!1;if(y&&Wo(E))continue;y=!1,d=E|1&d}}return Wo(d)||y}function Wo(o){return 0==(1&o)}function Qp(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let f=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function eC(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function Xh(o,s,l=!1){for(let d=0;d<s.length;d++)if(JI(o,s[d],l))return!0;return!1}function tC(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function R0(o,s){return o?":not("+s.trim()+")":s}function nC(o){let s=o[0],l=1,d=2,h="",f=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&d){const w=o[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Wo(y)&&(s+=R0(f,h),h=""),d=y,f=f||!Wo(d);l++}return""!==h&&(s+=R0(f,h)),s}const Xt={};function O0(o){Jp(on(),Oe(),Zi()+o,!1)}function Jp(o,s,l,d){if(!d)if(3==(3&s[qt])){const f=o.preOrderCheckHooks;null!==f&&fa(s,f,l)}else{const f=o.preOrderHooks;null!==f&&Es(s,f,0,l)}zo(l)}function Z_(o,s=null,l=null,d){const h=sC(o,s,l,d);return h.resolveInjectorInitializers(),h}function sC(o,s=null,l=null,d,h=new Set){const f=[l||ue,Kh(o)];return d=d||("object"==typeof o?void 0:he(o)),new m0(f,s||qp(),d||null,h)}let md=(()=>{class o{static create(l,d){if(Array.isArray(l))return Z_({name:""},d,l,"");{const h=l.name??"";return Z_({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=Pn,o.NULL=new u0,o.\u0275prov=nt({token:o,providedIn:"any",factory:()=>$e(fd)}),o.__NG_ELEMENT_ID__=-1,o})();function _d(o,s=ot.Default){const l=Oe();return null===l?$e(o,s):wl(qn(),l,Y(o),s)}function z0(){throw new Error("invalid")}function $0(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d+1];if(-1!==f){const y=o.data[f];pl(l[d]),y.contentQueries(2,s[f],f)}}}function X_(o,s,l,d,h,f,y,w,E,T,O){const B=s.blueprint.slice();return B[Wr]=h,B[qt]=76|d,(null!==O||o&&1024&o[qt])&&(B[qt]|=1024),ll(B),B[vn]=B[Jo]=o,B[Nn]=l,B[oc]=y||o&&o[oc],B[jt]=w||o&&o[jt],B[il]=E||o&&o[il]||null,B[Rr]=T||o&&o[Rr]||null,B[Fn]=f,B[ys]=function rd(){return Op++}(),B[hh]=O,B[Fi]=2==s.type?o[Fi]:B,B}function Xc(o,s,l,d,h){let f=o.data[s];if(null===f)f=function Ht(o,s,l,d,h){const f=gh(),y=ul(),E=o.data[s]=function Vr(o,s,l,d,h,f){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=E),null!==f&&(y?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E,E.prev=f)),E}(o,s,l,d,h),function fl(){return Vt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=l,f.value=d,f.attrs=h;const y=function jo(){const o=Vt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return kr(f,!0),f}function ur(o,s,l,d){if(0===l)return-1;const h=s.length;for(let f=0;f<l;f++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function $s(o,s,l){Wu(s);try{const d=o.viewQuery;null!==d&&rf(1,d,l);const h=o.template;null!==h&&J_(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&$0(o,s),o.staticViewQueries&&rf(2,o.viewQuery,l);const f=o.components;null!==f&&function mC(o,s){for(let l=0;l<s.length;l++)EC(o,s[l])}(s,f)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[qt]&=-5,yh()}}function Ua(o,s,l,d){const h=s[qt];if(128!=(128&h)){Wu(s);try{ll(s),function yc(o){return Vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&J_(o,s,l,2,d);const y=3==(3&h);if(y){const T=o.preOrderCheckHooks;null!==T&&fa(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Es(s,T,0,null),pa(s,0)}if(function xC(o){for(let s=N(o);null!==s;s=te(s)){if(!s[Nu])continue;const l=s[Vo];for(let d=0;d<l.length;d++){const h=l[d];512&h[qt]||da(h[vn],1),h[qt]|=512}}}(s),function wC(o){for(let s=N(o);null!==s;s=te(s))for(let l=Ni;l<s.length;l++){const d=s[l],h=d[Je];is(d)&&Ua(h,d,h.template,d[Nn])}}(s),null!==o.contentQueries&&$0(o,s),y){const T=o.contentCheckHooks;null!==T&&fa(s,T)}else{const T=o.contentHooks;null!==T&&Es(s,T,1),pa(s,1)}!function pC(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)zo(~h);else{const f=h,y=l[++d],w=l[++d];bc(y,f),w(2,s[f])}}}finally{zo(-1)}}(o,s);const w=o.components;null!==w&&function H0(o,s){for(let l=0;l<s.length;l++)Q0(o,s[l])}(s,w);const E=o.viewQuery;if(null!==E&&rf(2,E,d),y){const T=o.viewCheckHooks;null!==T&&fa(s,T)}else{const T=o.viewHooks;null!==T&&Es(s,T,2),pa(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[qt]&=-41,512&s[qt]&&(s[qt]&=-513,da(s[vn],-1))}finally{yh()}}}function J_(o,s,l,d,h){const f=Zi(),y=2&d;try{zo(-1),y&&s.length>Ut&&Jp(o,s,Ut,!1),fn(y?2:0,h),l(d,h)}finally{zo(f),fn(y?3:1,h)}}function yd(o,s,l){if(sc(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=o.data[f];y.contentQueries&&y.contentQueries(1,l[f],f)}}}function ey(o,s,l){zu()&&(function _M(o,s,l,d){const h=l.directiveStart,f=l.directiveEnd;rl(l)&&function bC(o,s,l){const d=mi(s,o),h=G0(l),f=o[oc],y=sm(o,X_(o,h,null,l.onPush?32:16,d,s,f,f.createRenderer(d,l),null,null,null));o[s.index]=y}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||ss(l,s),Ai(d,s);const y=l.initialInputs;for(let w=h;w<f;w++){const E=o.data[w],T=vo(s,o,w,l);Ai(T,s),null!==y&&om(0,w-h,T,E,0,y),Yr(E)&&(Di(l.index,s)[Nn]=vo(s,o,w,l))}}(o,s,l,mi(l,s)),64==(64&l.flags)&&yC(o,s,l))}function ty(o,s,l=mi){const d=s.localNames;if(null!==d){let h=s.index+1;for(let f=0;f<d.length;f+=2){const y=d[f+1],w=-1===y?l(s,o):o[y];o[h++]=w}}}function G0(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=im(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function im(o,s,l,d,h,f,y,w,E,T){const O=Ut+d,B=O+h,K=function W0(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:Xt);return l}(O,B),ne="function"==typeof T?T():T;return K[Je]={type:o,blueprint:K,template:l,queries:null,viewQuery:w,declTNode:s,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:ne,incompleteFirstPass:!1}}function un(o,s,l,d){const h=am(s);null===l?h.push(d):(h.push(l),o.firstCreatePass&&lm(o).push(d,h.length-1))}function Ba(o,s,l,d){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const f=o[h];null===d?Jc(l,s,h,f):d.hasOwnProperty(h)&&Jc(l,s,d[h],f)}return l}function Jc(o,s,l,d){o.hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}function Co(o,s,l,d,h,f,y,w){const E=mi(s,l);let O,T=s.inputs;!w&&null!=T&&(O=T[d])?(uy(o,l,O,d,h),rl(s)&&rm(l,s.index)):3&s.type&&(d=function pM(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,s.value||"",d):h,f.setProperty(E,d,h))}function rm(o,s){const l=Di(s,o);16&l[qt]||(l[qt]|=32)}function ry(o,s,l,d){if(zu()){const h=null===d?null:{"":-1},f=function yM(o,s){const l=o.directiveRegistry;let d=null,h=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];if(Xh(s,y.selectors,!1))if(d||(d=[]),Yr(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),d.unshift(...w,y),Z0(o,s,w.length)}else d.unshift(y),Z0(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,l);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&q0(o,s,l,y,h,w),h&&function vM(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const f=l[s[h+1]];if(null==f)throw new ge(-301,!1);d.push(s[h],f)}}}(l,d,h)}l.mergedAttrs=eo(l.mergedAttrs,l.attrs)}function q0(o,s,l,d,h,f){for(let T=0;T<d.length;T++)wa(ss(l,s),o,d[T].type);!function oy(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,d.length);for(let T=0;T<d.length;T++){const O=d[T];O.providersResolver&&O.providersResolver(O)}let y=!1,w=!1,E=ur(o,s,d.length,null);for(let T=0;T<d.length;T++){const O=d[T];l.mergedAttrs=eo(l.mergedAttrs,O.hostAttrs),K0(o,l,s,E,O),_e(E,O,h),null!==O.contentQueries&&(l.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=64);const B=O.type.prototype;!y&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),y=!0),!w&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),w=!0),E++}!function iy(o,s,l){const h=s.directiveEnd,f=o.data,y=s.attrs,w=[];let E=null,T=null;for(let O=s.directiveStart;O<h;O++){const B=f[O],K=l?l.get(B):null,be=K?K.outputs:null;E=Ba(B.inputs,O,E,K?K.inputs:null),T=Ba(B.outputs,O,T,be);const Be=null===E||null===y||Qc(s)?null:ay(E,O,y);w.push(Be)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=E,s.outputs=T}(o,l,f)}function yC(o,s,l){const d=l.directiveStart,h=l.directiveEnd,f=l.index,y=function _h(){return Vt.lFrame.currentDirectiveIndex}();try{zo(f);for(let w=d;w<h;w++){const E=o.data[w],T=s[w];go(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&vC(E,T)}}finally{zo(-1),go(y)}}function vC(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Z0(o,s,l){s.componentOffset=l,(o.components||(o.components=[])).push(s.index)}function _e(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;Yr(s)&&(l[""]=o)}}function K0(o,s,l,d,h){o.data[d]=h;const f=h.factory||(h.factory=br(h.type)),y=new ma(f,Yr(h),_d);o.blueprint[d]=y,l[d]=y,function _C(o,s,l,d,h){const f=h.hostBindings;if(f){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const w=~s.index;(function gM(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(y)!=w&&y.push(w),y.push(l,d,f)}}(o,s,d,ur(o,l,h.hostVars,Xt),h)}function On(o,s,l,d,h,f){const y=mi(o,s);!function sy(o,s,l,d,h,f,y){if(null==f)o.removeAttribute(s,h,l);else{const w=null==y?Ie(f):y(f,d||"",h);o.setAttribute(s,h,w,l)}}(s[jt],y,f,o.value,l,d,h)}function om(o,s,l,d,h,f){const y=f[s];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const T=y[E++],O=y[E++],B=y[E++];null!==w?d.setInput(l,B,T,O):l[O]=B}}}function ay(o,s,l){let d=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(o.hasOwnProperty(f)){null===d&&(d=[]);const y=o[f];for(let w=0;w<y.length;w+=2)if(y[w]===s){d.push(f,y[w+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Y0(o,s,l,d){return[o,!0,!1,s,null,0,d,l,null,null]}function Q0(o,s){const l=Di(s,o);if(is(l)){const d=l[Je];48&l[qt]?Ua(d,l,d.template,l[Nn]):l[ho]>0&&ly(l)}}function ly(o){for(let d=N(o);null!==d;d=te(d))for(let h=Ni;h<d.length;h++){const f=d[h];if(is(f))if(512&f[qt]){const y=f[Je];Ua(y,f,y.template,f[Nn])}else f[ho]>0&&ly(f)}const l=o[Je].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Di(l[d],o);is(h)&&h[ho]>0&&ly(h)}}function EC(o,s){const l=Di(s,o),d=l[Je];(function IC(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])})(d,l),$s(d,l,l[Nn])}function sm(o,s){return o[No]?o[ia][qi]=s:o[No]=s,o[ia]=s,s}function dr(o){for(;o;){o[qt]|=32;const s=g(o);if(oa(o)&&!s)return o;o=s}return null}function eu(o,s,l,d=!0){const h=s[oc];h.begin&&h.begin();try{Ua(o,s,o.template,l)}catch(y){throw d&&J0(s,y),y}finally{h.end&&h.end()}}function rf(o,s,l){pl(0),s(o,l)}function am(o){return o[fo]||(o[fo]=[])}function lm(o){return o.cleanup||(o.cleanup=[])}function J0(o,s){const l=o[Rr],d=l?l.get(Qh,null):null;d&&d.handleError(s)}function uy(o,s,l,d,h){for(let f=0;f<l.length;){const y=l[f++],w=l[f++],E=s[y],T=o.data[y];null!==T.setInput?T.setInput(E,h,d,w):E[w]=h}}function ja(o,s,l){const d=Bo(s,o);!function Qt(o,s,l){o.setValue(s,l)}(o[jt],d,l)}function cm(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:1==f?h=pe(h,w):2==f&&(d=pe(d,w+": "+s[++y]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function Ol(o,s,l,d,h=!1){for(;null!==l;){const f=s[l.index];if(null!==f&&d.push(Ln(f)),pi(f))for(let w=Ni;w<f.length;w++){const E=f[w],T=E[Je].firstChild;null!==T&&Ol(E[Je],E,T,d)}const y=l.type;if(8&y)Ol(o,s,l.child,d);else if(32&y){const w=v(l,s);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Wc(s,l);if(Array.isArray(w))d.push(...w);else{const E=g(s[Fi]);Ol(E[Je],E,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class vd{get rootNodes(){const s=this._lView,l=s[Je];return Ol(l,s,l.firstChild,[])}constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(s){this._lView[Nn]=s}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[vn];if(pi(s)){const l=s[Zr],d=l?l.indexOf(this):-1;d>-1&&(Dl(s,d),ds(l,d))}this._attachedToViewContainer=!1}Tl(this._lView[Je],this._lView)}onDestroy(s){un(this._lView[Je],this._lView,null,s)}markForCheck(){dr(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){eu(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fp(o,s){cd(o,s,s[jt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=s}}class um extends vd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;eu(s[Je],s,s[Nn],!1)}checkNoChanges(){}get context(){return null}}class dy extends Rl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=cn(s);return new sf(l,this.ngModule)}}function ew(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class TC{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=xt(d);const h=this.injector.get(s,$_,d);return h!==$_||l===$_?h:this.parentInjector.get(s,l,d)}}class sf extends v0{get inputs(){return ew(this.componentDef.inputs)}get outputs(){return ew(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function iC(o){return o.map(nC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,d,h){let f=(h=h||this.ngModule)instanceof Zc?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new TC(s,f):s,w=y.get(x0,null);if(null===w)throw new ge(407,!1);const E=y.get(WI,null),T=w.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=d?function ny(o,s,l){return o.selectRootElement(s,l===k.ShadowDom)}(T,d,this.componentDef.encapsulation):io(T,O,function DC(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(O)),K=this.componentDef.onPush?288:272,ne=im(0,null,null,1,0,null,null,null,null,null),be=X_(null,ne,null,K,null,null,w,T,E,y,null);let Be,Xe;Wu(be);try{const dt=this.componentDef;let Ft,Le=null;dt.findHostDirectiveDefs?(Ft=[],Le=new Map,dt.findHostDirectiveDefs(dt,Ft,Le),Ft.push(dt)):Ft=[dt];const Zt=function iw(o,s){const l=o[Je],d=Ut;return o[d]=s,Xc(l,d,2,"#host",null)}(be,B),Sn=function hy(o,s,l,d,h,f,y,w){const E=h[Je];!function rw(o,s,l,d){for(const h of o)s.mergedAttrs=eo(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(cm(s,s.mergedAttrs,!0),null!==l&&zh(d,l,s))}(d,o,s,y);const T=f.createRenderer(s,l),O=X_(h,G0(l),null,l.onPush?32:16,h[o.index],o,f,T,w||null,null,null);return E.firstCreatePass&&Z0(E,o,d.length-1),sm(h,O),h[o.index]=O}(Zt,B,dt,Ft,be,w,T);Xe=ua(ne,Ut),B&&function SC(o,s,l,d){if(d)Is(o,l,["ng-version",z_.full]);else{const{attrs:h,classes:f}=function Xp(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let f=o[d];if("string"==typeof f)2===h?""!==f&&s.push(f,o[++d]):8===h&&l.push(f);else{if(!Wo(h))break;h=f}d++}return{attrs:s,classes:l}}(s.selectors[0]);h&&Is(o,l,h),f&&f.length>0&&jh(o,l,f.join(" "))}}(T,dt,B,d),void 0!==l&&function fy(o,s,l){const d=o.projection=[];for(let h=0;h<s.length;h++){const f=l[h];d.push(null!=f?Array.from(f):null)}}(Xe,this.ngContentSelectors,l),Be=function af(o,s,l,d,h,f){const y=qn(),w=h[Je],E=mi(y,h);q0(w,h,y,l,null,d);for(let O=0;O<l.length;O++)Ai(vo(h,w,y.directiveStart+O,y),h);yC(w,h,y),E&&Ai(E,h);const T=vo(h,w,y.directiveStart+y.componentOffset,y);if(o[Nn]=h[Nn]=T,null!==f)for(const O of f)O(T,s);return yd(w,y,o),T}(Sn,dt,Ft,Le,be,[py]),$s(ne,be,null)}finally{yh()}return new tw(this.componentType,Be,Kc(Xe,be),be,Xe)}}class tw extends jI{constructor(s,l,d,h,f){super(),this.location=d,this._rootLView=h,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new um(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const f=this._rootLView;uy(f[Je],f,h,s,l),rm(f,this._tNode.index)}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function py(){const o=qn();Ic(Oe()[Je],o)}function lf(o){let s=function ow(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(Yr(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ge(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const y=o;y.inputs=dm(o.inputs),y.declaredInputs=dm(o.declaredInputs),y.outputs=dm(o.outputs);const w=h.hostBindings;w&&MC(o,w);const E=h.viewQuery,T=h.contentQueries;if(E&&my(o,E),T&&AC(o,T),ye(o.inputs,h.inputs),ye(o.declaredInputs,h.declaredInputs),ye(o.outputs,h.outputs),Yr(h)&&h.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(o),w===lf&&(l=!1)}}s=Object.getPrototypeOf(s)}!function sw(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=eo(h.hostAttrs,l=eo(l,h.hostAttrs))}}(d)}function dm(o){return o===J?{}:o===ue?[]:o}function my(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function AC(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,f)=>{s(d,h,f),l(d,h,f)}:s}function MC(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}function pm(o){return!!vy(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function vy(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Hs(o,s,l){return o[s]=l}function Cr(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function nu(o,s,l,d){const h=Cr(o,s,l);return Cr(o,s+1,d)||h}function mm(o,s,l,d){const h=Oe();return Cr(h,rs(),s)&&(on(),On(yn(),h,o,s,l,d)),mm}function bd(o,s,l,d){return Cr(o,rs(),l)?s+Ie(l)+d:Xt}function wd(o,s,l,d,h,f){const w=nu(o,function Vi(){return Vt.lFrame.bindingIndex}(),l,h);return Jr(2),w?s+Ie(l)+d+Ie(h)+f:Xt}function cu(o,s,l,d,h,f,y,w){const E=Oe(),T=on(),O=o+Ut,B=T.firstCreatePass?function wy(o,s,l,d,h,f,y,w,E){const T=s.consts,O=Xc(s,o,4,y||null,Or(T,w));ry(s,l,O,Or(T,E)),Ic(s,O);const B=O.tView=im(2,O,d,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,O),B.queries=s.queries.embeddedTView(O)),O}(O,T,E,s,l,d,h,f,y):T.data[O];kr(B,!1);const K=E[jt].createComment("");Vp(T,E,K,B),Ai(K,E),sm(E,E[O]=Y0(K,E,K,B)),Kr(B)&&ey(T,E,B),null!=y&&ty(E,B,w)}function _m(o){return wr(function hl(){return Vt.lFrame.contextLView}(),Ut+o)}function dw(o,s,l){const d=Oe();return Cr(d,rs(),s)&&Co(on(),yn(),d,o,s,d[jt],l,!1),dw}function xy(o,s,l,d,h){const y=h?"class":"style";uy(o,l,s.inputs[y],y,d)}function ym(o,s,l,d){const h=Oe(),f=on(),y=Ut+o,w=h[jt],E=f.firstCreatePass?function wM(o,s,l,d,h,f){const y=s.consts,E=Xc(s,o,2,d,Or(y,h));return ry(s,l,E,Or(y,f)),null!==E.attrs&&cm(E,E.attrs,!1),null!==E.mergedAttrs&&cm(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(y,f,h,s,l,d):f.data[y],T=h[y]=io(w,s,function r_(){return Vt.lFrame.currentNamespace}()),O=Kr(E);return kr(E,!0),zh(w,T,E),32!=(32&E.flags)&&Vp(f,h,T,E),0===function pc(){return Vt.lFrame.elementDepthCount}()&&Ai(T,h),function mc(){Vt.lFrame.elementDepthCount++}(),O&&(ey(f,h,E),yd(f,E,h)),null!==d&&ty(h,E),ym}function vm(){let o=qn();ul()?dl():(o=o.parent,kr(o,!1));const s=o;!function gc(){Vt.lFrame.elementDepthCount--}();const l=on();return l.firstCreatePass&&(Ic(l,o),sc(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Cc(o){return 0!=(8&o.flags)}(s)&&xy(l,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ga(o){return 0!=(16&o.flags)}(s)&&xy(l,s,Oe(),s.stylesWithoutHost,!1),vm}function hw(o,s,l,d){return ym(o,s,l,d),vm(),hw}function bm(o,s,l){const d=Oe(),h=on(),f=o+Ut,y=h.firstCreatePass?function xM(o,s,l,d,h){const f=s.consts,y=Or(f,d),w=Xc(s,o,8,"ng-container",y);return null!==y&&cm(w,y,!0),ry(s,l,w,Or(f,h)),null!==s.queries&&s.queries.elementStart(s,w),w}(f,h,d,s,l):h.data[f];kr(y,!0);const w=d[f]=d[jt].createComment("");return Vp(h,d,w,y),Ai(w,d),Kr(y)&&(ey(h,d,y),yd(h,y,d)),null!=l&&ty(d,y),bm}function Ey(){let o=qn();const s=on();return ul()?dl():(o=o.parent,kr(o,!1)),s.firstCreatePass&&(Ic(s,o),sc(o)&&s.queries.elementEnd(o)),Ey}function $C(){return Oe()}function fw(o){return!!o&&"function"==typeof o.then}function HC(o){return!!o&&"function"==typeof o.subscribe}const GC=HC;function Iy(o,s,l,d){const h=Oe(),f=on(),y=qn();return function Dy(o,s,l,d,h,f,y){const w=Kr(d),T=o.firstCreatePass&&lm(o),O=s[Nn],B=am(s);let K=!0;if(3&d.type||y){const Be=mi(d,s),Xe=y?y(Be):Be,dt=B.length,Ft=y?Zt=>y(Ln(Zt[d.index])):d.index;let Le=null;if(!y&&w&&(Le=function pw(o,s,l,d){const h=o.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===l&&h[f+1]===d){const w=s[fo],E=h[f+2];return w.length>E?w[E]:null}"string"==typeof y&&(f+=2)}return null}(o,s,h,d.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=f,Le.__ngLastListenerFn__=f,K=!1;else{f=Sy(d,s,O,f,!1);const Zt=l.listen(Xe,h,f);B.push(f,Zt),T&&T.push(h,Ft,dt,dt+1)}}else f=Sy(d,s,O,f,!1);const ne=d.outputs;let be;if(K&&null!==ne&&(be=ne[h])){const Be=be.length;if(Be)for(let Xe=0;Xe<Be;Xe+=2){const Sn=s[be[Xe]][be[Xe+1]].subscribe(f),oi=B.length;B.push(f,Sn),T&&T.push(h,d.index,oi,-(oi+1))}}}(f,h,h[jt],y,o,s,d),Iy}function Ty(o,s,l,d){try{return fn(6,s,l),!1!==l(d)}catch(h){return J0(o,h),!1}finally{fn(7,s,l)}}function Sy(o,s,l,d,h){return function f(y){if(y===Function)return d;dr(o.componentOffset>-1?Di(o.index,s):s);let E=Ty(s,l,d,y),T=f.__ngNextListenerFn__;for(;T;)E=Ty(s,l,T,y)&&E,T=T.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Ay(o=1){return function qu(o){return(Vt.lFrame.contextLView=function Cp(o,s){for(;o>0;)s=s[Jo],o--;return s}(o,Vt.lFrame.contextLView))[Nn]}(o)}function mw(o,s){let l=null;const d=function A0(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const f=s[h];if("*"!==f){if(null===d?Xh(o,f,!0):tC(d,f))return h}else l=h}return l}function wm(o){const s=Oe()[Fi][Fn];if(!s.projection){const d=s.projection=hs(o?o.length:1,null),h=d.slice();let f=s.child;for(;null!==f;){const y=o?mw(f,o):0;null!==y&&(h[y]?h[y].projectionNext=f:d[y]=f,h[y]=f),f=f.next}}}function WC(o,s=0,l){const d=Oe(),h=on(),f=Xc(h,Ut+o,16,null,l||null);null===f.projection&&(f.projection=s),dl(),32!=(32&f.flags)&&function Zb(o,s,l){ud(s[jt],0,s,l,Fh(o,l,s),p_(l.parent||s[Fn],l,s))}(h,d,f)}function Ed(o,s,l){return Id(o,"",s,"",l),Ed}function Id(o,s,l,d,h){const f=Oe(),y=bd(f,s,l,d);return y!==Xt&&Co(on(),yn(),f,o,y,f[jt],h,!1),Id}function Cd(o,s){return o<<17|s<<2}function Pt(o){return o>>17&32767}function uu(o){return 2|o}function du(o){return(131068&o)>>2}function uf(o,s){return-131069&o|s<<2}function Ry(o){return 1|o}function za(o,s,l,d,h){const f=o[l+1],y=null===s;let w=d?Pt(f):du(f),E=!1;for(;0!==w&&(!1===E||y);){const O=o[w+1];KC(o[w],s)&&(E=!0,o[w+1]=d?Ry(O):uu(O)),w=d?Pt(O):du(O)}E&&(o[l+1]=d?uu(f):Ry(f))}function KC(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&at(o,s)>=0}function df(o,s,l){return To(o,s,l,!1),df}function Am(o,s){return To(o,s,null,!0),Am}function To(o,s,l,d){const h=Oe(),f=on(),y=Jr(2);f.firstUpdatePass&&function Iw(o,s,l,d){const h=o.data;if(null===h[l+1]){const f=h[Zi()],y=function Ew(o,s){return s>=o.expandoStartIndex}(o,l);(function pf(o,s){return 0!=(o.flags&(s?8:16))})(f,d)&&null===s&&!y&&(s=!1),s=function Py(o,s,l,d){const h=function wc(o){const s=Vt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let f=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=Ha(l=Fy(null,o,s,l,d),s.attrs,d),f=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(l=Fy(h,o,s,l,d),null===f){let E=function Cw(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==du(d))return o[Pt(d)]}(o,s,d);void 0!==E&&Array.isArray(E)&&(E=Fy(null,o,s,E[1],d),E=Ha(E,s.attrs,d),function XC(o,s,l,d){o[Pt(l?s.classBindings:s.styleBindings)]=d}(o,s,d,E))}else f=function hf(o,s,l){let d;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)d=Ha(d,o[f].hostAttrs,l);return Ha(d,s.attrs,l)}(o,s,d)}return void 0!==f&&(d?s.residualClasses=f:s.residualStyles=f),l}(h,f,s,d),function Cm(o,s,l,d,h,f){let y=f?s.classBindings:s.styleBindings,w=Pt(y),E=du(y);o[d]=l;let O,T=!1;if(Array.isArray(l)?(O=l[1],(null===O||at(l,O)>0)&&(T=!0)):O=l,h)if(0!==E){const K=Pt(o[w+1]);o[d+1]=Cd(K,w),0!==K&&(o[K+1]=uf(o[K+1],d)),o[w+1]=function Im(o,s){return 131071&o|s<<17}(o[w+1],d)}else o[d+1]=Cd(w,0),0!==w&&(o[w+1]=uf(o[w+1],d)),w=d;else o[d+1]=Cd(E,0),0===w?w=d:o[E+1]=uf(o[E+1],d),E=d;T&&(o[d+1]=uu(o[d+1])),za(o,O,d,!0),za(o,O,d,!1),function hr(o,s,l,d,h){const f=h?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof s&&at(f,s)>=0&&(l[d+1]=Ry(l[d+1]))}(s,O,o,d,f),y=Cd(w,E),f?s.classBindings=y:s.styleBindings=y}(h,f,s,l,y,d)}}(f,o,y,d),s!==Xt&&Cr(h,y,s)&&function Om(o,s,l,d,h,f,y,w){if(!(3&s.type))return;const E=o.data,T=E[w+1],O=function ZC(o){return 1==(1&o)}(T)?Ny(E,s,l,h,du(T),y):void 0;ff(O)||(ff(f)||function Em(o){return 2==(2&o)}(T)&&(f=Ny(E,null,l,h,w,y)),function v_(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let f=-1===d.indexOf("-")?void 0:Er.DashCase;null==h?o.removeStyle(l,d,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=Er.Important),o.setStyle(l,d,h,f))}}(d,y,Bo(Zi(),l),h,f))}(f,f.data[Zi()],h,h[jt],o,h[y+1]=function Tw(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=he(Ir(o)))),o}(s,l),d,y)}function Fy(o,s,l,d,h){let f=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(f=s[w],d=Ha(d,f.hostAttrs,h),f!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function Ha(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zt(o,y,!!l||s[++f]))}return void 0===o?null:o}function Ny(o,s,l,d,h,f){const y=null===s;let w;for(;h>0;){const E=o[h],T=Array.isArray(E),O=T?E[1]:E,B=null===O;let K=l[h+1];K===Xt&&(K=B?ue:void 0);let ne=B?fs(K,d):O===d?K:void 0;if(T&&!ff(ne)&&(ne=fs(E,d)),ff(ne)&&(w=ne,y))return w;const be=o[h+1];h=y?Pt(be):du(be)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(w=fs(E,d))}return w}function ff(o){return void 0!==o}function km(o,s=""){const l=Oe(),d=on(),h=o+Ut,f=d.firstCreatePass?Xc(d,h,1,s,null):d.data[h],y=l[h]=function _t(o,s){return o.createText(s)}(l[jt],s);Vp(d,l,y,f),kr(f,!1)}function mf(o){return Dd("",o,""),mf}function Dd(o,s,l){const d=Oe(),h=bd(d,o,s,l);return h!==Xt&&ja(d,Zi(),h),Dd}function gf(o,s,l,d,h){const f=Oe(),y=wd(f,o,s,l,d,h);return y!==Xt&&ja(f,Zi(),y),gf}const fu=void 0;var Sd=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sD(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ad={};function Ga(o){const s=function Br(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Xy(s);if(l)return l;const d=s.split("-")[0];if(l=Xy(d),l)return l;if("en"===d)return Sd;throw new ge(701,!1)}function vf(o){return Ga(o)[Mt.PluralCase]}function Xy(o){return o in Ad||(Ad[o]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[o]),Ad[o]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Wa="en-US";let Bm=Wa;function Rf(o,s,l,d,h){if(o=Y(o),Array.isArray(o))for(let f=0;f<o.length;f++)Rf(o[f],s,l,d,h);else{const f=on(),y=Oe();let w=js(o)?o:Y(o.provide),E=_0(o);const T=qn(),O=1048575&T.providerIndexes,B=T.directiveStart,K=T.providerIndexes>>20;if(js(o)||!o.multi){const ne=new ma(E,h,_d),be=Ld(w,s,h?O:O+K,B);-1===be?(wa(ss(T,y),f,w),Nd(f,o,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ne),y.push(ne)):(l[be]=ne,y[be]=ne)}else{const ne=Ld(w,s,O+K,B),be=Ld(w,s,O,O+K),Xe=be>=0&&l[be];if(h&&!Xe||!h&&!(ne>=0&&l[ne])){wa(ss(T,y),f,w);const dt=function sx(o,s,l,d,h){const f=new ma(o,l,_d);return f.multi=[],f.index=s,f.componentProviders=0,fv(f,h,d&&!l),f}(h?ox:vD,l.length,h,d,E);!h&&Xe&&(l[be].providerFactory=dt),Nd(f,o,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(dt),y.push(dt)}else Nd(f,o,ne>-1?ne:be,fv(l[h?be:ne],E,!h&&d));!h&&d&&Xe&&l[be].componentProviders++}}}function Nd(o,s,l,d){const h=js(s),f=function pd(o){return!!o.useClass}(s);if(h||f){const E=(f?Y(s.useClass):s).prototype.ngOnDestroy;if(E){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const O=T.indexOf(l);-1===O?T.push(l,[d,E]):T[O+1].push(d,E)}else T.push(l,E)}}}function fv(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function Ld(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function vD(o,s,l,d){return _u(this.multi,[])}function ox(o,s,l,d){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=vo(l,l[Je],this.providerFactory.index,d);f=w.slice(0,y),_u(h,f);for(let E=y;E<w.length;E++)f.push(w[E])}else f=[],_u(h,f);return f}function _u(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function pv(o,s=[]){return l=>{l.providersResolver=(d,h)=>function rx(o,s,l){const d=on();if(d.firstCreatePass){const h=Yr(o);Rf(l,d.data,d.blueprint,h,!0),Rf(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Ll{}class Ym{}function ax(o,s){return new gv(o,s??null)}class gv extends Ll{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dy(this);const d=Wi(s);this._bootstrapComponents=zs(d.bootstrap),this._r3Injector=sC(s,l,[{provide:Ll,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Qm extends Ym{constructor(s){super(),this.moduleType=s}create(s){return new gv(this.moduleType,s)}}class yu extends Ll{constructor(s,l,d){super(),this.componentFactoryResolver=new dy(this),this.instance=null;const h=new m0([...s,{provide:Ll,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],l||qp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Xm(o,s,l=null){return new yu(o,s,l).injector}let lx=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=d0(0,l.type),h=d.length>0?Xm([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=nt({token:o,providedIn:"environment",factory:()=>new o($e(Zc))}),o})();function _v(o){o.getStandaloneInjector=s=>s.get(lx).getOrCreateStandaloneInjector(o)}function Ka(o,s,l,d){return function Qe(o,s,l,d,h,f){const y=s+l;return Cr(o,y,h)?Hs(o,y+1,f?d.call(f,h):d(h)):kf(o,y+1)}(Oe(),ei(),o,s,l,d)}function tg(o,s,l,d,h){return de(Oe(),ei(),o,s,l,d,h)}function kf(o,s){const l=o[s];return l===Xt?void 0:l}function de(o,s,l,d,h,f,y){const w=s+l;return nu(o,w,h,f)?Hs(o,w+2,y?d.call(y,h,f):d(h,f)):kf(o,w+2)}function dx(o,s){const l=on();let d;const h=o+Ut;l.firstCreatePass?(d=function ID(o,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(o===d.name)return d}}(s,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const f=d.factory||(d.factory=br(d.type)),y=Qn(_d);try{const w=_o(!1),E=f();return _o(w),function bM(o,s,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),s[l]=d}(l,Oe(),h,E),E}finally{Qn(y)}}function hx(o,s,l,d){const h=o+Ut,f=Oe(),y=wr(f,h);return function Pf(o,s){return o[Je].data[s].pure}(f,h)?de(f,ei(),s,y.transform,l,d,y):y.transform(l,d)}function Bt(o){return s=>{setTimeout(o,void 0,s)}}const jr=class px extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,f=l||(()=>null),y=d;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),f=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(f=Bt(f),h&&(h=Bt(h)),y&&(y=Bt(y)));const w=super.subscribe({next:h,error:f,complete:y});return s instanceof z.w0&&s.add(w),w}};function mx(){return this._results[Symbol.iterator]()}class kn{get changes(){return this._changes||(this._changes=new jr)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=kn.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=mx)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=function Lr(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Pc(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],f=s[d];if(l&&(h=l(h),f=l(f)),f!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vt=(()=>{class o{}return o.__NG_ELEMENT_ID__=TD,o})();const Ff=vt,pn=class extends Ff{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tView,h=X_(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);h[Lo]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Jn];return null!==y&&(h[Jn]=y.createEmbeddedView(d)),$s(d,h,s),new vd(h)}};function TD(){return Bn(qn(),Oe())}function Bn(o,s){return 4&o.type?new pn(s,o,Kc(o,s)):null}let Ze=(()=>{class o{}return o.__NG_ELEMENT_ID__=ng,o})();function ng(){return _x(qn(),Oe())}const Iv=Ze,Vl=class extends Iv{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const s=as(this._hostTNode,this._hostLView);if(va(s)){const l=os(s,this._hostLView),d=_l(s);return new Yi(l[Je].data[d+8],l)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=gx(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(s,l,d){let h,f;"number"==typeof d?h=d:null!=d&&(h=d.index,f=d.injector);const y=s.createEmbeddedView(l||{},f);return this.insert(y,h),y}createComponent(s,l,d,h,f){const y=s&&!function ar(o){return"function"==typeof o}(s);let w;if(y)w=l;else{const B=l||{};w=B.index,d=B.injector,h=B.projectableNodes,f=B.environmentInjector||B.ngModuleRef}const E=y?s:new sf(cn(s)),T=d||this.parentInjector;if(!f&&null==E.ngModule){const K=(y?T:this.parentInjector).get(Zc,null);K&&(f=K)}const O=E.create(T,h,void 0,f);return this.insert(O.hostView,w),O}insert(s,l){const d=s._lView,h=d[Je];if(function ju(o){return pi(o[vn])}(d)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const B=d[vn],K=new Vl(B,B[Fn],B[vn]);K.detach(K.indexOf(s))}}const f=this._adjustIndex(l),y=this._lContainer;!function Np(o,s,l,d){const h=Ni+d,f=l.length;d>0&&(l[h-1][qi]=s),d<f-Ni?(s[qi]=l[h],Fc(l,Ni+d,s)):(l.push(s),s[qi]=null),s[vn]=l;const y=s[Lo];null!==y&&l!==y&&function Lp(o,s){const l=o[Vo];s[Fi]!==s[vn][vn][Fi]&&(o[Nu]=!0),null===l?o[Vo]=[s]:l.push(s)}(y,s);const w=s[Jn];null!==w&&w.insertView(o),s[qt]|=64}(h,d,y,f);const w=__(f,y),E=d[jt],T=Uh(E,y[po]);return null!==T&&function Pa(o,s,l,d,h,f){d[Wr]=h,d[Fn]=s,cd(o,d,l,1,h,f)}(h,y[Fn],E,d,T,w),s.attachToViewContainerRef(),Fc(Bd(y),f,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=gx(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=Dl(this._lContainer,l);d&&(ds(Bd(this._lContainer),l),Tl(d[Je],d))}detach(s){const l=this._adjustIndex(s,-1),d=Dl(this._lContainer,l);return d&&null!=ds(Bd(this._lContainer),l)?new vd(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function gx(o){return o[Zr]}function Bd(o){return o[Zr]||(o[Zr]=[])}function _x(o,s){let l;const d=s[o.index];if(pi(d))l=d;else{let h;if(8&o.type)h=Ln(d);else{const f=s[jt];h=f.createComment("");const y=mi(o,s);Sl(f,Uh(f,y),h,function Wb(o,s){return o.nextSibling(s)}(f,y),!1)}s[o.index]=l=Y0(d,s,h,o),sm(s,l)}return new Vl(l,o,s)}class vu{constructor(s){this.queryList=s,this.matches=null}clone(){return new vu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ig{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let f=0;f<d;f++){const y=l.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new ig(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==wx(s,l).matches&&this.queries[l].setDirty()}}class Cv{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class zr{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,f=this.getByIndex(d).embeddedTView(s,h);f&&(f.indexInDeclarationView=d,null!==l?l.push(f):l=[f])}return null!==l?new zr(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Nf{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Nf(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const f=d[h];this.matchTNodeWithReadOption(s,l,yx(l,f)),this.matchTNodeWithReadOption(s,l,xl(l,s,f,!1,!1))}else d===vt?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,xl(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===La||h===Ze||h===vt&&4&l.type)this.addMatch(l.index,-2);else{const f=xl(l,s,h,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function yx(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function Ul(o,s,l,d){return-1===l?function vx(o,s){return 11&o.type?Kc(o,s):4&o.type?Bn(o,s):null}(s,o):-2===l?function Dv(o,s,l){return l===La?Kc(s,o):l===vt?Bn(s,o):l===Ze?_x(s,o):void 0}(o,s,d):vo(o,o[Je],l,s)}function ce(o,s,l,d){const h=s[Jn].queries[d];if(null===h.matches){const f=o.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const T=y[E];w.push(T<0?null:Ul(s,f[T],y[E+1],l.metadata.read))}h.matches=w}return h.matches}function jd(o,s,l,d){const h=o.queries.getByIndex(l),f=h.matches;if(null!==f){const y=ce(o,s,h,l);for(let w=0;w<f.length;w+=2){const E=f[w];if(E>0)d.push(y[w/2]);else{const T=f[w+1],O=s[-E];for(let B=Ni;B<O.length;B++){const K=O[B];K[Lo]===K[vn]&&jd(K[Je],K,T,d)}if(null!==O[Vo]){const B=O[Vo];for(let K=0;K<B.length;K++){const ne=B[K];jd(ne[Je],ne,T,d)}}}}}return d}function Zo(o){const s=Oe(),l=on(),d=Gu();pl(d+1);const h=wx(l,d);if(o.dirty&&function hc(o){return 4==(4&o[qt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const f=h.crossesNgTemplate?jd(l,s,d,[]):ce(l,s,h,d);o.reset(f,w0),o.notifyOnChanges()}return!0}return!1}function bx(o,s,l){const d=on();d.firstCreatePass&&(Tv(d,new Cv(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),Bl(d,Oe(),s)}function zd(o,s,l,d){const h=on();if(h.firstCreatePass){const f=qn();Tv(h,new Cv(s,l,d),f.index),function Sv(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}Bl(h,Oe(),l)}function Ya(){return function SD(o,s){return o[Jn].queries[s].queryList}(Oe(),Gu())}function Bl(o,s,l){const d=new kn(4==(4&l));un(o,s,d,d.destroy),null===s[Jn]&&(s[Jn]=new ig),s[Jn].queries.push(new vu(d))}function Tv(o,s,l){null===o.queries&&(o.queries=new zr),o.queries.track(new Nf(s,l))}function wx(o,s){return o.queries.getByIndex(s)}function Ko(o){return!!Wi(o)}function ms(...o){}const Iu=new En("Application Initializer");let qd=(()=>{class o{constructor(l){this.appInits=l,this.resolve=ms,this.reject=ms,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(fw(f))l.push(f);else if(GC(f)){const y=new Promise((w,E)=>{f.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)($e(Iu,8))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const jl=new En("AppId",{providedIn:"root",factory:function dg(){return`${fg()}${fg()}${fg()}`}});function fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fv=new En("Platform Initializer"),pg=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nx=new En("AnimationModuleType");let UD=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Vf=new En("LocaleId",{providedIn:"root",factory:()=>it(Vf,ot.Optional|ot.SkipSelf)||function BD(){return typeof $localize<"u"&&$localize.locale||Wa}()}),Lx=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zl{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let Vx=(()=>{class o{compileModuleSync(l){return new Qm(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),f=zs(Wi(l).declarations).reduce((y,w)=>{const E=cn(w);return E&&y.push(new sf(E)),y},[]);return new zl(d,f)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Lv=(()=>Promise.resolve(0))();function Bf(o){typeof Zone>"u"?Lv.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ao{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Bx(){let o=Lt.requestAnimationFrame,s=Lt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function HD(o){const s=()=>{!function $D(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Lt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Vv(o),o.isCheckStableRunning=!0,gg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Vv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,f,y,w)=>{try{return Uv(o),l.invokeTask(h,f,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&s(),$x(o)}},onInvoke:(l,d,h,f,y,w,E)=>{try{return Uv(o),l.invoke(h,f,y,w,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),$x(o)}},onHasTask:(l,d,h,f)=>{l.hasTask(h,f),d===h&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,Vv(o),gg(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,d,h,f)=>(l.handleError(h,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new ge(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,zx,ms,ms);try{return f.runTask(y,l,d)}finally{f.cancelTask(y)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const zx={};function gg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Vv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Uv(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function $x(o){o._nesting--,gg(o)}class Hx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const Gx=new En(""),Wx=new En("");let Du,GD=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Du||(function Cu(o){Du=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),Bf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bf(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let f=-1;d&&d>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)($e(Ao),$e(_g),$e(Wx))},o.\u0275prov=nt({token:o,factory:o.\u0275fac}),o})(),_g=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Du?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Yo=!1;let gs=null;const Bv=new En("AllowMultipleToken"),yg=new En("PlatformDestroyListeners"),Qs=new En("appBootstrapListener");class jv{constructor(s,l){this.name=s,this.token=l}}function bg(o,s,l=[]){const d=`Platform: ${s}`,h=new En(d);return(f=[])=>{let y=zf();if(!y||y.injector.get(Bv,!1)){const w=[...l,...f,{provide:h,useValue:!0}];o?o(w):function vg(o){if(gs&&!gs.get(Bv,!1))throw new ge(400,!1);gs=o;const s=o.get(Kd);(function $l(o){const s=o.get(Fv,null);s&&s.forEach(l=>l())})(o)}(function Zd(o=[],s){return md.create({name:s,providers:[{provide:L_,useValue:"platform"},{provide:yg,useValue:new Set([()=>gs=null])},...o]})}(w,d))}return function wg(o){const s=zf();if(!s)throw new ge(401,!1);return s}()}}function zf(){return gs?.get(Kd)??null}let Kd=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function Hv(o,s){let l;return l="noop"===o?new Hx:("zone.js"===o?void 0:o)||new Ao(s),l}(d?.ngZone,function $v(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),f=[{provide:Ao,useValue:h}];return h.run(()=>{const y=md.create({providers:f,parent:this.injector,name:l.moduleType.name}),w=l.create(y),E=w.injector.get(Qh,null);if(!E)throw new ge(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:O=>{E.handleError(O)}});w.onDestroy(()=>{mr(this._modules,w),T.unsubscribe()})}),function Kx(o,s,l){try{const d=l();return fw(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(E,h,()=>{const T=w.injector.get(qd);return T.runInitializers(),T.donePromise.then(()=>(function jm(o){tt(o,"Expected localeId to be defined"),"string"==typeof o&&(Bm=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Vf,Wa)||Wa),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const h=Ja({},d);return function qx(o,s,l){const d=new Qm(l);return Promise.resolve(d)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(l){const d=l.injector.get(xg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ge(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(yg,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)($e(md))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ja(o,s){return Array.isArray(s)?s.reduce(Ja,o):{...o,...s}}let xg=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),Bf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(f,y.pipe((0,se.B)()))}bootstrap(l,d){const h=l instanceof v0;if(!this._injector.get(qd).done){!h&&or(l);throw new ge(405,Yo)}let y;y=h?l:this._injector.get(Rl).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function Zx(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Ll),T=y.create(md.NULL,[],d||y.selector,w),O=T.location.nativeElement,B=T.injector.get(Gx,null);return B?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),mr(this.components,T),B?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;mr(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(Qs,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>mr(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ge(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)($e(Ao),$e(Zc),$e(Qh))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function mr(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}function Yx(){return!1}function Xs(){}let ZD=(()=>{class o{}return o.__NG_ELEMENT_ID__=tn,o})();function tn(o){return function KD(o,s,l){if(rl(o)&&!l){const d=Di(o.index,s);return new vd(d,d)}return 47&o.type?new vd(s[Fi],s):null}(qn(),Oe(),16==(16&o))}class Yv{constructor(){}supports(s){return pm(s)}create(s){return new Hf(s)}}const eT=(o,s)=>s;class Hf{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||eT}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,f=null;for(;l||d;){const y=!d||l&&l.currentIndex<Js(d,h,f)?l:d,w=Js(y,h,f),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{f||(f=[]);const T=w-h,O=E-h;if(T!=O){for(let K=0;K<T;K++){const ne=K<f.length?f[K]:f[K]=0,be=ne+K;O<=be&&be<T&&(f[K]=ne+1)}f[y.previousIndex]=O-T}}w!==E&&s(y,w,E)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!pm(s))throw new ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],y=this._trackByFn(w,f),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,f,y,w)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,y,w),d=!0),l=l._next}else h=0,function NC(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,f,h)):s=this._addAfter(new tT(l,d),f,h),s}_verifyReinsertion(s,l,d,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Su),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Su),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class tT{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Su{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new eE,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Js(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class Qv{constructor(){}supports(s){return s instanceof Map||vy(s)}create(){return new tE}}class tE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||vy(s)))throw new ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const d=new nE(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class nE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Au(){return new Gf([new Yv])}let Gf=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Au()),deps:[[o,new Ta,new to]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new ge(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:Au}),o})();function Sg(){return new Wf([new Qv])}let Wf=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Sg()),deps:[[o,new Ta,new to]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new ge(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:Sg}),o})();const Pi=bg(null,"core",[]);let mn=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)($e(xg))},o.\u0275mod=nl({type:o}),o.\u0275inj=jn({}),o})();function rE(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ft,Ce,V)=>{V.d(Ce,{Z:()=>We});var u=V(2090),z=V(4859),P=V(9681),ie=V(1877);class se{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,P._addComponent)(ge,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ge,De=P._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ge);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Ie=Pe.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:De})}_removeServiceInstance(ge,De=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,P._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,P._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function pe(){const lt=function he(lt){const ge={},De={__esModule:!0,initializeApp:function Me(X,le={}){const ve=P.initializeApp(X,le);if((0,u.r3)(ge,ve.name))return ge[ve.name];const qe=new lt(ve,De);return ge[ve.name]=qe,qe},app:Pe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Te(X){const le=X.name,ve=le.replace("-compat","");if(P._registerComponent(X)&&"PUBLIC"===X.type){const qe=(He=Pe())=>{if("function"!=typeof He[ve])throw ye.create("invalid-app-argument",{appName:le});return He[ve]()};void 0!==X.serviceProps&&(0,u.ZB)(qe,X.serviceProps),De[ve]=qe,lt.prototype[ve]=function(...He){return this._getService.bind(this,le).apply(this,X.multipleInstances?He:[])}}return"PUBLIC"===X.type?De[ve]:null},removeApp:function Ie(X){delete ge[X]},useAsService:function Ge(X,le){return"serverAuth"===le?null:le},modularAPIs:P}};function Pe(X){if(!(0,u.r3)(ge,X=X||P._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:X});return ge[X]}return De.default=De,Object.defineProperty(De,"apps",{get:function Fe(){return Object.keys(ge).map(X=>ge[X])}}),Pe.App=lt,De}(se);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(De){(0,u.ZB)(lt,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),lt}(),W=new ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=G;!function Ae(lt){(0,P.registerVersion)("@firebase/app-compat","0.2.6",lt)}()},9681:(ft,Ce,V)=>{V.r(Ce),V.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>dn,_addOrOverwriteComponent:()=>wt,_apps:()=>tt,_clearComponents:()=>jn,_components:()=>Ye,_getProvider:()=>nt,_registerComponent:()=>pt,_removeServiceInstance:()=>an,deleteApp:()=>yr,getApp:()=>zn,getApps:()=>_r,initializeApp:()=>Gr,onLog:()=>ot,registerVersion:()=>hi,setLogLevel:()=>wi});var u=V(5861),z=V(4859),P=V(1877),ie=V(2090),se=V(8766);class re{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function ye($e){return"VERSION"===$e.getComponent()?.type}(it)){const xt=it.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(it=>it).join(" ")}}const he="@firebase/app",G=new P.Yd("@firebase/app"),Ue="[DEFAULT]",je={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Ye=new Map;function dn($e,Ee){try{$e.container.addComponent(Ee)}catch(it){G.debug(`Component ${Ee.name} failed to register with FirebaseApp ${$e.name}`,it)}}function wt($e,Ee){$e.container.addOrOverwriteComponent(Ee)}function pt($e){const Ee=$e.name;if(Ye.has(Ee))return G.debug(`There were multiple attempts to register component ${Ee}.`),!1;Ye.set(Ee,$e);for(const it of tt.values())dn(it,$e);return!0}function nt($e,Ee){const it=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),$e.container.getProvider(Ee)}function an($e,Ee,it=Ue){nt($e,Ee).clearInstance(it)}function jn(){Ye.clear()}const hn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class li{constructor(Ee,it,xt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw hn.create("app-deleted",{appName:this._name})}}const $i="9.19.0";function Gr($e,Ee={}){let it=$e;"object"!=typeof Ee&&(Ee={name:Ee});const xt=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Ee),Ot=xt.name;if("string"!=typeof Ot||!Ot)throw hn.create("bad-app-name",{appName:String(Ot)});if(it||(it=(0,ie.aH)()),!it)throw hn.create("no-options");const rn=tt.get(Ot);if(rn){if((0,ie.vZ)(it,rn.options)&&(0,ie.vZ)(xt,rn.config))return rn;throw hn.create("duplicate-app",{appName:Ot})}const Gn=new z.H0(Ot);for(const $ of Ye.values())Gn.addComponent($);const H=new li(it,xt,Gn);return tt.set(Ot,H),H}function zn($e=Ue){const Ee=tt.get($e);if(!Ee&&$e===Ue)return Gr();if(!Ee)throw hn.create("no-app",{appName:$e});return Ee}function _r(){return Array.from(tt.values())}function yr($e){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*($e){const Ee=$e.name;tt.has(Ee)&&(tt.delete(Ee),yield Promise.all($e.container.getProviders().map(it=>it.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function hi($e,Ee,it){var xt;let Ot=null!==(xt=je[$e])&&void 0!==xt?xt:$e;it&&(Ot+=`-${it}`);const rn=Ot.match(/\s|\//),Gn=Ee.match(/\s|\//);if(rn||Gn){const H=[`Unable to register library "${Ot}" with version "${Ee}":`];return rn&&H.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),rn&&Gn&&H.push("and"),Gn&&H.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void G.warn(H.join(" "))}pt(new z.wA(`${Ot}-version`,()=>({library:Ot,version:Ee}),"VERSION"))}function ot($e,Ee){if(null!==$e&&"function"!=typeof $e)throw hn.create("invalid-log-argument");(0,P.Am)($e,Ee)}function wi($e){(0,P.Ub)($e)}const xi="firebase-heartbeat-database",Qn=1,$n="firebase-heartbeat-store";let rr=null;function Lt(){return rr||(rr=(0,se.X3)(xi,Qn,{upgrade:($e,Ee)=>{0===Ee&&$e.createObjectStore($n)}}).catch($e=>{throw hn.create("idb-open",{originalErrorMessage:$e.message})})),rr}function Nt(){return(Nt=(0,u.Z)(function*($e){try{return(yield Lt()).transaction($n).objectStore($n).get(Xn($e))}catch(Ee){if(Ee instanceof ie.ZR)G.warn(Ee.message);else{const it=hn.create("idb-get",{originalErrorMessage:Ee?.message});G.warn(it.message)}}})).apply(this,arguments)}function Cn($e,Ee){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*($e,Ee){try{const xt=(yield Lt()).transaction($n,"readwrite");return yield xt.objectStore($n).put(Ee,Xn($e)),xt.done}catch(it){if(it instanceof ie.ZR)G.warn(it.message);else{const xt=hn.create("idb-set",{originalErrorMessage:it?.message});G.warn(xt.message)}}})).apply(this,arguments)}function Xn($e){return`${$e.name}!${$e.options.appId}`}class Ar{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new Jt(it),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Ee=this;return(0,u.Z)(function*(){const xt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Gt();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Ee._heartbeatsCache.heartbeats.some(rn=>rn.date===Ot))return Ee._heartbeatsCache.heartbeats.push({date:Ot,agent:xt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(rn=>{const Gn=new Date(rn.date).valueOf();return Date.now()-Gn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,u.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const it=Gt(),{heartbeatsToSend:xt,unsentEntries:Ot}=function Mr($e,Ee=1024){const it=[];let xt=$e.slice();for(const Ot of $e){const rn=it.find(Gn=>Gn.agent===Ot.agent);if(rn){if(rn.dates.push(Ot.date),Hi(it)>Ee){rn.dates.pop();break}}else if(it.push({agent:Ot.agent,dates:[Ot.date]}),Hi(it)>Ee){it.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:it,unsentEntries:xt}}(Ee._heartbeatsCache.heartbeats),rn=(0,ie.L)(JSON.stringify({version:2,heartbeats:xt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=it,Ot.length>0?(Ee._heartbeatsCache.heartbeats=Ot,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),rn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class Jt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,u.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function gt($e){return Nt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var it=this;return(0,u.Z)(function*(){var xt;if(yield it._canUseIndexedDBPromise){const rn=yield it.read();return Cn(it.app,{lastSentHeartbeatDate:null!==(xt=Ee.lastSentHeartbeatDate)&&void 0!==xt?xt:rn.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var it=this;return(0,u.Z)(function*(){var xt;if(yield it._canUseIndexedDBPromise){const rn=yield it.read();return Cn(it.app,{lastSentHeartbeatDate:null!==(xt=Ee.lastSentHeartbeatDate)&&void 0!==xt?xt:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Ee.heartbeats]})}})()}}function Hi($e){return(0,ie.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Hn($e){pt(new z.wA("platform-logger",Ee=>new re(Ee),"PRIVATE")),pt(new z.wA("heartbeat",Ee=>new Ar(Ee),"PRIVATE")),hi(he,"0.9.6",$e),hi(he,"0.9.6","esm2017"),hi("fire-js","")}("")},4859:(ft,Ce,V)=>{V.d(Ce,{H0:()=>he,wA:()=>P});var u=V(5861),z=V(2090);class P{constructor(G,W,Y){this.name=G,this.instanceFactory=W,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ie="[DEFAULT]";class se{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const Y=new z.BH;if(this.instancesDeferred.set(W,Y),this.isInitialized(W)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:W});ze&&Y.resolve(ze)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const Y=this.normalizeInstanceIdentifier(G?.identifier),ze=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ae){if(ze)return null;throw Ae}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ye(pe){return"EAGER"===pe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[W,Y]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(W);try{const Ae=this.getOrInitializeService({instanceIdentifier:ze});Y.resolve(Ae)}catch{}}}}clearInstance(G=ie){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...W.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ie){return this.instances.has(G)}getOptions(G=ie){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,Y=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Y,options:W});for(const[Ae,We]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ae)&&We.resolve(ze);return ze}onInit(G,W){var Y;const ze=this.normalizeInstanceIdentifier(W),Ae=null!==(Y=this.onInitCallbacks.get(ze))&&void 0!==Y?Y:new Set;Ae.add(G),this.onInitCallbacks.set(ze,Ae);const We=this.instances.get(ze);return We&&G(We,ze),()=>{Ae.delete(G)}}invokeOnInitCallbacks(G,W){const Y=this.onInitCallbacks.get(W);if(Y)for(const ze of Y)try{ze(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let Y=this.instances.get(G);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=G,pe===ie?void 0:pe),options:W}),this.instances.set(G,Y),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(Y,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Y)}catch{}var pe;return Y||null}normalizeInstanceIdentifier(G=ie){return this.component?this.component.multipleInstances?G:ie:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new se(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Ce,V)=>{V.d(Ce,{Am:()=>pe,Ub:()=>he,Yd:()=>ye,in:()=>z});const u=[];var z=(()=>{return(G=z||(z={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",z;var G})();const P={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ie=z.INFO,se={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},re=(G,W,...Y)=>{if(W<G.logLevel)return;const ze=(new Date).toISOString(),Ae=se[W];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ae](`[${ze}]  ${G.name}:`,...Y)};class ye{constructor(W){this.name=W,this._logLevel=ie,this._logHandler=re,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function he(G){u.forEach(W=>{W.setLogLevel(G)})}function pe(G,W){for(const Y of u){let ze=null;W&&W.level&&(ze=P[W.level]),Y.userLogHandler=null===G?null:(Ae,We,...lt)=>{const ge=lt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");We>=(ze??Ae.logLevel)&&G({level:z[We].toLowerCase(),message:ge,args:lt,type:Ae.name})}}}},259:(ft,Ce,V)=>{V.d(Ce,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=V(9681);(0,u.registerVersion)("firebase","9.19.0","app")},9260:(ft,Ce,V)=>{V.d(Ce,{Z:()=>u.Z});var u=V(3942);u.Z.registerVersion("firebase","9.19.0","app-compat")},9568:(ft,Ce,V)=>{V.r(Ce);var u=V(5861),z=V(3942),P=V(6452),ie=V(2090),ye=(V(9681),V(1877),V(4859));function he(){return window}const pe=2e3;function W(){return W=(0,u.Z)(function*(F,L,k){var J;const{BuildInfo:ue}=he();(0,P.ar)(L.sessionId,"AuthEvent did not contain a session ID");const st=yield function De(F){return Ie.apply(this,arguments)}(L.sessionId),Tt={};return(0,P.as)()?Tt.ibi=ue.packageName:(0,P.at)()?Tt.apn=ue.packageName:(0,P.au)(F,"operation-not-supported-in-this-environment"),ue.displayName&&(Tt.appDisplayName=ue.displayName),Tt.sessionId=st,(0,P.av)(F,k,L.type,void 0,null!==(J=L.eventId)&&void 0!==J?J:void 0,Tt)}),W.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(F){const{BuildInfo:L}=he(),k={};(0,P.as)()?k.iosBundleId=L.packageName:(0,P.at)()?k.androidPackageName=L.packageName:(0,P.au)(F,"operation-not-supported-in-this-environment"),yield(0,P.aw)(F,k)})).apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(F,L,k){const{cordova:J}=he();let ue=()=>{};try{yield new Promise((st,Tt)=>{let kt=null;function en(){var Wt;st();const Gi=null===(Wt=J.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof Gi&&Gi(),"function"==typeof k?.close&&k.close()}function St(){kt||(kt=window.setTimeout(()=>{Tt((0,P.ay)(F,"redirect-cancelled-by-user"))},pe))}function xn(){"visible"===document?.visibilityState&&St()}L.addPassiveListener(en),document.addEventListener("resume",St,!1),(0,P.at)()&&document.addEventListener("visibilitychange",xn,!1),ue=()=>{L.removePassiveListener(en),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",xn,!1),kt&&window.clearTimeout(kt)}})}finally{ue()}})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(F){const L=function Pe(F){if((0,P.ar)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const L=new ArrayBuffer(F.length),k=new Uint8Array(L);for(let J=0;J<F.length;J++)k[J]=F.charCodeAt(J);return k}(F),k=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(k)).map(ue=>ue.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Me=20;class Fe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(L)),super.onEvent(L)}initialized(){var L=this;return(0,u.Z)(function*(){yield L.initPromise})()}}function X(F){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(F){const L=yield He()._get(At(F));return L&&(yield He()._remove(At(F))),L})).apply(this,arguments)}function qe(){const F=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Me;k++){const J=Math.floor(Math.random()*L.length);F.push(L.charAt(J))}return F.join("")}function He(){return(0,P.aB)(P.b)}function At(F){return(0,P.aC)("authEvent",F.config.apiKey,F.name)}function fe(F){if(!F?.includes("?"))return{};const[L,...k]=F.split("?");return(0,ie.zd)(k.join("?"))}const Ue=class ke{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(L){var k=this;return(0,u.Z)(function*(){const J=L._key();let ue=k.eventManagers.get(J);return ue||(ue=new Fe(L),k.eventManagers.set(J,ue),k.attachCallbackListeners(L,ue)),ue})()}_openPopup(L){(0,P.au)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,k,J,ue){var st=this;return(0,u.Z)(function*(){!function ge(F){var L,k,J,ue,st,Tt,kt,en,St,xn;const Wt=he();(0,P.az)("function"==typeof(null===(L=Wt?.universalLinks)||void 0===L?void 0:L.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(k=Wt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(st=null===(ue=null===(J=Wt?.cordova)||void 0===J?void 0:J.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===st?void 0:st.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(en=null===(kt=null===(Tt=Wt?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===en?void 0:en.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(xn=null===(St=Wt?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===xn?void 0:xn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Tt=yield st._initialize(L);yield Tt.initialized(),Tt.resetRedirect(),(0,P.aF)(),yield st._originValidation(L);const kt=function Te(F,L,k=null){return{type:L,eventId:k,urlResponse:null,sessionId:qe(),postBody:null,tenantId:F.tenantId,error:(0,P.ay)(F,"no-auth-event")}}(L,J,ue);yield function Ge(F,L){return He()._set(At(F),L)}(L,kt);const en=yield function G(F,L,k){return W.apply(this,arguments)}(L,kt,k),St=yield function Ae(F){const{cordova:L}=he();return new Promise(k=>{L.plugins.browsertab.isAvailable(J=>{let ue=null;J?L.plugins.browsertab.openUrl(F):ue=L.InAppBrowser.open(F,(0,P.ax)()?"_blank":"_system","location=yes"),k(ue)})})}(en);return function We(F,L,k){return lt.apply(this,arguments)}(L,Tt,St)})()}_isIframeWebStorageSupported(L,k){throw new Error("Method not implemented.")}_originValidation(L){const k=L._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Y(F){return ze.apply(this,arguments)}(L)),this.originValidationPromises[k]}attachCallbackListeners(L,k){const{universalLinks:J,handleOpenURL:ue,BuildInfo:st}=he(),Tt=setTimeout((0,u.Z)(function*(){yield X(L),k.onEvent(je())}),500),kt=function(){var xn=(0,u.Z)(function*(Wt){clearTimeout(Tt);const Gi=yield X(L);let ec=null;Gi&&Wt?.url&&(ec=function ve(F,L){var k,J;const ue=function ae(F){const L=fe(F),k=L.link?decodeURIComponent(L.link):void 0,J=fe(k).link,ue=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return fe(ue).link||ue||J||k||F}(L);if(ue.includes("/__/auth/callback")){const st=fe(ue),Tt=st.firebaseError?function et(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,kt=null===(J=null===(k=Tt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===J?void 0:J[1],en=kt?(0,P.ay)(kt):null;return en?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:en,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:ue,postBody:null}}return null}(Gi,Wt.url)),k.onEvent(ec||je())});return function(Gi){return xn.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,kt);const en=ue,St=`${st.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var xn=(0,u.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(St)&&kt({url:Wt}),"function"==typeof en)try{en(Wt)}catch(Gi){console.error(Gi)}});return function(Wt){return xn.apply(this,arguments)}}()}};function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}const wt=1e3;function pt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function an(F=(0,ie.z$)()){return!("file:"!==pt()&&"ionic:"!==pt()&&"capacitor:"!==pt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function $i(){try{const F=self.localStorage,L=P.aK();if(F)return F.setItem(L,"1"),F.removeItem(L),!function li(F=(0,ie.z$)()){return function _n(){return(0,ie.w1)()&&11===document?.documentMode}()||function hn(F=(0,ie.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ie.hl)()}catch{return Gr()&&(0,ie.hl)()}return!1}function Gr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zn(){return(function nt(){return"http:"===pt()||"https:"===pt()}()||(0,ie.ru)()||an())&&!function jn(){return(0,ie.b$)()||(0,ie.UG)()}()&&$i()&&!Gr()}function _r(){return an()&&typeof document<"u"}function wn(){return(wn=(0,u.Z)(function*(){return!!_r()&&new Promise(F=>{const L=setTimeout(()=>{F(!1)},wt);document.addEventListener("deviceready",()=>{clearTimeout(L),F(!0)})})})).apply(this,arguments)}const ot={LOCAL:"local",NONE:"none",SESSION:"session"},wi=P.az,xi="persistence";function $n(F){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(F){yield F._initializationPromise;const L=gt(),k=P.aC(xi,F.config.apiKey,F.name);L&&L.setItem(k,F._getPersistence())})).apply(this,arguments)}function gt(){var F;try{return(null===(F=function hi(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Nt=P.az;class Cn{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB(Ue),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(L){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,k,J,ue){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(L,k,J,ue)})()}_openRedirect(L,k,J,ue){var st=this;return(0,u.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(L,k,J,ue)})()}_isIframeWebStorageSupported(L,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,k)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return _r()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,u.Z)(function*(){if(L.underlyingResolver)return;const k=yield function yr(){return wn.apply(this,arguments)}();L.underlyingResolver=k?L.cordovaResolver:L.browserResolver})()}}function Pn(F){return F.unwrap()}function Ei(F){return Ar(F)}function Ar(F){const{_tokenResponse:L}=F instanceof ie.ZR?F.customData:F;if(!L)return null;if(!(F instanceof ie.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return P.P.credentialFromResult(F);const k=L.providerId;if(!k||k===P.p.PASSWORD)return null;let J;switch(k){case P.p.GOOGLE:J=P.U;break;case P.p.FACEBOOK:J=P.Q;break;case P.p.GITHUB:J=P.V;break;case P.p.TWITTER:J=P.Y;break;default:const{oauthIdToken:ue,oauthAccessToken:st,oauthTokenSecret:Tt,pendingToken:kt,nonce:en}=L;return st||Tt||ue||kt?kt?k.startsWith("saml.")?P.aN._create(k,kt):P.K._fromParams({providerId:k,signInMethod:k,pendingToken:kt,idToken:ue,accessToken:st}):new P.W(k).credential({idToken:ue,accessToken:st,rawNonce:en}):null}return F instanceof ie.ZR?J.credentialFromError(F):J.credentialFromResult(F)}function Gt(F,L){return L.catch(k=>{throw k instanceof ie.ZR&&function ci(F,L){var k;const J=null===(k=L.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Hi(F,P.ap(F,L));else if(J){const ue=Ar(L),st=L;ue&&(st.credential=ue,st.tenantId=J.tenantId||void 0,st.email=J.email||void 0,st.phoneNumber=J.phoneNumber||void 0)}}(F,k),k}).then(k=>{const ue=k.user;return{operationType:k.operationType,credential:Ei(k),additionalUserInfo:P.an(k),user:Hn.getOrCreate(ue)}})}function Mr(F,L){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(F,L){const k=yield L;return{verificationId:k.verificationId,confirm:J=>Gt(F,k.confirm(J))}})).apply(this,arguments)}class Hi{constructor(L,k){this.resolver=k,this.auth=function Xn(F){return F.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Gt(Pn(this.auth),this.resolver.resolveSignIn(L))}}class Hn{constructor(L){this._delegate=L,this.multiFactor=P.aq(L)}static getOrCreate(L){return Hn.USER_MAP.has(L)||Hn.USER_MAP.set(L,new Hn(L)),Hn.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var k=this;return(0,u.Z)(function*(){return Gt(k.auth,P.$(k._delegate,L))})()}linkWithPhoneNumber(L,k){var J=this;return(0,u.Z)(function*(){return Mr(J.auth,P.l(J._delegate,L,k))})()}linkWithPopup(L){var k=this;return(0,u.Z)(function*(){return Gt(k.auth,P.d(k._delegate,L,Cn))})()}linkWithRedirect(L){var k=this;return(0,u.Z)(function*(){return yield $n(P.aG(k.auth)),P.g(k._delegate,L,Cn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var k=this;return(0,u.Z)(function*(){return Gt(k.auth,P.a0(k._delegate,L))})()}reauthenticateWithPhoneNumber(L,k){return Mr(this.auth,P.r(this._delegate,L,k))}reauthenticateWithPopup(L){return Gt(this.auth,P.e(this._delegate,L,Cn))}reauthenticateWithRedirect(L){var k=this;return(0,u.Z)(function*(){return yield $n(P.aG(k.auth)),P.h(k._delegate,L,Cn)})()}sendEmailVerification(L){return P.ad(this._delegate,L)}unlink(L){var k=this;return(0,u.Z)(function*(){return yield P.am(k._delegate,L),k})()}updateEmail(L){return P.ai(this._delegate,L)}updatePassword(L){return P.aj(this._delegate,L)}updatePhoneNumber(L){return P.u(this._delegate,L)}updateProfile(L){return P.ah(this._delegate,L)}verifyBeforeUpdateEmail(L,k){return P.ae(this._delegate,L,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const $e=P.az;let Ee=(()=>{class F{constructor(k,J){if(this.app=k,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ue}=k.options;$e(ue,"invalid-api-key",{appName:k.name}),$e(ue,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?Cn:void 0;this._delegate=J.initialize({options:{persistence:xt(ue,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,J){P.H(this._delegate,k,J)}applyActionCode(k){return P.a4(this._delegate,k)}checkActionCode(k){return P.a5(this._delegate,k)}confirmPasswordReset(k,J){return P.a3(this._delegate,k,J)}createUserWithEmailAndPassword(k,J){var ue=this;return(0,u.Z)(function*(){return Gt(ue._delegate,P.a7(ue._delegate,k,J))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return P.ac(this._delegate,k)}isSignInWithEmailLink(k){return P.aa(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){$e(zn(),k._delegate,"operation-not-supported-in-this-environment");const J=yield P.j(k._delegate,Cn);return J?Gt(k._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function tt(F,L){(0,P.aG)(F)._logFramework(L)}(this._delegate,k)}onAuthStateChanged(k,J,ue){const{next:st,error:Tt,complete:kt}=it(k,J,ue);return this._delegate.onAuthStateChanged(st,Tt,kt)}onIdTokenChanged(k,J,ue){const{next:st,error:Tt,complete:kt}=it(k,J,ue);return this._delegate.onIdTokenChanged(st,Tt,kt)}sendSignInLinkToEmail(k,J){return P.a9(this._delegate,k,J)}sendPasswordResetEmail(k,J){return P.a2(this._delegate,k,J||void 0)}setPersistence(k){var J=this;return(0,u.Z)(function*(){let ue;switch(function Qn(F,L){wi(Object.values(ot).includes(L),F,"invalid-persistence-type"),(0,ie.b$)()?wi(L!==ot.SESSION,F,"unsupported-persistence-type"):(0,ie.UG)()?wi(L===ot.NONE,F,"unsupported-persistence-type"):Gr()?wi(L===ot.NONE||L===ot.LOCAL&&(0,ie.hl)(),F,"unsupported-persistence-type"):wi(L===ot.NONE||$i(),F,"unsupported-persistence-type")}(J._delegate,k),k){case ot.SESSION:ue=P.a;break;case ot.LOCAL:ue=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case ot.NONE:ue=P.M;break;default:return P.au("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(ue)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Gt(this._delegate,P.Z(this._delegate))}signInWithCredential(k){return Gt(this._delegate,P._(this._delegate,k))}signInWithCustomToken(k){return Gt(this._delegate,P.a1(this._delegate,k))}signInWithEmailAndPassword(k,J){return Gt(this._delegate,P.a8(this._delegate,k,J))}signInWithEmailLink(k,J){return Gt(this._delegate,P.ab(this._delegate,k,J))}signInWithPhoneNumber(k,J){return Mr(this._delegate,P.s(this._delegate,k,J))}signInWithPopup(k){var J=this;return(0,u.Z)(function*(){return $e(zn(),J._delegate,"operation-not-supported-in-this-environment"),Gt(J._delegate,P.c(J._delegate,k,Cn))})()}signInWithRedirect(k){var J=this;return(0,u.Z)(function*(){return $e(zn(),J._delegate,"operation-not-supported-in-this-environment"),yield $n(J._delegate),P.f(J._delegate,k,Cn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return P.a6(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=ot,F})();function it(F,L,k){let J=F;"function"!=typeof F&&({next:J,error:L,complete:k}=F);const ue=J;return{next:Tt=>ue(Tt&&Hn.getOrCreate(Tt)),error:L,complete:k}}function xt(F,L){const k=function Lt(F,L){const k=gt();if(!k)return[];const J=P.aC(xi,F,L);switch(k.getItem(J)){case ot.NONE:return[P.M];case ot.LOCAL:return[P.i,P.a];case ot.SESSION:return[P.a];default:return[]}}(F,L);if(typeof self<"u"&&!k.includes(P.i)&&k.push(P.i),typeof window<"u")for(const J of[P.b,P.a])k.includes(J)||k.push(J);return k.includes(P.M)||k.push(P.M),k}class Ot{constructor(){this.providerId="phone",this._delegate=new P.P(Pn(z.Z.auth()))}static credential(L,k){return P.P.credential(L,k)}verifyPhoneNumber(L,k){return this._delegate.verifyPhoneNumber(L,k)}unwrap(){return this._delegate}}Ot.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ot.PROVIDER_ID=P.P.PROVIDER_ID;const rn=P.az;class Gn{constructor(L,k,J=z.Z.app()){var ue;rn(null===(ue=J.options)||void 0===ue?void 0:ue.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new P.R(L,k,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(F){F.INTERNAL.registerComponent(new ye.wA("auth-compat",L=>{const k=L.getProvider("app-compat").getImmediate(),J=L.getProvider("auth");return new Ee(k,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:Ot,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Gn,TwitterAuthProvider:P.Y,Auth:Ee,AuthCredential:P.I,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.3.6")}(z.Z)},8766:(ft,Ce,V)=>{V.d(Ce,{Lj:()=>Me,X3:()=>Pe});var u=V(5861);const z=(le,ve)=>ve.some(qe=>le instanceof qe);let P,ie;const ye=new WeakMap,he=new WeakMap,pe=new WeakMap,G=new WeakMap,W=new WeakMap;let Ae={get(le,ve,qe){if(le instanceof IDBTransaction){if("done"===ve)return he.get(le);if("objectStoreNames"===ve)return le.objectStoreNames||pe.get(le);if("store"===ve)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return De(le[ve])},set:(le,ve,qe)=>(le[ve]=qe,!0),has:(le,ve)=>le instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in le};function ge(le){return"function"==typeof le?function lt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ve){return le.apply(Ie(this),ve),De(ye.get(this))}:function(...ve){return De(le.apply(Ie(this),ve))}:function(ve,...qe){const He=le.call(Ie(this),ve,...qe);return pe.set(He,ve.sort?ve.sort():[ve]),De(He)}}(le):(le instanceof IDBTransaction&&function ze(le){if(he.has(le))return;const ve=new Promise((qe,He)=>{const At=()=>{le.removeEventListener("complete",et),le.removeEventListener("error",ae),le.removeEventListener("abort",ae)},et=()=>{qe(),At()},ae=()=>{He(le.error||new DOMException("AbortError","AbortError")),At()};le.addEventListener("complete",et),le.addEventListener("error",ae),le.addEventListener("abort",ae)});he.set(le,ve)}(le),z(le,function se(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Ae):le)}function De(le){if(le instanceof IDBRequest)return function Y(le){const ve=new Promise((qe,He)=>{const At=()=>{le.removeEventListener("success",et),le.removeEventListener("error",ae)},et=()=>{qe(De(le.result)),At()},ae=()=>{He(le.error),At()};le.addEventListener("success",et),le.addEventListener("error",ae)});return ve.then(qe=>{qe instanceof IDBCursor&&ye.set(qe,le)}).catch(()=>{}),W.set(ve,le),ve}(le);if(G.has(le))return G.get(le);const ve=ge(le);return ve!==le&&(G.set(le,ve),W.set(ve,le)),ve}const Ie=le=>W.get(le);function Pe(le,ve,{blocked:qe,upgrade:He,blocking:At,terminated:et}={}){const ae=indexedDB.open(le,ve),fe=De(ae);return He&&ae.addEventListener("upgradeneeded",we=>{He(De(ae.result),we.oldVersion,we.newVersion,De(ae.transaction))}),qe&&ae.addEventListener("blocked",()=>qe()),fe.then(we=>{et&&we.addEventListener("close",()=>et()),At&&we.addEventListener("versionchange",()=>At())}).catch(()=>{}),fe}function Me(le,{blocked:ve}={}){const qe=indexedDB.deleteDatabase(le);return ve&&qe.addEventListener("blocked",()=>ve()),De(qe).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Ge=new Map;function X(le,ve){if(!(le instanceof IDBDatabase)||ve in le||"string"!=typeof ve)return;if(Ge.get(ve))return Ge.get(ve);const qe=ve.replace(/FromIndex$/,""),He=ve!==qe,At=Te.includes(qe);if(!(qe in(He?IDBIndex:IDBObjectStore).prototype)||!At&&!Fe.includes(qe))return;const et=function(){var ae=(0,u.Z)(function*(fe,...we){const ke=this.transaction(fe,At?"readwrite":"readonly");let Ue=ke.store;return He&&(Ue=Ue.index(we.shift())),(yield Promise.all([Ue[qe](...we),At&&ke.done]))[0]});return function(we){return ae.apply(this,arguments)}}();return Ge.set(ve,et),et}!function We(le){Ae=le(Ae)}(le=>({...le,get:(ve,qe,He)=>X(ve,qe)||le.get(ve,qe,He),has:(ve,qe)=>!!X(ve,qe)||le.has(ve,qe)}))},5861:(ft,Ce,V)=>{function u(P,ie,se,re,ye,he,pe){try{var G=P[he](pe),W=G.value}catch(Y){return void se(Y)}G.done?ie(W):Promise.resolve(W).then(re,ye)}function z(P){return function(){var ie=this,se=arguments;return new Promise(function(re,ye){var he=P.apply(ie,se);function pe(W){u(he,re,ye,pe,G,"next",W)}function G(W){u(he,re,ye,pe,G,"throw",W)}pe(void 0)})}}V.d(Ce,{Z:()=>z})}},ft=>{ft(ft.s=3776)}]);